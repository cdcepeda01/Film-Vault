(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function wT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Im={exports:{}},Ql={};var m0;function vA(){if(m0)return Ql;m0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var p0;function EA(){return p0||(p0=1,Im.exports=vA()),Im.exports}var g=EA(),Dm={exports:{}},Ie={};var g0;function TA(){if(g0)return Ie;g0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function j(L){return L===null||typeof L!="object"?null:(L=x&&L[x]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,k={};function K(L,Z,fe){this.props=L,this.context=Z,this.refs=k,this.updater=fe||D}K.prototype.isReactComponent={},K.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},K.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function J(){}J.prototype=K.prototype;function ee(L,Z,fe){this.props=L,this.context=Z,this.refs=k,this.updater=fe||D}var me=ee.prototype=new J;me.constructor=ee,z(me,K.prototype),me.isPureReactComponent=!0;var ge=Array.isArray;function ue(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(L,Z,fe){var Y=fe.ref;return{$$typeof:i,type:L,key:Z,ref:Y!==void 0?Y:null,props:fe}}function N(L,Z){return C(L.type,Z,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function V(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return Z[fe]})}var A=/\/+/g;function se(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):Z.toString(36)}function he(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ue,ue):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function F(L,Z,fe,Y,ve){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var Ve=!1;if(L===null)Ve=!0;else switch(Re){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(L.$$typeof){case i:case e:Ve=!0;break;case E:return Ve=L._init,F(Ve(L._payload),Z,fe,Y,ve)}}if(Ve)return ve=ve(L),Ve=Y===""?"."+se(L,0):Y,ge(ve)?(fe="",Ve!=null&&(fe=Ve.replace(A,"$&/")+"/"),F(ve,Z,fe,"",function(Kn){return Kn})):ve!=null&&(O(ve)&&(ve=N(ve,fe+(ve.key==null||L&&L.key===ve.key?"":(""+ve.key).replace(A,"$&/")+"/")+Ve)),Z.push(ve)),1;Ve=0;var ne=Y===""?".":Y+":";if(ge(L))for(var Ue=0;Ue<L.length;Ue++)Y=L[Ue],Re=ne+se(Y,Ue),Ve+=F(Y,Z,fe,Re,ve);else if(Ue=j(L),typeof Ue=="function")for(L=Ue.call(L),Ue=0;!(Y=L.next()).done;)Y=Y.value,Re=ne+se(Y,Ue++),Ve+=F(Y,Z,fe,Re,ve);else if(Re==="object"){if(typeof L.then=="function")return F(he(L),Z,fe,Y,ve);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ae(L,Z,fe){if(L==null)return L;var Y=[],ve=0;return F(L,Y,"","",function(Re){return Z.call(fe,Re,ve++)}),Y}function ce(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var Se=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ae={map:ae,forEach:function(L,Z,fe){ae(L,function(){Z.apply(this,arguments)},fe)},count:function(L){var Z=0;return ae(L,function(){Z++}),Z},toArray:function(L){return ae(L,function(Z){return Z})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ie.Activity=b,Ie.Children=Ae,Ie.Component=K,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=ee,Ie.StrictMode=r,Ie.Suspense=y,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(L){return I.H.useMemoCache(L)}},Ie.cache=function(L){return function(){return L.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(L,Z,fe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Y=z({},L.props),ve=L.key;if(Z!=null)for(Re in Z.key!==void 0&&(ve=""+Z.key),Z)!R.call(Z,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Z.ref===void 0||(Y[Re]=Z[Re]);var Re=arguments.length-2;if(Re===1)Y.children=fe;else if(1<Re){for(var Ve=Array(Re),ne=0;ne<Re;ne++)Ve[ne]=arguments[ne+2];Y.children=Ve}return C(L.type,ve,Y)},Ie.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Ie.createElement=function(L,Z,fe){var Y,ve={},Re=null;if(Z!=null)for(Y in Z.key!==void 0&&(Re=""+Z.key),Z)R.call(Z,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ve[Y]=Z[Y]);var Ve=arguments.length-2;if(Ve===1)ve.children=fe;else if(1<Ve){for(var ne=Array(Ve),Ue=0;Ue<Ve;Ue++)ne[Ue]=arguments[Ue+2];ve.children=ne}if(L&&L.defaultProps)for(Y in Ve=L.defaultProps,Ve)ve[Y]===void 0&&(ve[Y]=Ve[Y]);return C(L,Re,ve)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(L){return{$$typeof:m,render:L}},Ie.isValidElement=O,Ie.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:ce}},Ie.memo=function(L,Z){return{$$typeof:p,type:L,compare:Z===void 0?null:Z}},Ie.startTransition=function(L){var Z=I.T,fe={};I.T=fe;try{var Y=L(),ve=I.S;ve!==null&&ve(fe,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ue,Se)}catch(Re){Se(Re)}finally{Z!==null&&fe.types!==null&&(Z.types=fe.types),I.T=Z}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(L){return I.H.use(L)},Ie.useActionState=function(L,Z,fe){return I.H.useActionState(L,Z,fe)},Ie.useCallback=function(L,Z){return I.H.useCallback(L,Z)},Ie.useContext=function(L){return I.H.useContext(L)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(L,Z){return I.H.useDeferredValue(L,Z)},Ie.useEffect=function(L,Z){return I.H.useEffect(L,Z)},Ie.useEffectEvent=function(L){return I.H.useEffectEvent(L)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(L,Z,fe){return I.H.useImperativeHandle(L,Z,fe)},Ie.useInsertionEffect=function(L,Z){return I.H.useInsertionEffect(L,Z)},Ie.useLayoutEffect=function(L,Z){return I.H.useLayoutEffect(L,Z)},Ie.useMemo=function(L,Z){return I.H.useMemo(L,Z)},Ie.useOptimistic=function(L,Z){return I.H.useOptimistic(L,Z)},Ie.useReducer=function(L,Z,fe){return I.H.useReducer(L,Z,fe)},Ie.useRef=function(L){return I.H.useRef(L)},Ie.useState=function(L){return I.H.useState(L)},Ie.useSyncExternalStore=function(L,Z,fe){return I.H.useSyncExternalStore(L,Z,fe)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.0",Ie}var y0;function jp(){return y0||(y0=1,Dm.exports=TA()),Dm.exports}var P=jp();const bA=wT(P);var Om={exports:{}},Kl={},Mm={exports:{}},jm={};var _0;function SA(){return _0||(_0=1,(function(i){function e(F,ae){var ce=F.length;F.push(ae);e:for(;0<ce;){var Se=ce-1>>>1,Ae=F[Se];if(0<o(Ae,ae))F[Se]=ae,F[ce]=Ae,ce=Se;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ae=F[0],ce=F.pop();if(ce!==ae){F[0]=ce;e:for(var Se=0,Ae=F.length,L=Ae>>>1;Se<L;){var Z=2*(Se+1)-1,fe=F[Z],Y=Z+1,ve=F[Y];if(0>o(fe,ce))Y<Ae&&0>o(ve,fe)?(F[Se]=ve,F[Y]=ce,Se=Y):(F[Se]=fe,F[Z]=ce,Se=Z);else if(Y<Ae&&0>o(ve,ce))F[Se]=ve,F[Y]=ce,Se=Y;else break e}}return ae}function o(F,ae){var ce=F.sortIndex-ae.sortIndex;return ce!==0?ce:F.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();i.unstable_now=function(){return u.now()-m}}var y=[],p=[],E=1,b=null,x=3,j=!1,D=!1,z=!1,k=!1,K=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function me(F){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=F)r(p),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(p)}}function ge(F){if(z=!1,me(F),!D)if(n(y)!==null)D=!0,ue||(ue=!0,V());else{var ae=n(p);ae!==null&&he(ge,ae.startTime-F)}}var ue=!1,I=-1,R=5,C=-1;function N(){return k?!0:!(i.unstable_now()-C<R)}function O(){if(k=!1,ue){var F=i.unstable_now();C=F;var ae=!0;try{e:{D=!1,z&&(z=!1,J(I),I=-1),j=!0;var ce=x;try{t:{for(me(F),b=n(y);b!==null&&!(b.expirationTime>F&&N());){var Se=b.callback;if(typeof Se=="function"){b.callback=null,x=b.priorityLevel;var Ae=Se(b.expirationTime<=F);if(F=i.unstable_now(),typeof Ae=="function"){b.callback=Ae,me(F),ae=!0;break t}b===n(y)&&r(y),me(F)}else r(y);b=n(y)}if(b!==null)ae=!0;else{var L=n(p);L!==null&&he(ge,L.startTime-F),ae=!1}}break e}finally{b=null,x=ce,j=!1}ae=void 0}}finally{ae?V():ue=!1}}}var V;if(typeof ee=="function")V=function(){ee(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,se=A.port2;A.port1.onmessage=O,V=function(){se.postMessage(null)}}else V=function(){K(O,0)};function he(F,ae){I=K(function(){F(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(F){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var ce=x;x=ae;try{return F()}finally{x=ce}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ce=x;x=F;try{return ae()}finally{x=ce}},i.unstable_scheduleCallback=function(F,ae,ce){var Se=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Se+ce:Se):ce=Se,F){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ce+Ae,F={id:E++,callback:ae,priorityLevel:F,startTime:ce,expirationTime:Ae,sortIndex:-1},ce>Se?(F.sortIndex=ce,e(p,F),n(y)===null&&F===n(p)&&(z?(J(I),I=-1):z=!0,he(ge,ce-Se))):(F.sortIndex=Ae,e(y,F),D||j||(D=!0,ue||(ue=!0,V()))),F},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(F){var ae=x;return function(){var ce=x;x=ae;try{return F.apply(this,arguments)}finally{x=ce}}}})(jm)),jm}var v0;function wA(){return v0||(v0=1,Mm.exports=SA()),Mm.exports}var Vm={exports:{}},Zt={};var E0;function AA(){if(E0)return Zt;E0=1;var i=jp();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:p,implementation:E}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(y,p,null,E)},Zt.flushSync=function(y){var p=u.T,E=r.p;try{if(u.T=null,r.p=2,y)return y()}finally{u.T=p,r.p=E,r.d.f()}},Zt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},Zt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Zt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:j}):E==="script"&&r.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Zt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},Zt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);r.d.L(y,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Zt.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=m(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},Zt.requestFormReset=function(y){r.d.r(y)},Zt.unstable_batchedUpdates=function(y,p){return y(p)},Zt.useFormState=function(y,p,E){return u.H.useFormState(y,p,E)},Zt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var T0;function xA(){if(T0)return Vm.exports;T0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vm.exports=AA(),Vm.exports}var b0;function RA(){if(b0)return Kl;b0=1;var i=wA(),e=jp(),n=xA();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function u(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function p(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return y(f),t;if(d===l)return y(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,l=d;break}if(S===l){v=!0,l=f,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=f;break}if(S===l){v=!0,l=d,a=f;break}S=S.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function E(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=E(t),s!==null)return s;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case K:return"Profiler";case k:return"StrictMode";case ge:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case ee:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case me:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return s=t.displayName||null,s!==null?s:se(t.type)||"Memo";case R:s=t._payload,t=t._init;try{return se(t(s))}catch{}}return null}var he=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Se=[],Ae=-1;function L(t){return{current:t}}function Z(t){0>Ae||(t.current=Se[Ae],Se[Ae]=null,Ae--)}function fe(t,s){Ae++,Se[Ae]=t.current,t.current=s}var Y=L(null),ve=L(null),Re=L(null),Ve=L(null);function ne(t,s){switch(fe(Re,s),fe(ve,t),fe(Y,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Pv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Pv(s),t=Lv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(Y),fe(Y,t)}function Ue(){Z(Y),Z(ve),Z(Re)}function Kn(t){t.memoizedState!==null&&fe(Ve,t);var s=Y.current,a=Lv(s,t.type);s!==a&&(fe(ve,t),fe(Y,a))}function Xn(t){ve.current===t&&(Z(Y),Z(ve)),Ve.current===t&&(Z(Ve),ql._currentValue=ce)}var Wi,Sa;function gi(t){if(Wi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Wi=s&&s[1]||"",Sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+t+Sa}var qo=!1;function Rr(t,s){if(!t||qo)return"";qo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var Q=W}Reflect.construct(t,[],re)}else{try{re.call()}catch(W){Q=W}t.call(re.prototype)}}else{try{throw Error()}catch(W){Q=W}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var M=v.split(`
`),G=S.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===G.length)for(l=M.length-1,f=G.length-1;1<=l&&0<=f&&M[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==G[f]){var te=`
`+M[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=f);break}}}finally{qo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gi(a):""}function Ho(t,s){switch(t.tag){case 26:case 27:case 5:return gi(t.type);case 16:return gi("Lazy");case 13:return t.child!==s&&s!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Rr(t.type,!1);case 11:return Rr(t.type.render,!1);case 1:return Rr(t.type,!0);case 31:return gi("Activity");default:return""}}function Go(t){try{var s="",a=null;do s+=Ho(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,Rs=i.unstable_cancelCallback,Of=i.unstable_shouldYield,kc=i.unstable_requestPaint,an=i.unstable_now,Nr=i.unstable_getCurrentPriorityLevel,Yo=i.unstable_ImmediatePriority,Qo=i.unstable_UserBlockingPriority,Ns=i.unstable_NormalPriority,Mf=i.unstable_LowPriority,Pc=i.unstable_IdlePriority,Lc=i.log,Uc=i.unstable_setDisableYieldValue,$n=null,qt=null;function In(t){if(typeof Lc=="function"&&Uc(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode($n,t)}catch{}}var gt=Math.clz32?Math.clz32:Bc,zc=Math.log,wa=Math.LN2;function Bc(t){return t>>>=0,t===0?32:31-(zc(t)/wa|0)|0}var yi=256,Cr=262144,St=4194304;function _i(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=_i(l):(v&=S,v!==0?f=_i(v):a||(a=S&~t,a!==0&&(f=_i(a))))):(S=l&~d,S!==0?f=_i(S):v!==0?f=_i(v):a||(a=l&~t,a!==0&&(f=_i(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Wn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function jf(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fc(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function Ei(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Ir(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vf(t,s,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,M=t.expirationTimes,G=t.hiddenUpdates;for(a=v&~a;0<a;){var te=31-gt(a),re=1<<te;S[te]=0,M[te]=-1;var Q=G[te];if(Q!==null)for(G[te]=null,te=0;te<Q.length;te++){var W=Q[te];W!==null&&(W.lane&=-536870913)}a&=~re}l!==0&&Dr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~s))}function Dr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-gt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ko(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function Xo(t,s){var a=s&-s;return a=(a&42)!==0?1:Or(a),(a&(t.suspendedLanes|s))!==0?0:a}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qc(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:o0(t.type))}function Jn(t,s){var a=ae.p;try{return ae.p=t,s()}finally{ae.p=a}}var Zn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Zn,Lt="__reactProps$"+Zn,Ti="__reactContainer$"+Zn,Aa="__reactEvents$"+Zn,kf="__reactListeners$"+Zn,Hc="__reactHandles$"+Zn,Gc="__reactResources$"+Zn,bi="__reactMarker$"+Zn;function xa(t){delete t[wt],delete t[Lt],delete t[Aa],delete t[kf],delete t[Hc]}function Si(t){var s=t[wt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ti]||a[wt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Gv(t);t!==null;){if(a=t[wt])return a;t=Gv(t)}return s}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[wt]||t[Ti]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function En(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function wi(t){var s=t[Gc];return s||(s=t[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(t){t[bi]=!0}var $o=new Set,Wo={};function Ai(t,s){xi(t,s),xi(t+"Capture",s)}function xi(t,s){for(Wo[t]=s,t=0;t<s.length;t++)$o.add(s[t])}var Jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},el={};function Yc(t){return bt.call(el,t)?!0:bt.call(Zo,t)?!1:Jo.test(t)?el[t]=!0:(Zo[t]=!0,!1)}function Ra(t,s,a){if(Yc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Tn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function xt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cs(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tl(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Je(t){if(!t._valueTracker){var s=Cs(t)?"checked":"value";t._valueTracker=tl(t,s,""+t[s])}}function Mr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Cs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function un(t){return t.replace(jr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Na(t,s,a,l,f,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ut(s)):t.value!==""+Ut(s)&&(t.value=""+Ut(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?nl(t,v,Ut(s)):a!=null?nl(t,v,Ut(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ut(S):t.removeAttribute("name")}function Qc(t,s,a,l,f,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Je(t);return}a=a!=null?""+Ut(a):"",s=s!=null?""+Ut(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Je(t)}function nl(t,s,a){s==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Is(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Kc(t,s,a){if(s!=null&&(s=""+Ut(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ut(a):""}function Ds(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(he(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Ut(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Je(t)}function hn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Xc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function sl(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&il(t,f,l)}else for(var d in s)s.hasOwnProperty(d)&&il(t,d,s[d])}function Ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var rl=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ni=null;function Vr(t){var s=Dn(t);if(s&&(t=s.stateNode)){var a=t[Lt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Na(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(r(90));Na(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Mr(l)}break e;case"textarea":Kc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Is(t,!!a.multiple,s,!1)}}}var Da=!1;function js(t,s,a){if(Da)return t(s,a);Da=!0;try{var l=t(s);return l}finally{if(Da=!1,(Ms!==null||Ni!==null)&&(qu(),Ms&&(s=Ms,t=Ni,Ni=Ms=null,Vr(s),t)))for(s=0;s<t.length;s++)Vr(t[s])}}function ti(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Mn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){kr=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{kr=!1}var Ci=null,al=null,Pr=null;function ol(){if(Pr)return Pr;var t,s=al,a=s.length,l,f="value"in Ci?Ci.value:Ci.textContent,d=f.length;for(t=0;t<a&&s[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return Pr=f.slice(t,1<l?1-l:void 0)}function Lr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function ni(){return!1}function Ht(t){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zi:ni,this.isPropagationStopped=ni,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),s}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ht(es),Vs=b({},es,{view:0,detail:0}),ll=Ht(Vs),ks,Oa,Di,Ma=b({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(ks=t.screenX-Di.screenX,Oa=t.screenY-Di.screenY):Oa=ks=0,Di=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),cl=Ht(Ma),Ur=b({},Ma,{dataTransfer:0}),Wc=Ht(Ur),Jc=b({},Vs,{relatedTarget:0}),zr=Ht(Jc),ul=b({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),Zc=Ht(ul),ja=b({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eu=Ht(ja),tu=b({},es,{data:0}),Oi=Ht(tu),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=su[t])?!!s[t]:!1}function Ps(){return ru}var on=b({},Vs,{key:function(t){if(t.key){var s=nu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),au=Ht(on),ou=b({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Ht(ou),h=b({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),_=Ht(h),T=b({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(T),q=b({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Ht(q),de=b({},es,{newState:0,oldState:0}),Oe=Ht(de),yt=[9,13,27,32],Xe=Mn&&"CompositionEvent"in window,ut=null;Mn&&"documentMode"in document&&(ut=document.documentMode);var jn=Mn&&"TextEvent"in window&&!ut,Mi=Mn&&(!Xe||ut&&8<ut&&11>=ut),ii=" ",si=!1;function Br(t,s){switch(t){case"keyup":return yt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ka=!1;function qS(t,s){switch(t){case"compositionend":return Va(s);case"keypress":return s.which!==32?null:(si=!0,ii);case"textInput":return t=s.data,t===ii&&si?null:t;default:return null}}function HS(t,s){if(ka)return t==="compositionend"||!Xe&&Br(t,s)?(t=ol(),Pr=al=Ci=null,ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mi&&s.locale!=="ko"?null:s.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!GS[t.type]:s==="textarea"}function Xg(t,s,a,l){Ms?Ni?Ni.push(l):Ni=[l]:Ms=l,s=$u(s,"onChange"),0<s.length&&(a=new Ii("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var hl=null,fl=null;function YS(t){Dv(t,0)}function lu(t){var s=En(t);if(Mr(s))return t}function $g(t,s){if(t==="change")return s}var Wg=!1;if(Mn){var Pf;if(Mn){var Lf="oninput"in document;if(!Lf){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),Lf=typeof Jg.oninput=="function"}Pf=Lf}else Pf=!1;Wg=Pf&&(!document.documentMode||9<document.documentMode)}function Zg(){hl&&(hl.detachEvent("onpropertychange",ey),fl=hl=null)}function ey(t){if(t.propertyName==="value"&&lu(fl)){var s=[];Xg(s,fl,t,On(t)),js(YS,s)}}function QS(t,s,a){t==="focusin"?(Zg(),hl=s,fl=a,hl.attachEvent("onpropertychange",ey)):t==="focusout"&&Zg()}function KS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(fl)}function XS(t,s){if(t==="click")return lu(s)}function $S(t,s){if(t==="input"||t==="change")return lu(s)}function WS(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var bn=typeof Object.is=="function"?Object.is:WS;function dl(t,s){if(bn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(s,f)||!bn(t[f],s[f]))return!1}return!0}function ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ny(t,s){var a=ty(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ty(a)}}function iy(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?iy(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function sy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ri(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ri(t.document)}return s}function Uf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var JS=Mn&&"documentMode"in document&&11>=document.documentMode,Pa=null,zf=null,ml=null,Bf=!1;function ry(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bf||Pa==null||Pa!==Ri(l)||(l=Pa,"selectionStart"in l&&Uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=$u(zf,"onSelect"),0<l.length&&(s=new Ii("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Pa)))}function Fr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var La={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Ff={},ay={};Mn&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function qr(t){if(Ff[t])return Ff[t];if(!La[t])return t;var s=La[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in ay)return Ff[t]=s[a];return t}var oy=qr("animationend"),ly=qr("animationiteration"),cy=qr("animationstart"),ZS=qr("transitionrun"),ew=qr("transitionstart"),tw=qr("transitioncancel"),uy=qr("transitionend"),hy=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function ri(t,s){hy.set(t,s),Ai(s,[t])}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Ua=0,Hf=0;function uu(){for(var t=Ua,s=Hf=Ua=0;s<t;){var a=Vn[s];Vn[s++]=null;var l=Vn[s];Vn[s++]=null;var f=Vn[s];Vn[s++]=null;var d=Vn[s];if(Vn[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&fy(a,f,d)}}function hu(t,s,a,l){Vn[Ua++]=t,Vn[Ua++]=s,Vn[Ua++]=a,Vn[Ua++]=l,Hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gf(t,s,a,l){return hu(t,s,a,l),fu(t)}function Hr(t,s){return hu(t,null,null,s),fu(t)}function fy(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&s!==null&&(f=31-gt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function fu(t){if(50<kl)throw kl=0,em=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var za={};function nw(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,s,a,l){return new nw(t,s,a,l)}function Yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,s){var a=t.alternate;return a===null?(a=Sn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function du(t,s,a,l,f,d){var v=0;if(l=t,typeof t=="function")Yf(t)&&(v=1);else if(typeof t=="string")v=oA(t,a,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Sn(31,a,s,f),t.elementType=C,t.lanes=d,t;case z:return Gr(a.children,f,d,s);case k:v=8,f|=24;break;case K:return t=Sn(12,a,s,f|2),t.elementType=K,t.lanes=d,t;case ge:return t=Sn(13,a,s,f),t.elementType=ge,t.lanes=d,t;case ue:return t=Sn(19,a,s,f),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:v=10;break e;case J:v=9;break e;case me:v=11;break e;case I:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=Sn(v,a,s,f),s.elementType=t,s.type=l,s.lanes=d,s}function Gr(t,s,a,l){return t=Sn(7,t,l,s),t.lanes=a,t}function Qf(t,s,a){return t=Sn(6,t,null,s),t.lanes=a,t}function my(t){var s=Sn(18,null,null,0);return s.stateNode=t,s}function Kf(t,s,a){return s=Sn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var py=new WeakMap;function kn(t,s){if(typeof t=="object"&&t!==null){var a=py.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Go(s)},py.set(t,s),s)}return{value:t,source:s,stack:Go(s)}}var Ba=[],Fa=0,mu=null,pl=0,Pn=[],Ln=0,Ls=null,ji=1,Vi="";function is(t,s){Ba[Fa++]=pl,Ba[Fa++]=mu,mu=t,pl=s}function gy(t,s,a){Pn[Ln++]=ji,Pn[Ln++]=Vi,Pn[Ln++]=Ls,Ls=t;var l=ji;t=Vi;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,ji=1<<32-gt(s)+f|a<<f|l,Vi=d+t}else ji=1<<d|a<<f|l,Vi=t}function Xf(t){t.return!==null&&(is(t,1),gy(t,1,0))}function $f(t){for(;t===mu;)mu=Ba[--Fa],Ba[Fa]=null,pl=Ba[--Fa],Ba[Fa]=null;for(;t===Ls;)Ls=Pn[--Ln],Pn[Ln]=null,Vi=Pn[--Ln],Pn[Ln]=null,ji=Pn[--Ln],Pn[Ln]=null}function yy(t,s){Pn[Ln++]=ji,Pn[Ln++]=Vi,Pn[Ln++]=Ls,ji=s.id,Vi=s.overflow,Ls=t}var Gt=null,lt=null,Ge=!1,Us=null,Un=!1,Wf=Error(r(519));function zs(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(kn(s,t)),Wf}function _y(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[wt]=t,s[Lt]=l,a){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Le(Ll[a],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),Qc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),Ds(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Vv(s.textContent,a)?(l.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),l.onScroll!=null&&Le("scroll",s),l.onScrollEnd!=null&&Le("scrollend",s),l.onClick!=null&&(s.onclick=ei),s=!0):s=!1,s||zs(t,!0)}function vy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Gt=Gt.return}}function qa(t){if(t!==Gt)return!1;if(!Ge)return vy(t),Ge=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pm(t.type,t.memoizedProps)),a=!a),a&&lt&&zs(t),vy(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));lt=Hv(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));lt=Hv(t)}else s===27?(s=lt,er(t.type)?(t=Em,Em=null,lt=t):lt=s):lt=Gt?Bn(t.stateNode.nextSibling):null;return!0}function Yr(){lt=Gt=null,Ge=!1}function Jf(){var t=Us;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Us=null),t}function gl(t){Us===null?Us=[t]:Us.push(t)}var Zf=L(null),Qr=null,ss=null;function Bs(t,s,a){fe(Zf,s._currentValue),s._currentValue=a}function rs(t){t._currentValue=Zf.current,Z(Zf)}function ed(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function td(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var M=0;M<s.length;M++)if(S.context===s[M]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),ed(d.return,a,t),l||(v=null);break e}d=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ed(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ha(t,s,a,l){t=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var S=f.type;bn(f.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(f===Ve.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}f=f.return}t!==null&&td(s,t,a,l),s.flags|=262144}function pu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Qr=t,ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Ey(Qr,t)}function gu(t,s){return Qr===null&&Kr(t),Ey(t,s)}function Ey(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ss===null){if(t===null)throw Error(r(308));ss=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ss=ss.next=s;return a}var iw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},sw=i.unstable_scheduleCallback,rw=i.unstable_NormalPriority,Rt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new iw,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&sw(rw,function(){t.controller.abort()})}var _l=null,id=0,Ga=0,Ya=null;function aw(t,s){if(_l===null){var a=_l=[];id=0,Ga=am(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return id++,s.then(Ty,Ty),s}function Ty(){if(--id===0&&_l!==null){Ya!==null&&(Ya.status="fulfilled");var t=_l;_l=null,Ga=0,Ya=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function ow(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var by=F.S;F.S=function(t,s){rv=an(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&aw(t,s),by!==null&&by(t,s)};var Xr=L(null);function sd(){var t=Xr.current;return t!==null?t:rt.pooledCache}function yu(t,s){s===null?fe(Xr,Xr.current):fe(Xr,s.pool)}function Sy(){var t=sd();return t===null?null:{parent:Rt._currentValue,pool:t}}var Qa=Error(r(460)),rd=Error(r(474)),_u=Error(r(542)),vu={then:function(){}};function wy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ay(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ei,ei),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ry(t),t;default:if(typeof s.status=="string")s.then(ei,ei);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ry(t),t}throw Wr=s,Qa}}function $r(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wr=a,Qa):a}}var Wr=null;function xy(){if(Wr===null)throw Error(r(459));var t=Wr;return Wr=null,t}function Ry(t){if(t===Qa||t===_u)throw Error(r(483))}var Ka=null,vl=0;function Eu(t){var s=vl;return vl+=1,Ka===null&&(Ka=[]),Ay(Ka,t,s)}function El(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Tu(t,s){throw s.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Ny(t){function s(B,U){if(t){var H=B.deletions;H===null?(B.deletions=[U],B.flags|=16):H.push(U)}}function a(B,U){if(!t)return null;for(;U!==null;)s(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function f(B,U){return B=ns(B,U),B.index=0,B.sibling=null,B}function d(B,U,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<U?(B.flags|=67108866,U):H):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function v(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function S(B,U,H,ie){return U===null||U.tag!==6?(U=Qf(H,B.mode,ie),U.return=B,U):(U=f(U,H),U.return=B,U)}function M(B,U,H,ie){var Te=H.type;return Te===z?te(B,U,H.props.children,ie,H.key):U!==null&&(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===R&&$r(Te)===U.type)?(U=f(U,H.props),El(U,H),U.return=B,U):(U=du(H.type,H.key,H.props,null,B.mode,ie),El(U,H),U.return=B,U)}function G(B,U,H,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Kf(H,B.mode,ie),U.return=B,U):(U=f(U,H.children||[]),U.return=B,U)}function te(B,U,H,ie,Te){return U===null||U.tag!==7?(U=Gr(H,B.mode,ie,Te),U.return=B,U):(U=f(U,H),U.return=B,U)}function re(B,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Qf(""+U,B.mode,H),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return H=du(U.type,U.key,U.props,null,B.mode,H),El(H,U),H.return=B,H;case D:return U=Kf(U,B.mode,H),U.return=B,U;case R:return U=$r(U),re(B,U,H)}if(he(U)||V(U))return U=Gr(U,B.mode,H,null),U.return=B,U;if(typeof U.then=="function")return re(B,Eu(U),H);if(U.$$typeof===ee)return re(B,gu(B,U),H);Tu(B,U)}return null}function Q(B,U,H,ie){var Te=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:S(B,U,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return H.key===Te?M(B,U,H,ie):null;case D:return H.key===Te?G(B,U,H,ie):null;case R:return H=$r(H),Q(B,U,H,ie)}if(he(H)||V(H))return Te!==null?null:te(B,U,H,ie,null);if(typeof H.then=="function")return Q(B,U,Eu(H),ie);if(H.$$typeof===ee)return Q(B,U,gu(B,H),ie);Tu(B,H)}return null}function W(B,U,H,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get(H)||null,S(U,B,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:return B=B.get(ie.key===null?H:ie.key)||null,M(U,B,ie,Te);case D:return B=B.get(ie.key===null?H:ie.key)||null,G(U,B,ie,Te);case R:return ie=$r(ie),W(B,U,H,ie,Te)}if(he(ie)||V(ie))return B=B.get(H)||null,te(U,B,ie,Te,null);if(typeof ie.then=="function")return W(B,U,H,Eu(ie),Te);if(ie.$$typeof===ee)return W(B,U,H,gu(U,ie),Te);Tu(U,ie)}return null}function _e(B,U,H,ie){for(var Te=null,Qe=null,Ee=U,ke=U=0,Be=null;Ee!==null&&ke<H.length;ke++){Ee.index>ke?(Be=Ee,Ee=null):Be=Ee.sibling;var Ke=Q(B,Ee,H[ke],ie);if(Ke===null){Ee===null&&(Ee=Be);break}t&&Ee&&Ke.alternate===null&&s(B,Ee),U=d(Ke,U,ke),Qe===null?Te=Ke:Qe.sibling=Ke,Qe=Ke,Ee=Be}if(ke===H.length)return a(B,Ee),Ge&&is(B,ke),Te;if(Ee===null){for(;ke<H.length;ke++)Ee=re(B,H[ke],ie),Ee!==null&&(U=d(Ee,U,ke),Qe===null?Te=Ee:Qe.sibling=Ee,Qe=Ee);return Ge&&is(B,ke),Te}for(Ee=l(Ee);ke<H.length;ke++)Be=W(Ee,B,ke,H[ke],ie),Be!==null&&(t&&Be.alternate!==null&&Ee.delete(Be.key===null?ke:Be.key),U=d(Be,U,ke),Qe===null?Te=Be:Qe.sibling=Be,Qe=Be);return t&&Ee.forEach(function(rr){return s(B,rr)}),Ge&&is(B,ke),Te}function we(B,U,H,ie){if(H==null)throw Error(r(151));for(var Te=null,Qe=null,Ee=U,ke=U=0,Be=null,Ke=H.next();Ee!==null&&!Ke.done;ke++,Ke=H.next()){Ee.index>ke?(Be=Ee,Ee=null):Be=Ee.sibling;var rr=Q(B,Ee,Ke.value,ie);if(rr===null){Ee===null&&(Ee=Be);break}t&&Ee&&rr.alternate===null&&s(B,Ee),U=d(rr,U,ke),Qe===null?Te=rr:Qe.sibling=rr,Qe=rr,Ee=Be}if(Ke.done)return a(B,Ee),Ge&&is(B,ke),Te;if(Ee===null){for(;!Ke.done;ke++,Ke=H.next())Ke=re(B,Ke.value,ie),Ke!==null&&(U=d(Ke,U,ke),Qe===null?Te=Ke:Qe.sibling=Ke,Qe=Ke);return Ge&&is(B,ke),Te}for(Ee=l(Ee);!Ke.done;ke++,Ke=H.next())Ke=W(Ee,B,ke,Ke.value,ie),Ke!==null&&(t&&Ke.alternate!==null&&Ee.delete(Ke.key===null?ke:Ke.key),U=d(Ke,U,ke),Qe===null?Te=Ke:Qe.sibling=Ke,Qe=Ke);return t&&Ee.forEach(function(_A){return s(B,_A)}),Ge&&is(B,ke),Te}function st(B,U,H,ie){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case j:e:{for(var Te=H.key;U!==null;){if(U.key===Te){if(Te=H.type,Te===z){if(U.tag===7){a(B,U.sibling),ie=f(U,H.props.children),ie.return=B,B=ie;break e}}else if(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===R&&$r(Te)===U.type){a(B,U.sibling),ie=f(U,H.props),El(ie,H),ie.return=B,B=ie;break e}a(B,U);break}else s(B,U);U=U.sibling}H.type===z?(ie=Gr(H.props.children,B.mode,ie,H.key),ie.return=B,B=ie):(ie=du(H.type,H.key,H.props,null,B.mode,ie),El(ie,H),ie.return=B,B=ie)}return v(B);case D:e:{for(Te=H.key;U!==null;){if(U.key===Te)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){a(B,U.sibling),ie=f(U,H.children||[]),ie.return=B,B=ie;break e}else{a(B,U);break}else s(B,U);U=U.sibling}ie=Kf(H,B.mode,ie),ie.return=B,B=ie}return v(B);case R:return H=$r(H),st(B,U,H,ie)}if(he(H))return _e(B,U,H,ie);if(V(H)){if(Te=V(H),typeof Te!="function")throw Error(r(150));return H=Te.call(H),we(B,U,H,ie)}if(typeof H.then=="function")return st(B,U,Eu(H),ie);if(H.$$typeof===ee)return st(B,U,gu(B,H),ie);Tu(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(a(B,U.sibling),ie=f(U,H),ie.return=B,B=ie):(a(B,U),ie=Qf(H,B.mode,ie),ie.return=B,B=ie),v(B)):a(B,U)}return function(B,U,H,ie){try{vl=0;var Te=st(B,U,H,ie);return Ka=null,Te}catch(Ee){if(Ee===Qa||Ee===_u)throw Ee;var Qe=Sn(29,Ee,null,B.mode);return Qe.lanes=ie,Qe.return=B,Qe}finally{}}}var Jr=Ny(!0),Cy=Ny(!1),Fs=!1;function ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=fu(t),fy(t,null,a),s}return hu(t,l,s,a),fu(t)}function Tl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ko(t,a)}}function ld(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var cd=!1;function bl(){if(cd){var t=Ya;if(t!==null)throw t}}function Sl(t,s,a,l){cd=!1;var f=t.updateQueue;Fs=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,G=M.next;M.next=null,v===null?d=G:v.next=G,v=M;var te=t.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==v&&(S===null?te.firstBaseUpdate=G:S.next=G,te.lastBaseUpdate=M))}if(d!==null){var re=f.baseState;v=0,te=G=M=null,S=d;do{var Q=S.lane&-536870913,W=Q!==S.lane;if(W?(ze&Q)===Q:(l&Q)===Q){Q!==0&&Q===Ga&&(cd=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var _e=t,we=S;Q=s;var st=a;switch(we.tag){case 1:if(_e=we.payload,typeof _e=="function"){re=_e.call(st,re,Q);break e}re=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,Q=typeof _e=="function"?_e.call(st,re,Q):_e,Q==null)break e;re=b({},re,Q);break e;case 2:Fs=!0}}Q=S.callback,Q!==null&&(t.flags|=64,W&&(t.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(G=te=W,M=re):te=te.next=W,v|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;W=S,S=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);te===null&&(M=re),f.baseState=M,f.firstBaseUpdate=G,f.lastBaseUpdate=te,d===null&&(f.shared.lanes=0),Xs|=v,t.lanes=v,t.memoizedState=re}}function Iy(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Dy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Iy(a[t],s)}var Xa=L(null),bu=L(0);function Oy(t,s){t=ms,fe(bu,t),fe(Xa,s),ms=t|s.baseLanes}function ud(){fe(bu,ms),fe(Xa,Xa.current)}function hd(){ms=bu.current,Z(Xa),Z(bu)}var wn=L(null),zn=null;function Gs(t){var s=t.alternate;fe(_t,_t.current&1),fe(wn,t),zn===null&&(s===null||Xa.current!==null||s.memoizedState!==null)&&(zn=t)}function fd(t){fe(_t,_t.current),fe(wn,t),zn===null&&(zn=t)}function My(t){t.tag===22?(fe(_t,_t.current),fe(wn,t),zn===null&&(zn=t)):Ys()}function Ys(){fe(_t,_t.current),fe(wn,wn.current)}function An(t){Z(wn),zn===t&&(zn=null),Z(_t)}var _t=L(0);function Su(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_m(a)||vm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var as=0,Me=null,nt=null,Nt=null,wu=!1,$a=!1,Zr=!1,Au=0,wl=0,Wa=null,lw=0;function mt(){throw Error(r(321))}function dd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!bn(t[a],s[a]))return!1;return!0}function md(t,s,a,l,f,d){return as=d,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=t===null||t.memoizedState===null?g_:Cd,Zr=!1,d=a(l,f),Zr=!1,$a&&(d=Vy(s,a,l,f)),jy(t),d}function jy(t){F.H=Rl;var s=nt!==null&&nt.next!==null;if(as=0,Nt=nt=Me=null,wu=!1,wl=0,Wa=null,s)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&pu(t)&&(Ct=!0))}function Vy(t,s,a,l){Me=t;var f=0;do{if($a&&(Wa=null),wl=0,$a=!1,25<=f)throw Error(r(301));if(f+=1,Nt=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=y_,d=s(a,l)}while($a);return d}function cw(){var t=F.H,s=t.useState()[0];return s=typeof s.then=="function"?Al(s):s,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Me.flags|=1024),s}function pd(){var t=Au!==0;return Au=0,t}function gd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function yd(t){if(wu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}wu=!1}as=0,Nt=nt=Me=null,$a=!1,wl=Au=0,Wa=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Me.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function vt(){if(nt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var s=Nt===null?Me.memoizedState:Nt.next;if(s!==null)Nt=s,nt=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Nt===null?Me.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var s=wl;return wl+=1,Wa===null&&(Wa=[]),t=Ay(Wa,t,s),s=Me,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?g_:Cd),t}function Ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===ee)return Yt(t)}throw Error(r(438,String(t)))}function _d(t){var s=null,a=Me.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=xu(),Me.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=N;return s.index++,a}function os(t,s){return typeof s=="function"?s(t):s}function Nu(t){var s=vt();return vd(s,nt,t)}function vd(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{s=f.next;var S=v=null,M=null,G=s,te=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(ze&re)===re:(as&re)===re){var Q=G.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===Ga&&(te=!0);else if((as&Q)===Q){G=G.next,Q===Ga&&(te=!0);continue}else re={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(S=M=re,v=d):M=M.next=re,Me.lanes|=Q,Xs|=Q;re=G.action,Zr&&a(d,re),d=G.hasEagerState?G.eagerState:a(d,re)}else Q={lane:re,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(S=M=Q,v=d):M=M.next=Q,Me.lanes|=re,Xs|=re;G=G.next}while(G!==null&&G!==s);if(M===null?v=d:M.next=S,!bn(d,t.memoizedState)&&(Ct=!0,te&&(a=Ya,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ed(t){var s=vt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);bn(d,s.memoizedState)||(Ct=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function ky(t,s,a){var l=Me,f=vt(),d=Ge;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!bn((nt||f).memoizedState,a);if(v&&(f.memoizedState=a,Ct=!0),f=f.queue,Sd(Uy.bind(null,l,f,t),[t]),f.getSnapshot!==s||v||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},Ly.bind(null,l,f,a,s),null),rt===null)throw Error(r(349));d||(as&127)!==0||Py(l,s,a)}return a}function Py(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Me.updateQueue,s===null?(s=xu(),Me.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Ly(t,s,a,l){s.value=a,s.getSnapshot=l,zy(s)&&By(t)}function Uy(t,s,a){return a(function(){zy(s)&&By(t)})}function zy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!bn(t,a)}catch{return!0}}function By(t){var s=Hr(t,2);s!==null&&gn(s,t,2)}function Td(t){var s=ln();if(typeof t=="function"){var a=t;if(t=a(),Zr){In(!0);try{a()}finally{In(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},s}function Fy(t,s,a,l){return t.baseState=a,vd(t,nt,typeof l=="function"?l:os)}function uw(t,s,a,l,f){if(Du(t))throw Error(r(485));if(t=s.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,qy(s,d)):(d.next=a.next,s.pending=a.next=d)}}function qy(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var d=F.T,v={};F.T=v;try{var S=a(f,l),M=F.S;M!==null&&M(v,S),Hy(t,s,S)}catch(G){bd(t,s,G)}finally{d!==null&&v.types!==null&&(d.types=v.types),F.T=d}}else try{d=a(f,l),Hy(t,s,d)}catch(G){bd(t,s,G)}}function Hy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gy(t,s,l)},function(l){return bd(t,s,l)}):Gy(t,s,a)}function Gy(t,s,a){s.status="fulfilled",s.value=a,Yy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,qy(t,a)))}function bd(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Yy(s),s=s.next;while(s!==l)}t.action=null}function Yy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Qy(t,s){return s}function Ky(t,s){if(Ge){var a=rt.formState;if(a!==null){e:{var l=Me;if(Ge){if(lt){t:{for(var f=lt,d=Un;f.nodeType!==8;){if(!d){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){lt=Bn(f.nextSibling),l=f.data==="F!";break e}}zs(l)}l=!1}l&&(s=a[0])}}return a=ln(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:s},a.queue=l,a=d_.bind(null,Me,l),l.dispatch=a,l=Td(!1),d=Nd.bind(null,Me,!1,l.queue),l=ln(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=uw.bind(null,Me,f,d,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function Xy(t){var s=vt();return $y(s,nt,t)}function $y(t,s,a){if(s=vd(t,s,Qy)[0],t=Nu(os)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Al(s)}catch(v){throw v===Qa?_u:v}else l=s;s=vt();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Me.flags|=2048,Ja(9,{destroy:void 0},hw.bind(null,f,a),null)),[l,d,t]}function hw(t,s){t.action=s}function Wy(t){var s=vt(),a=nt;if(a!==null)return $y(s,a,t);vt(),s=s.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Ja(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Me.updateQueue,s===null&&(s=xu(),Me.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Jy(){return vt().memoizedState}function Cu(t,s,a,l){var f=ln();Me.flags|=t,f.memoizedState=Ja(1|s,{destroy:void 0},a,l===void 0?null:l)}function Iu(t,s,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;nt!==null&&l!==null&&dd(l,nt.memoizedState.deps)?f.memoizedState=Ja(s,d,a,l):(Me.flags|=t,f.memoizedState=Ja(1|s,d,a,l))}function Zy(t,s){Cu(8390656,8,t,s)}function Sd(t,s){Iu(2048,8,t,s)}function fw(t){Me.flags|=4;var s=Me.updateQueue;if(s===null)s=xu(),Me.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function e_(t){var s=vt().memoizedState;return fw({ref:s,nextImpl:t}),function(){if(($e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function t_(t,s){return Iu(4,2,t,s)}function n_(t,s){return Iu(4,4,t,s)}function i_(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function s_(t,s,a){a=a!=null?a.concat([t]):null,Iu(4,4,i_.bind(null,s,t),a)}function wd(){}function r_(t,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&dd(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function a_(t,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&dd(s,l[1]))return l[0];if(l=t(),Zr){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,s],l}function Ad(t,s,a){return a===void 0||(as&1073741824)!==0&&(ze&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=ov(),Me.lanes|=t,Xs|=t,a)}function o_(t,s,a,l){return bn(a,s)?a:Xa.current!==null?(t=Ad(t,a,l),bn(t,s)||(Ct=!0),t):(as&42)===0||(as&1073741824)!==0&&(ze&261930)===0?(Ct=!0,t.memoizedState=a):(t=ov(),Me.lanes|=t,Xs|=t,s)}function l_(t,s,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=F.T,S={};F.T=S,Nd(t,!1,s,a);try{var M=f(),G=F.S;if(G!==null&&G(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var te=ow(M,l);xl(t,s,te,Nn(t))}else xl(t,s,l,Nn(t))}catch(re){xl(t,s,{then:function(){},status:"rejected",reason:re},Nn())}finally{ae.p=d,v!==null&&S.types!==null&&(v.types=S.types),F.T=v}}function dw(){}function xd(t,s,a,l){if(t.tag!==5)throw Error(r(476));var f=c_(t).queue;l_(t,f,s,ce,a===null?dw:function(){return u_(t),a(l)})}function c_(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:ce},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function u_(t){var s=c_(t);s.next===null&&(s=t.alternate.memoizedState),xl(t,s.next.queue,{},Nn())}function Rd(){return Yt(ql)}function h_(){return vt().memoizedState}function f_(){return vt().memoizedState}function mw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Nn();t=qs(a);var l=Hs(s,t,a);l!==null&&(gn(l,s,a),Tl(l,s,a)),s={cache:nd()},t.payload=s;return}s=s.return}}function pw(t,s,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Du(t)?m_(s,a):(a=Gf(t,s,a,l),a!==null&&(gn(a,t,l),p_(a,s,l)))}function d_(t,s,a){var l=Nn();xl(t,s,a,l)}function xl(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Du(t))m_(s,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,S=d(v,a);if(f.hasEagerState=!0,f.eagerState=S,bn(S,v))return hu(t,s,f,0),rt===null&&uu(),!1}catch{}finally{}if(a=Gf(t,s,f,l),a!==null)return gn(a,t,l),p_(a,s,l),!0}return!1}function Nd(t,s,a,l){if(l={lane:2,revertLane:am(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Du(t)){if(s)throw Error(r(479))}else s=Gf(t,a,l,2),s!==null&&gn(s,t,2)}function Du(t){var s=t.alternate;return t===Me||s!==null&&s===Me}function m_(t,s){$a=wu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function p_(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ko(t,a)}}var Rl={readContext:Yt,use:Ru,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Rl.useEffectEvent=mt;var g_={readContext:Yt,use:Ru,useCallback:function(t,s){return ln().memoizedState=[t,s===void 0?null:s],t},useContext:Yt,useEffect:Zy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Cu(4194308,4,i_.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Cu(4194308,4,t,s)},useInsertionEffect:function(t,s){Cu(4,2,t,s)},useMemo:function(t,s){var a=ln();s=s===void 0?null:s;var l=t();if(Zr){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=ln();if(a!==void 0){var f=a(s);if(Zr){In(!0);try{a(s)}finally{In(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=pw.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var s=ln();return t={current:t},s.memoizedState=t},useState:function(t){t=Td(t);var s=t.queue,a=d_.bind(null,Me,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:wd,useDeferredValue:function(t,s){var a=ln();return Ad(a,t,s)},useTransition:function(){var t=Td(!1);return t=l_.bind(null,Me,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Me,f=ln();if(Ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),rt===null)throw Error(r(349));(ze&127)!==0||Py(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Zy(Uy.bind(null,l,d,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},Ly.bind(null,l,d,a,s),null),a},useId:function(){var t=ln(),s=rt.identifierPrefix;if(Ge){var a=Vi,l=ji;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Au++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=lw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Rd,useFormState:Ky,useActionState:Ky,useOptimistic:function(t){var s=ln();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nd.bind(null,Me,!0,a),a.dispatch=s,[t,s]},useMemoCache:_d,useCacheRefresh:function(){return ln().memoizedState=mw.bind(null,Me)},useEffectEvent:function(t){var s=ln(),a={impl:t};return s.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Cd={readContext:Yt,use:Ru,useCallback:r_,useContext:Yt,useEffect:Sd,useImperativeHandle:s_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:Nu,useRef:Jy,useState:function(){return Nu(os)},useDebugValue:wd,useDeferredValue:function(t,s){var a=vt();return o_(a,nt.memoizedState,t,s)},useTransition:function(){var t=Nu(os)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:Al(t),s]},useSyncExternalStore:ky,useId:h_,useHostTransitionStatus:Rd,useFormState:Xy,useActionState:Xy,useOptimistic:function(t,s){var a=vt();return Fy(a,nt,t,s)},useMemoCache:_d,useCacheRefresh:f_};Cd.useEffectEvent=e_;var y_={readContext:Yt,use:Ru,useCallback:r_,useContext:Yt,useEffect:Sd,useImperativeHandle:s_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:Ed,useRef:Jy,useState:function(){return Ed(os)},useDebugValue:wd,useDeferredValue:function(t,s){var a=vt();return nt===null?Ad(a,t,s):o_(a,nt.memoizedState,t,s)},useTransition:function(){var t=Ed(os)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:Al(t),s]},useSyncExternalStore:ky,useId:h_,useHostTransitionStatus:Rd,useFormState:Wy,useActionState:Wy,useOptimistic:function(t,s){var a=vt();return nt!==null?Fy(a,nt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_d,useCacheRefresh:f_};y_.useEffectEvent=e_;function Id(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dd={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Nn(),f=qs(l);f.payload=s,a!=null&&(f.callback=a),s=Hs(t,f,l),s!==null&&(gn(s,t,l),Tl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Nn(),f=qs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Hs(t,f,l),s!==null&&(gn(s,t,l),Tl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Nn(),l=qs(a);l.tag=2,s!=null&&(l.callback=s),s=Hs(t,l,a),s!==null&&(gn(s,t,a),Tl(s,t,a))}};function __(t,s,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!dl(a,l)||!dl(f,d):!0}function v_(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Dd.enqueueReplaceState(s,s.state,null)}function ea(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function E_(t){cu(t)}function T_(t){console.error(t)}function b_(t){cu(t)}function Ou(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function S_(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Od(t,s,a){return a=qs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ou(t,s)},a}function w_(t){return t=qs(t),t.tag=3,t}function A_(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){S_(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){S_(s,a,l),typeof f!="function"&&($s===null?$s=new Set([this]):$s.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function gw(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ha(s,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Hu():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===vu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),im(t,l,f)),!1;case 22:return a.flags|=65536,l===vu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),im(t,l,f)),!1}throw Error(r(435,a.tag))}return im(t,l,f),Hu(),!1}if(Ge)return s=wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Wf&&(t=Error(r(422),{cause:l}),gl(kn(t,a)))):(l!==Wf&&(s=Error(r(423),{cause:l}),gl(kn(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=kn(l,a),f=Od(t.stateNode,l,f),ld(t,f),pt!==4&&(pt=2)),!1;var d=Error(r(520),{cause:l});if(d=kn(d,a),Vl===null?Vl=[d]:Vl.push(d),pt!==4&&(pt=2),s===null)return!0;l=kn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Od(a.stateNode,l,t),ld(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($s===null||!$s.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=w_(f),A_(f,t,a,l),ld(a,f),!1}a=a.return}while(a!==null);return!1}var Md=Error(r(461)),Ct=!1;function Qt(t,s,a,l){s.child=t===null?Cy(s,null,a,l):Jr(s,t.child,a,l)}function x_(t,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Kr(s),l=md(t,s,a,v,d,f),S=pd(),t!==null&&!Ct?(gd(t,s,f),ls(t,s,f)):(Ge&&S&&Xf(s),s.flags|=1,Qt(t,s,l,f),s.child)}function R_(t,s,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Yf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,N_(t,s,d,l,f)):(t=du(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!Bd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(v,l)&&t.ref===s.ref)return ls(t,s,f)}return s.flags|=1,t=ns(d,l),t.ref=s.ref,t.return=s,s.child=t}function N_(t,s,a,l,f){if(t!==null){var d=t.memoizedProps;if(dl(d,l)&&t.ref===s.ref)if(Ct=!1,s.pendingProps=l=d,Bd(t,f))(t.flags&131072)!==0&&(Ct=!0);else return s.lanes=t.lanes,ls(t,s,f)}return jd(t,s,a,l,f)}function C_(t,s,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return I_(t,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&yu(s,d!==null?d.cachePool:null),d!==null?Oy(s,d):ud(),My(s);else return l=s.lanes=536870912,I_(t,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(yu(s,d.cachePool),Oy(s,d),Ys(),s.memoizedState=null):(t!==null&&yu(s,null),ud(),Ys());return Qt(t,s,f,a),s.child}function Nl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function I_(t,s,a,l,f){var d=sd();return d=d===null?null:{parent:Rt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&yu(s,null),ud(),My(s),t!==null&&Ha(t,s,l,!0),s.childLanes=f,null}function Mu(t,s){return s=Vu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function D_(t,s,a){return Jr(s,t.child,null,a),t=Mu(s,s.pendingProps),t.flags|=2,An(s),s.memoizedState=null,t}function yw(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=Mu(s,l),s.lanes=536870912,Nl(null,t);if(fd(s),(t=lt)?(t=qv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:ji,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=my(t),a.return=s,s.child=a,Gt=s,lt=null)):t=null,t===null)throw zs(s);return s.lanes=536870912,null}return Mu(s,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(fd(s),f)if(s.flags&256)s.flags&=-257,s=D_(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ct||Ha(t,s,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(l=rt,l!==null&&(v=Xo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Hr(t,v),gn(l,t,v),Md;Hu(),s=D_(t,s,a)}else t=d.treeContext,lt=Bn(v.nextSibling),Gt=s,Ge=!0,Us=null,Un=!1,t!==null&&yy(s,t),s=Mu(s,l),s.flags|=4096;return s}return t=ns(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function ju(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function jd(t,s,a,l,f){return Kr(s),a=md(t,s,a,l,void 0,f),l=pd(),t!==null&&!Ct?(gd(t,s,f),ls(t,s,f)):(Ge&&l&&Xf(s),s.flags|=1,Qt(t,s,a,f),s.child)}function O_(t,s,a,l,f,d){return Kr(s),s.updateQueue=null,a=Vy(s,l,a,f),jy(t),l=pd(),t!==null&&!Ct?(gd(t,s,d),ls(t,s,d)):(Ge&&l&&Xf(s),s.flags|=1,Qt(t,s,a,d),s.child)}function M_(t,s,a,l,f){if(Kr(s),s.stateNode===null){var d=za,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Dd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},ad(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):za,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Id(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Dd.enqueueReplaceState(d,d.state,null),Sl(s,l,d,f),bl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){d=s.stateNode;var S=s.memoizedProps,M=ea(a,S);d.props=M;var G=d.context,te=a.contextType;v=za,typeof te=="object"&&te!==null&&(v=Yt(te));var re=a.getDerivedStateFromProps;te=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==v)&&v_(s,d,l,v),Fs=!1;var Q=s.memoizedState;d.state=Q,Sl(s,l,d,f),bl(),G=s.memoizedState,S||Q!==G||Fs?(typeof re=="function"&&(Id(s,a,re,l),G=s.memoizedState),(M=Fs||__(s,a,M,l,Q,G,v))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=G),d.props=l,d.state=G,d.context=v,l=M):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,od(t,s),v=s.memoizedProps,te=ea(a,v),d.props=te,re=s.pendingProps,Q=d.context,G=a.contextType,M=za,typeof G=="object"&&G!==null&&(M=Yt(G)),S=a.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==re||Q!==M)&&v_(s,d,l,M),Fs=!1,Q=s.memoizedState,d.state=Q,Sl(s,l,d,f),bl();var W=s.memoizedState;v!==re||Q!==W||Fs||t!==null&&t.dependencies!==null&&pu(t.dependencies)?(typeof S=="function"&&(Id(s,a,S,l),W=s.memoizedState),(te=Fs||__(s,a,te,l,Q,W,M)||t!==null&&t.dependencies!==null&&pu(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,M)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=W),d.props=l,d.state=W,d.context=M,l=te):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(s.flags|=1024),l=!1)}return d=l,ju(t,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&l?(s.child=Jr(s,t.child,null,f),s.child=Jr(s,null,a,f)):Qt(t,s,a,f),s.memoizedState=d.state,t=s.child):t=ls(t,s,f),t}function j_(t,s,a,l){return Yr(),s.flags|=256,Qt(t,s,a,l),s.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(t){return{baseLanes:t,cachePool:Sy()}}function Pd(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Rn),t}function V_(t,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ge){if(f?Gs(s):Ys(),(t=lt)?(t=qv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:ji,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=my(t),a.return=s,s.child=a,Gt=s,lt=null)):t=null,t===null)throw zs(s);return vm(t)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Ys(),f=s.mode,S=Vu({mode:"hidden",children:S},f),l=Gr(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=kd(a),l.childLanes=Pd(t,v,a),s.memoizedState=Vd,Nl(null,l)):(Gs(s),Ld(s,S))}var M=t.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(d)s.flags&256?(Gs(s),s.flags&=-257,s=Ud(t,s,a)):s.memoizedState!==null?(Ys(),s.child=t.child,s.flags|=128,s=null):(Ys(),S=l.fallback,f=s.mode,l=Vu({mode:"visible",children:l.children},f),S=Gr(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,Jr(s,t.child,null,a),l=s.child,l.memoizedState=kd(a),l.childLanes=Pd(t,v,a),s.memoizedState=Vd,s=Nl(null,l));else if(Gs(s),vm(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(r(419)),l.stack="",l.digest=v,gl({value:l,source:null,stack:null}),s=Ud(t,s,a)}else if(Ct||Ha(t,s,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=rt,v!==null&&(l=Xo(v,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Hr(t,l),gn(v,t,l),Md;_m(S)||Hu(),s=Ud(t,s,a)}else _m(S)?(s.flags|=192,s.child=t.child,s=null):(t=M.treeContext,lt=Bn(S.nextSibling),Gt=s,Ge=!0,Us=null,Un=!1,t!==null&&yy(s,t),s=Ld(s,l.children),s.flags|=4096);return s}return f?(Ys(),S=l.fallback,f=s.mode,M=t.child,G=M.sibling,l=ns(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,G!==null?S=ns(G,S):(S=Gr(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,Nl(null,l),l=s.child,S=t.child.memoizedState,S===null?S=kd(a):(f=S.cachePool,f!==null?(M=Rt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Sy(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Pd(t,v,a),s.memoizedState=Vd,Nl(t.child,l)):(Gs(s),a=t.child,t=a.sibling,a=ns(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function Ld(t,s){return s=Vu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Vu(t,s){return t=Sn(22,t,null,s),t.lanes=0,t}function Ud(t,s,a){return Jr(s,t.child,null,a),t=Ld(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function k_(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),ed(t.return,s,a)}function zd(t,s,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function P_(t,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=_t.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,fe(_t,v),Qt(t,s,l,a),l=Ge?pl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k_(t,a,s);else if(t.tag===19)k_(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Su(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),zd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Su(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}zd(s,!0,a,null,d,l);break;case"together":zd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ls(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Xs|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Ha(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=ns(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ns(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Bd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&pu(t)))}function _w(t,s,a){switch(s.tag){case 3:ne(s,s.stateNode.containerInfo),Bs(s,Rt,t.memoizedState.cache),Yr();break;case 27:case 5:Kn(s);break;case 4:ne(s,s.stateNode.containerInfo);break;case 10:Bs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,fd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Gs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?V_(t,s,a):(Gs(s),t=ls(t,s,a),t!==null?t.sibling:null);Gs(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ha(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return P_(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),fe(_t,_t.current),l)break;return null;case 22:return s.lanes=0,C_(t,s,a,s.pendingProps);case 24:Bs(s,Rt,t.memoizedState.cache)}return ls(t,s,a)}function L_(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ct=!0;else{if(!Bd(t,a)&&(s.flags&128)===0)return Ct=!1,_w(t,s,a);Ct=(t.flags&131072)!==0}else Ct=!1,Ge&&(s.flags&1048576)!==0&&gy(s,pl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=$r(s.elementType),s.type=t,typeof t=="function")Yf(t)?(l=ea(t,l),s.tag=1,s=M_(null,s,t,l,a)):(s.tag=0,s=jd(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===me){s.tag=11,s=x_(null,s,t,l,a);break e}else if(f===I){s.tag=14,s=R_(null,s,t,l,a);break e}}throw s=se(t)||t,Error(r(306,s,""))}}return s;case 0:return jd(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ea(l,s.pendingProps),M_(t,s,l,f,a);case 3:e:{if(ne(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,od(t,s),Sl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Bs(s,Rt,l),l!==d.cache&&td(s,[Rt],a,!0),bl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=j_(t,s,l,a);break e}else if(l!==f){f=kn(Error(r(424)),s),gl(f),s=j_(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Bn(t.firstChild),Gt=s,Ge=!0,Us=null,Un=!0,a=Cy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yr(),l===f){s=ls(t,s,a);break e}Qt(t,s,l,a)}s=s.child}return s;case 26:return ju(t,s),t===null?(a=Xv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ge||(a=s.type,t=s.pendingProps,l=Wu(Re.current).createElement(a),l[wt]=s,l[Lt]=t,Kt(l,a,t),At(l),s.stateNode=l):s.memoizedState=Xv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Kn(s),t===null&&Ge&&(l=s.stateNode=Yv(s.type,s.pendingProps,Re.current),Gt=s,Un=!0,f=lt,er(s.type)?(Em=f,lt=Bn(l.firstChild)):lt=f),Qt(t,s,s.pendingProps.children,a),ju(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ge&&((f=l=lt)&&(l=Kw(l,s.type,s.pendingProps,Un),l!==null?(s.stateNode=l,Gt=s,lt=Bn(l.firstChild),Un=!1,f=!0):f=!1),f||zs(s)),Kn(s),f=s.type,d=s.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,pm(f,d)?l=null:v!==null&&pm(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=md(t,s,cw,null,null,a),ql._currentValue=f),ju(t,s),Qt(t,s,l,a),s.child;case 6:return t===null&&Ge&&((t=a=lt)&&(a=Xw(a,s.pendingProps,Un),a!==null?(s.stateNode=a,Gt=s,lt=null,t=!0):t=!1),t||zs(s)),null;case 13:return V_(t,s,a);case 4:return ne(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Jr(s,null,l,a):Qt(t,s,l,a),s.child;case 11:return x_(t,s,s.type,s.pendingProps,a);case 7:return Qt(t,s,s.pendingProps,a),s.child;case 8:return Qt(t,s,s.pendingProps.children,a),s.child;case 12:return Qt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Bs(s,s.type,l.value),Qt(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Kr(s),f=Yt(f),l=l(f),s.flags|=1,Qt(t,s,l,a),s.child;case 14:return R_(t,s,s.type,s.pendingProps,a);case 15:return N_(t,s,s.type,s.pendingProps,a);case 19:return P_(t,s,a);case 31:return yw(t,s,a);case 22:return C_(t,s,a,s.pendingProps);case 24:return Kr(s),l=Yt(Rt),t===null?(f=sd(),f===null&&(f=rt,d=nd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},ad(s),Bs(s,Rt,f)):((t.lanes&a)!==0&&(od(t,s),Sl(s,null,null,a),bl()),f=t.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Bs(s,Rt,l)):(l=d.cache,Bs(s,Rt,l),l!==f.cache&&td(s,[Rt],a,!0))),Qt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function cs(t){t.flags|=4}function Fd(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(hv())t.flags|=8192;else throw Wr=vu,rd}else t.flags&=-16777217}function U_(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!e0(s))if(hv())t.flags|=8192;else throw Wr=vu,rd}function ku(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Fc():536870912,t.lanes|=s,no|=s)}function Cl(t,s){if(!Ge)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function vw(t,s,a){var l=s.pendingProps;switch($f(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),rs(Rt),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(qa(s)?cs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jf())),ct(s),null;case 26:var f=s.type,d=s.memoizedState;return t===null?(cs(s),d!==null?(ct(s),U_(s,d)):(ct(s),Fd(s,f,null,l,a))):d?d!==t.memoizedState?(cs(s),ct(s),U_(s,d)):(ct(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&cs(s),ct(s),Fd(s,f,t,l,a)),null;case 27:if(Xn(s),a=Re.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&cs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ct(s),null}t=Y.current,qa(s)?_y(s):(t=Yv(f,l,a),s.stateNode=t,cs(s))}return ct(s),null;case 5:if(Xn(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&cs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ct(s),null}if(d=Y.current,qa(s))_y(s);else{var v=Wu(Re.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[wt]=s,d[Lt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&cs(s)}}return ct(s),Fd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&cs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=Re.current,qa(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[wt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Vv(t.nodeValue,a)),t||zs(s,!0)}else t=Wu(t).createTextNode(l),t[wt]=s,s.stateNode=t}return ct(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=qa(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[wt]=s}else Yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),t=!1}else a=Jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(An(s),s):(An(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ct(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=qa(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[wt]=s}else Yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),f=!1}else f=Jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(An(s),s):(An(s),null)}return An(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),ku(s,s.updateQueue),ct(s),null);case 4:return Ue(),t===null&&um(s.stateNode.containerInfo),ct(s),null;case 10:return rs(s.type),ct(s),null;case 19:if(Z(_t),l=s.memoizedState,l===null)return ct(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Cl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Su(t),d!==null){for(s.flags|=128,Cl(l,!1),t=d.updateQueue,s.updateQueue=t,ku(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)dy(a,t),a=a.sibling;return fe(_t,_t.current&1|2),Ge&&is(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&an()>Bu&&(s.flags|=128,f=!0,Cl(l,!1),s.lanes=4194304)}else{if(!f)if(t=Su(d),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,ku(s,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ge)return ct(s),null}else 2*an()-l.renderingStartTime>Bu&&a!==536870912&&(s.flags|=128,f=!0,Cl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(t=l.last,t!==null?t.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=_t.current,fe(_t,f?a&1|2:a&1),Ge&&is(s,l.treeForkCount),t):(ct(s),null);case 22:case 23:return An(s),hd(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),a=s.updateQueue,a!==null&&ku(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&Z(Xr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),rs(Rt),ct(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Ew(t,s){switch($f(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return rs(Rt),Ue(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Xn(s),null;case 31:if(s.memoizedState!==null){if(An(s),s.alternate===null)throw Error(r(340));Yr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(An(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Yr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Z(_t),null;case 4:return Ue(),null;case 10:return rs(s.type),null;case 22:case 23:return An(s),hd(),t!==null&&Z(Xr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return rs(Rt),null;case 25:return null;default:return null}}function z_(t,s){switch($f(s),s.tag){case 3:rs(Rt),Ue();break;case 26:case 27:case 5:Xn(s);break;case 4:Ue();break;case 31:s.memoizedState!==null&&An(s);break;case 13:An(s);break;case 19:Z(_t);break;case 10:rs(s.type);break;case 22:case 23:An(s),hd(),t!==null&&Z(Xr);break;case 24:rs(Rt)}}function Il(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(S){et(s,s.return,S)}}function Qs(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=s;var M=a,G=S;try{G()}catch(te){et(f,M,te)}}}l=l.next}while(l!==d)}}catch(te){et(s,s.return,te)}}function B_(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Dy(s,a)}catch(l){et(t,t.return,l)}}}function F_(t,s,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,s,l)}}function Dl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){et(t,s,f)}}function ki(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){et(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){et(t,s,f)}else a.current=null}function q_(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){et(t,t.return,f)}}function qd(t,s,a){try{var l=t.stateNode;Fw(l,t.type,a,s),l[Lt]=s}catch(f){et(t,t.return,f)}}function H_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function Hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gd(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ei));else if(l!==4&&(l===27&&er(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Gd(t,s,a),t=t.sibling;t!==null;)Gd(t,s,a),t=t.sibling}function Pu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&er(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Pu(t,s,a),t=t.sibling;t!==null;)Pu(t,s,a),t=t.sibling}function G_(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Kt(s,l,a),s[wt]=t,s[Lt]=a}catch(d){et(t,t.return,d)}}var us=!1,It=!1,Yd=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Tw(t,s){if(t=t.containerInfo,dm=sh,t=sy(t),Uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,M=-1,G=0,te=0,re=t,Q=null;t:for(;;){for(var W;re!==a||f!==0&&re.nodeType!==3||(S=v+f),re!==d||l!==0&&re.nodeType!==3||(M=v+l),re.nodeType===3&&(v+=re.nodeValue.length),(W=re.firstChild)!==null;)Q=re,re=W;for(;;){if(re===t)break t;if(Q===a&&++G===f&&(S=v),Q===d&&++te===l&&(M=v),(W=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=W}a=S===-1||M===-1?null:{start:S,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:t,selectionRange:a},sh=!1,zt=s;zt!==null;)if(s=zt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,zt=t;else for(;zt!==null;){switch(s=zt,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _e=ea(a.type,f);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){et(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)ym(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ym(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,zt=t;break}zt=s.return}}function Q_(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fs(t,a),l&4&&Il(5,a);break;case 1:if(fs(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var f=ea(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&B_(a),l&512&&Dl(a,a.return);break;case 3:if(fs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Dy(t,s)}catch(v){et(a,a.return,v)}}break;case 27:s===null&&l&4&&G_(a);case 26:case 5:fs(t,a),s===null&&l&4&&q_(a),l&512&&Dl(a,a.return);break;case 12:fs(t,a);break;case 31:fs(t,a),l&4&&$_(t,a);break;case 13:fs(t,a),l&4&&W_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Iw.bind(null,a),$w(t,a))));break;case 22:if(l=a.memoizedState!==null||us,!l){s=s!==null&&s.memoizedState!==null||It,f=us;var d=It;us=l,(It=s)&&!d?ds(t,a,(a.subtreeFlags&8772)!==0):fs(t,a),us=f,It=d}break;case 30:break;default:fs(t,a)}}function K_(t){var s=t.alternate;s!==null&&(t.alternate=null,K_(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&xa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,fn=!1;function hs(t,s,a){for(a=a.child;a!==null;)X_(t,s,a),a=a.sibling}function X_(t,s,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:It||ki(a,s),hs(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||ki(a,s);var l=ht,f=fn;er(a.type)&&(ht=a.stateNode,fn=!1),hs(t,s,a),zl(a.stateNode),ht=l,fn=f;break;case 5:It||ki(a,s);case 6:if(l=ht,f=fn,ht=null,hs(t,s,a),ht=l,fn=f,ht!==null)if(fn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){et(a,s,d)}else try{ht.removeChild(a.stateNode)}catch(d){et(a,s,d)}break;case 18:ht!==null&&(fn?(t=ht,Bv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),uo(t)):Bv(ht,a.stateNode));break;case 4:l=ht,f=fn,ht=a.stateNode.containerInfo,fn=!0,hs(t,s,a),ht=l,fn=f;break;case 0:case 11:case 14:case 15:Qs(2,a,s),It||Qs(4,a,s),hs(t,s,a);break;case 1:It||(ki(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&F_(a,s,l)),hs(t,s,a);break;case 21:hs(t,s,a);break;case 22:It=(l=It)||a.memoizedState!==null,hs(t,s,a),It=l;break;default:hs(t,s,a)}}function $_(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{uo(t)}catch(a){et(s,s.return,a)}}}function W_(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(a){et(s,s.return,a)}}function bw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Y_),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Y_),s;default:throw Error(r(435,t.tag))}}function Lu(t,s){var a=bw(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=Dw.bind(null,t,l);l.then(f,f)}})}function dn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(er(S.type)){ht=S.stateNode,fn=!1;break e}break;case 5:ht=S.stateNode,fn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,fn=!0;break e}S=S.return}if(ht===null)throw Error(r(160));X_(d,v,f),ht=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)J_(s,t),s=s.sibling}var ai=null;function J_(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(s,t),mn(t),l&4&&(Qs(3,t,t.return),Il(3,t),Qs(5,t,t.return));break;case 1:dn(s,t),mn(t),l&512&&(It||a===null||ki(a,a.return)),l&64&&us&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(dn(s,t),mn(t),l&512&&(It||a===null||ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[bi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[wt]=t,At(d),l=d;break e;case"link":var v=Jv("link","href",f).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Jv("meta","content",f).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[wt]=t,At(d),l=d}t.stateNode=l}else Zv(f,t.type,t.stateNode);else t.stateNode=Wv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Zv(f,t.type,t.stateNode):Wv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(s,t),mn(t),l&512&&(It||a===null||ki(a,a.return)),a!==null&&l&4&&qd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(s,t),mn(t),l&512&&(It||a===null||ki(a,a.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(_e){et(t,t.return,_e)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,qd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Yd=!0);break;case 6:if(dn(s,t),mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(_e){et(t,t.return,_e)}}break;case 3:if(eh=null,f=ai,ai=Ju(s.containerInfo),dn(s,t),ai=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(s.containerInfo)}catch(_e){et(t,t.return,_e)}Yd&&(Yd=!1,Z_(t));break;case 4:l=ai,ai=Ju(t.stateNode.containerInfo),dn(s,t),mn(t),ai=l;break;case 12:dn(s,t),mn(t);break;case 31:dn(s,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lu(t,l)));break;case 13:dn(s,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zu=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lu(t,l)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,G=us,te=It;if(us=G||f,It=te||M,dn(s,t),It=te,us=G,mn(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||us||It||ta(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(d=M.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=M.stateNode;var re=M.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(_e){et(M,M.return,_e)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(_e){et(M,M.return,_e)}}}else if(s.tag===18){if(a===null){M=s;try{var W=M.stateNode;f?Fv(W,!0):Fv(M.stateNode,!1)}catch(_e){et(M,M.return,_e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lu(t,a))));break;case 19:dn(s,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lu(t,l)));break;case 30:break;case 21:break;default:dn(s,t),mn(t)}}function mn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(H_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Hd(t);Pu(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(hn(v,""),a.flags&=-33);var S=Hd(t);Pu(t,S,v);break;case 3:case 4:var M=a.stateNode.containerInfo,G=Hd(t);Gd(t,G,M);break;default:throw Error(r(161))}}catch(te){et(t,t.return,te)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Z_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Z_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function fs(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Q_(t,s.alternate,s),s=s.sibling}function ta(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Qs(4,s,s.return),ta(s);break;case 1:ki(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&F_(s,s.return,a),ta(s);break;case 27:zl(s.stateNode);case 26:case 5:ki(s,s.return),ta(s);break;case 22:s.memoizedState===null&&ta(s);break;case 30:ta(s);break;default:ta(s)}t=t.sibling}}function ds(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:ds(f,d,a),Il(4,d);break;case 1:if(ds(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){et(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Iy(M[f],S)}catch(G){et(l,l.return,G)}}a&&v&64&&B_(d),Dl(d,d.return);break;case 27:G_(d);case 26:case 5:ds(f,d,a),a&&l===null&&v&4&&q_(d),Dl(d,d.return);break;case 12:ds(f,d,a);break;case 31:ds(f,d,a),a&&v&4&&$_(f,d);break;case 13:ds(f,d,a),a&&v&4&&W_(f,d);break;case 22:d.memoizedState===null&&ds(f,d,a),Dl(d,d.return);break;case 30:break;default:ds(f,d,a)}s=s.sibling}}function Qd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&yl(a))}function Kd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&yl(t))}function oi(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ev(t,s,a,l),s=s.sibling}function ev(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:oi(t,s,a,l),f&2048&&Il(9,s);break;case 1:oi(t,s,a,l);break;case 3:oi(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&yl(t)));break;case 12:if(f&2048){oi(t,s,a,l),t=s.stateNode;try{var d=s.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){et(s,s.return,M)}}else oi(t,s,a,l);break;case 31:oi(t,s,a,l);break;case 13:oi(t,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?oi(t,s,a,l):Ol(t,s):d._visibility&2?oi(t,s,a,l):(d._visibility|=2,Za(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Qd(v,s);break;case 24:oi(t,s,a,l),f&2048&&Kd(s.alternate,s);break;default:oi(t,s,a,l)}}function Za(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,v=s,S=a,M=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:Za(d,v,S,M,f),Il(8,v);break;case 23:break;case 22:var te=v.stateNode;v.memoizedState!==null?te._visibility&2?Za(d,v,S,M,f):Ol(d,v):(te._visibility|=2,Za(d,v,S,M,f)),f&&G&2048&&Qd(v.alternate,v);break;case 24:Za(d,v,S,M,f),f&&G&2048&&Kd(v.alternate,v);break;default:Za(d,v,S,M,f)}s=s.sibling}}function Ol(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:Ol(a,l),f&2048&&Qd(l.alternate,l);break;case 24:Ol(a,l),f&2048&&Kd(l.alternate,l);break;default:Ol(a,l)}s=s.sibling}}var Ml=8192;function eo(t,s,a){if(t.subtreeFlags&Ml)for(t=t.child;t!==null;)tv(t,s,a),t=t.sibling}function tv(t,s,a){switch(t.tag){case 26:eo(t,s,a),t.flags&Ml&&t.memoizedState!==null&&lA(a,ai,t.memoizedState,t.memoizedProps);break;case 5:eo(t,s,a);break;case 3:case 4:var l=ai;ai=Ju(t.stateNode.containerInfo),eo(t,s,a),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ml,Ml=16777216,eo(t,s,a),Ml=l):eo(t,s,a));break;default:eo(t,s,a)}}function nv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function jl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];zt=l,sv(l,t)}nv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Uu(t)):jl(t);break;default:jl(t)}}function Uu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];zt=l,sv(l,t)}nv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Qs(8,s,s.return),Uu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Uu(s));break;default:Uu(s)}t=t.sibling}}function sv(t,s){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Qs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(K_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var Sw={getCacheForType:function(t){var s=Yt(Rt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Yt(Rt).controller.signal}},ww=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,Pe=null,ze=0,Ze=0,xn=null,Ks=!1,to=!1,Xd=!1,ms=0,pt=0,Xs=0,na=0,$d=0,Rn=0,no=0,Vl=null,pn=null,Wd=!1,zu=0,rv=0,Bu=1/0,Fu=null,$s=null,kt=0,Ws=null,io=null,ps=0,Jd=0,Zd=null,av=null,kl=0,em=null;function Nn(){return($e&2)!==0&&ze!==0?ze&-ze:F.T!==null?am():qc()}function ov(){if(Rn===0)if((ze&536870912)===0||Ge){var t=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),Rn=t}else Rn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Rn}function gn(t,s,a){(t===rt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(so(t,0),Js(t,ze,Rn,!1)),Ir(t,a),(($e&2)===0||t!==rt)&&(t===rt&&(($e&2)===0&&(na|=a),pt===4&&Js(t,ze,Rn,!1)),Pi(t))}function lv(t,s,a){if(($e&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Wn(t,s),f=l?Rw(t,s):nm(t,s,!0),d=l;do{if(f===0){to&&!l&&Js(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!Aw(a)){f=nm(t,s,!1),d=!1;continue}if(f===2){if(d=s,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;f=Vl;var M=S.current.memoizedState.isDehydrated;if(M&&(so(S,v).flags|=256),v=nm(S,v,!1),v!==2){if(Xd&&!M){S.errorRecoveryDisabledLanes|=d,na|=d,f=4;break e}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){so(t,0),Js(t,s,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Js(l,s,Rn,!Ks);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=zu+300-an(),10<f)){if(Js(l,s,Rn,!Ks),vi(l,0,!0)!==0)break e;ps=s,l.timeoutHandle=Uv(cv.bind(null,l,a,pn,Fu,Wd,s,Rn,na,no,Ks,d,"Throttled",-0,0),f);break e}cv(l,a,pn,Fu,Wd,s,Rn,na,no,Ks,d,null,-0,0)}}break}while(!0);Pi(t)}function cv(t,s,a,l,f,d,v,S,M,G,te,re,Q,W){if(t.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},tv(s,d,re);var _e=(d&62914560)===d?zu-an():(d&4194048)===d?rv-an():0;if(_e=cA(re,_e),_e!==null){ps=d,t.cancelPendingCommit=_e(yv.bind(null,t,s,d,a,l,f,v,S,M,te,re,null,Q,W)),Js(t,d,v,!G);return}}yv(t,s,d,a,l,f,v,S,M)}function Aw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Js(t,s,a,l){s&=~$d,s&=~na,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var d=31-gt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Dr(t,a,s)}function qu(){return($e&6)===0?(Pl(0),!1):!0}function tm(){if(Pe!==null){if(Ze===0)var t=Pe.return;else t=Pe,ss=Qr=null,yd(t),Ka=null,vl=0,t=Pe;for(;t!==null;)z_(t.alternate,t),t=t.return;Pe=null}}function so(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Gw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ps=0,tm(),rt=t,Pe=a=ns(t.current,null),ze=s,Ze=0,xn=null,Ks=!1,to=Wn(t,s),Xd=!1,no=Rn=$d=na=Xs=pt=0,pn=Vl=null,Wd=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-gt(l),d=1<<f;s|=t[f],l&=~d}return ms=s,uu(),a}function uv(t,s){Me=null,F.H=Rl,s===Qa||s===_u?(s=xy(),Ze=3):s===rd?(s=xy(),Ze=4):Ze=s===Md?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,Pe===null&&(pt=1,Ou(t,kn(s,t.current)))}function hv(){var t=wn.current;return t===null?!0:(ze&4194048)===ze?zn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===zn:!1}function fv(){var t=F.H;return F.H=Rl,t===null?Rl:t}function dv(){var t=F.A;return F.A=Sw,t}function Hu(){pt=4,Ks||(ze&4194048)!==ze&&wn.current!==null||(to=!0),(Xs&134217727)===0&&(na&134217727)===0||rt===null||Js(rt,ze,Rn,!1)}function nm(t,s,a){var l=$e;$e|=2;var f=fv(),d=dv();(rt!==t||ze!==s)&&(Fu=null,so(t,s)),s=!1;var v=pt;e:do try{if(Ze!==0&&Pe!==null){var S=Pe,M=xn;switch(Ze){case 8:tm(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(s=!0);var G=Ze;if(Ze=0,xn=null,ro(t,S,M,G),a&&to){v=0;break e}break;default:G=Ze,Ze=0,xn=null,ro(t,S,M,G)}}xw(),v=pt;break}catch(te){uv(t,te)}while(!0);return s&&t.shellSuspendCounter++,ss=Qr=null,$e=l,F.H=f,F.A=d,Pe===null&&(rt=null,ze=0,uu()),v}function xw(){for(;Pe!==null;)mv(Pe)}function Rw(t,s){var a=$e;$e|=2;var l=fv(),f=dv();rt!==t||ze!==s?(Fu=null,Bu=an()+500,so(t,s)):to=Wn(t,s);e:do try{if(Ze!==0&&Pe!==null){s=Pe;var d=xn;t:switch(Ze){case 1:Ze=0,xn=null,ro(t,s,d,1);break;case 2:case 9:if(wy(d)){Ze=0,xn=null,pv(s);break}s=function(){Ze!==2&&Ze!==9||rt!==t||(Ze=7),Pi(t)},d.then(s,s);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:wy(d)?(Ze=0,xn=null,pv(s)):(Ze=0,xn=null,ro(t,s,d,7));break;case 5:var v=null;switch(Pe.tag){case 26:v=Pe.memoizedState;case 5:case 27:var S=Pe;if(v?e0(v):S.stateNode.complete){Ze=0,xn=null;var M=S.sibling;if(M!==null)Pe=M;else{var G=S.return;G!==null?(Pe=G,Gu(G)):Pe=null}break t}}Ze=0,xn=null,ro(t,s,d,5);break;case 6:Ze=0,xn=null,ro(t,s,d,6);break;case 8:tm(),pt=6;break e;default:throw Error(r(462))}}Nw();break}catch(te){uv(t,te)}while(!0);return ss=Qr=null,F.H=l,F.A=f,$e=a,Pe!==null?0:(rt=null,ze=0,uu(),pt)}function Nw(){for(;Pe!==null&&!Of();)mv(Pe)}function mv(t){var s=L_(t.alternate,t,ms);t.memoizedProps=t.pendingProps,s===null?Gu(t):Pe=s}function pv(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=O_(a,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=O_(a,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:yd(s);default:z_(a,s),s=Pe=dy(s,ms),s=L_(a,s,ms)}t.memoizedProps=t.pendingProps,s===null?Gu(t):Pe=s}function ro(t,s,a,l){ss=Qr=null,yd(s),Ka=null,vl=0;var f=s.return;try{if(gw(t,f,s,a,ze)){pt=1,Ou(t,kn(a,t.current)),Pe=null;return}}catch(d){if(f!==null)throw Pe=f,d;pt=1,Ou(t,kn(a,t.current)),Pe=null;return}s.flags&32768?(Ge||l===1?t=!0:to||(ze&536870912)!==0?t=!1:(Ks=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gv(s,t)):Gu(s)}function Gu(t){var s=t;do{if((s.flags&32768)!==0){gv(s,Ks);return}t=s.return;var a=vw(s.alternate,s,ms);if(a!==null){Pe=a;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=t}while(s!==null);pt===0&&(pt=5)}function gv(t,s){do{var a=Ew(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);pt=6,Pe=null}function yv(t,s,a,l,f,d,v,S,M){t.cancelPendingCommit=null;do Yu();while(kt!==0);if(($e&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Hf,Vf(t,a,d,v,S,M),t===rt&&(Pe=rt=null,ze=0),io=s,Ws=t,ps=a,Jd=d,Zd=f,av=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ow(Ns,function(){return bv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,f=ae.p,ae.p=2,v=$e,$e|=4;try{Tw(t,s,a)}finally{$e=v,ae.p=f,F.T=l}}kt=1,_v(),vv(),Ev()}}function _v(){if(kt===1){kt=0;var t=Ws,s=io,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{J_(s,t);var d=mm,v=sy(t.containerInfo),S=d.focusedElem,M=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&iy(S.ownerDocument.documentElement,S)){if(M!==null&&Uf(S)){var G=M.start,te=M.end;if(te===void 0&&(te=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(te,S.value.length);else{var re=S.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),_e=S.textContent.length,we=Math.min(M.start,_e),st=M.end===void 0?we:Math.min(M.end,_e);!W.extend&&we>st&&(v=st,st=we,we=v);var B=ny(S,we),U=ny(S,st);if(B&&U&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var H=re.createRange();H.setStart(B.node,B.offset),W.removeAllRanges(),we>st?(W.addRange(H),W.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),W.addRange(H))}}}}for(re=[],W=S;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var ie=re[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}sh=!!dm,mm=dm=null}finally{$e=f,ae.p=l,F.T=a}}t.current=s,kt=2}}function vv(){if(kt===2){kt=0;var t=Ws,s=io,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{Q_(t,s.alternate,s)}finally{$e=f,ae.p=l,F.T=a}}kt=3}}function Ev(){if(kt===4||kt===3){kt=0,kc();var t=Ws,s=io,a=ps,l=av;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kt=5:(kt=0,io=Ws=null,Tv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&($s=null),Ji(a),s=s.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot($n,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=F.T,f=ae.p,ae.p=2,F.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{F.T=s,ae.p=f}}(ps&3)!==0&&Yu(),Pi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===em?kl++:(kl=0,em=t):kl=0,Pl(0)}}function Tv(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,yl(s)))}function Yu(){return _v(),vv(),Ev(),bv()}function bv(){if(kt!==5)return!1;var t=Ws,s=Jd;Jd=0;var a=Ji(ps),l=F.T,f=ae.p;try{ae.p=32>a?32:a,F.T=null,a=Zd,Zd=null;var d=Ws,v=ps;if(kt=0,io=Ws=null,ps=0,($e&6)!==0)throw Error(r(331));var S=$e;if($e|=4,iv(d.current),ev(d,d.current,v,a),$e=S,Pl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{ae.p=f,F.T=l,Tv(t,s)}}function Sv(t,s,a){s=kn(a,s),s=Od(t.stateNode,s,2),t=Hs(t,s,2),t!==null&&(Ir(t,2),Pi(t))}function et(t,s,a){if(t.tag===3)Sv(t,t,a);else for(;s!==null;){if(s.tag===3){Sv(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($s===null||!$s.has(l))){t=kn(a,t),a=w_(2),l=Hs(s,a,2),l!==null&&(A_(a,l,s,t),Ir(l,2),Pi(l));break}}s=s.return}}function im(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ww;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Xd=!0,f.add(a),t=Cw.bind(null,t,s,a),s.then(t,t))}function Cw(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(ze&a)===a&&(pt===4||pt===3&&(ze&62914560)===ze&&300>an()-zu?($e&2)===0&&so(t,0):$d|=a,no===ze&&(no=0)),Pi(t)}function wv(t,s){s===0&&(s=Fc()),t=Hr(t,s),t!==null&&(Ir(t,s),Pi(t))}function Iw(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),wv(t,a)}function Dw(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),wv(t,a)}function Ow(t,s){return Vt(t,s)}var Qu=null,ao=null,sm=!1,Ku=!1,rm=!1,Zs=0;function Pi(t){t!==ao&&t.next===null&&(ao===null?Qu=ao=t:ao=ao.next=t),Ku=!0,sm||(sm=!0,jw())}function Pl(t,s){if(!rm&&Ku){rm=!0;do for(var a=!1,l=Qu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=f&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Nv(l,d))}else d=ze,d=vi(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,Nv(l,d));l=l.next}while(a);rm=!1}}function Mw(){Av()}function Av(){Ku=sm=!1;var t=0;Zs!==0&&Hw()&&(t=Zs);for(var s=an(),a=null,l=Qu;l!==null;){var f=l.next,d=xv(l,s);d===0?(l.next=null,a===null?Qu=f:a.next=f,f===null&&(ao=a)):(a=l,(t!==0||(d&3)!==0)&&(Ku=!0)),l=f}kt!==0&&kt!==5||Pl(t),Zs!==0&&(Zs=0)}function xv(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-gt(d),S=1<<v,M=f[v];M===-1?((S&a)===0||(S&l)!==0)&&(f[v]=jf(S,s)):M<=s&&(t.expiredLanes|=S),d&=~S}if(s=rt,a=ze,a=vi(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Rs(l),Ji(a)){case 2:case 8:a=Qo;break;case 32:a=Ns;break;case 268435456:a=Pc;break;default:a=Ns}return l=Rv.bind(null,t),a=Vt(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Rs(l),t.callbackPriority=2,t.callbackNode=null,2}function Rv(t,s){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yu()&&t.callbackNode!==a)return null;var l=ze;return l=vi(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(lv(t,l,s),xv(t,an()),t.callbackNode!=null&&t.callbackNode===a?Rv.bind(null,t):null)}function Nv(t,s){if(Yu())return null;lv(t,s,!0)}function jw(){Yw(function(){($e&6)!==0?Vt(Yo,Mw):Av()})}function am(){if(Zs===0){var t=Ga;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Zs=t}return Zs}function Cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function Iv(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Vw(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=Cv((f[Lt]||null).action),v=l.submitter;v&&(s=(s=v[Lt]||null)?Cv(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var S=new Ii("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var M=v?Iv(f,v):new FormData(f);xd(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(S.preventDefault(),M=v?Iv(f,v):new FormData(f),xd(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var om=0;om<qf.length;om++){var lm=qf[om],kw=lm.toLowerCase(),Pw=lm[0].toUpperCase()+lm.slice(1);ri(kw,"on"+Pw)}ri(oy,"onAnimationEnd"),ri(ly,"onAnimationIteration"),ri(cy,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(ZS,"onTransitionRun"),ri(ew,"onTransitionStart"),ri(tw,"onTransitionCancel"),ri(uy,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Dv(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var S=l[v],M=S.instance,G=S.currentTarget;if(S=S.listener,M!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch(te){cu(te)}f.currentTarget=null,d=M}else for(v=0;v<l.length;v++){if(S=l[v],M=S.instance,G=S.currentTarget,S=S.listener,M!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch(te){cu(te)}f.currentTarget=null,d=M}}}}function Le(t,s){var a=s[Aa];a===void 0&&(a=s[Aa]=new Set);var l=t+"__bubble";a.has(l)||(Ov(s,t,2,!1),a.add(l))}function cm(t,s,a){var l=0;s&&(l|=4),Ov(a,t,l,s)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function um(t){if(!t[Xu]){t[Xu]=!0,$o.forEach(function(a){a!=="selectionchange"&&(Lw.has(a)||cm(a,!1,t),cm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Xu]||(s[Xu]=!0,cm("selectionchange",!1,s))}}function Ov(t,s,a,l){switch(o0(s)){case 2:var f=fA;break;case 8:f=dA;break;default:f=Am}a=f.bind(null,s,a,t),f=void 0,!kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function hm(t,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=Si(S),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=d=v;continue e}S=S.parentNode}}l=l.return}js(function(){var G=d,te=On(a),re=[];e:{var Q=hy.get(t);if(Q!==void 0){var W=Ii,_e=t;switch(t){case"keypress":if(Lr(a)===0)break e;case"keydown":case"keyup":W=au;break;case"focusin":_e="focus",W=zr;break;case"focusout":_e="blur",W=zr;break;case"beforeblur":case"afterblur":W=zr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case oy:case ly:case cy:W=Zc;break;case uy:W=w;break;case"scroll":case"scrollend":W=ll;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ts;break;case"toggle":case"beforetoggle":W=Oe}var we=(s&4)!==0,st=!we&&(t==="scroll"||t==="scrollend"),B=we?Q!==null?Q+"Capture":null:Q;we=[];for(var U=G,H;U!==null;){var ie=U;if(H=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||H===null||B===null||(ie=ti(U,B),ie!=null&&we.push(Ul(U,ie,H))),st)break;U=U.return}0<we.length&&(Q=new W(Q,_e,null,a,te),re.push({event:Q,listeners:we}))}}if((s&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",Q&&a!==rl&&(_e=a.relatedTarget||a.fromElement)&&(Si(_e)||_e[Ti]))break e;if((W||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(_e=a.relatedTarget||a.toElement,W=G,_e=_e?Si(_e):null,_e!==null&&(st=c(_e),we=_e.tag,_e!==st||we!==5&&we!==27&&we!==6)&&(_e=null)):(W=null,_e=G),W!==_e)){if(we=cl,ie="onMouseLeave",B="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(we=ts,ie="onPointerLeave",B="onPointerEnter",U="pointer"),st=W==null?Q:En(W),H=_e==null?Q:En(_e),Q=new we(ie,U+"leave",W,a,te),Q.target=st,Q.relatedTarget=H,ie=null,Si(te)===G&&(we=new we(B,U+"enter",_e,a,te),we.target=H,we.relatedTarget=st,ie=we),st=ie,W&&_e)t:{for(we=Uw,B=W,U=_e,H=0,ie=B;ie;ie=we(ie))H++;ie=0;for(var Te=U;Te;Te=we(Te))ie++;for(;0<H-ie;)B=we(B),H--;for(;0<ie-H;)U=we(U),ie--;for(;H--;){if(B===U||U!==null&&B===U.alternate){we=B;break t}B=we(B),U=we(U)}we=null}else we=null;W!==null&&Mv(re,Q,W,we,!1),_e!==null&&st!==null&&Mv(re,st,_e,we,!0)}}e:{if(Q=G?En(G):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Qe=$g;else if(Kg(Q))if(Wg)Qe=$S;else{Qe=KS;var Ee=QS}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Ca(G.elementType)&&(Qe=$g):Qe=XS;if(Qe&&(Qe=Qe(t,G))){Xg(re,Qe,a,te);break e}Ee&&Ee(t,Q,G),t==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&nl(Q,"number",Q.value)}switch(Ee=G?En(G):window,t){case"focusin":(Kg(Ee)||Ee.contentEditable==="true")&&(Pa=Ee,zf=G,ml=null);break;case"focusout":ml=zf=Pa=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,ry(re,a,te);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":ry(re,a,te)}var ke;if(Xe)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else ka?Br(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Mi&&a.locale!=="ko"&&(ka||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&ka&&(ke=ol()):(Ci=te,al="value"in Ci?Ci.value:Ci.textContent,ka=!0)),Ee=$u(G,Be),0<Ee.length&&(Be=new Oi(Be,t,null,a,te),re.push({event:Be,listeners:Ee}),ke?Be.data=ke:(ke=Va(a),ke!==null&&(Be.data=ke)))),(ke=jn?qS(t,a):HS(t,a))&&(Be=$u(G,"onBeforeInput"),0<Be.length&&(Ee=new Oi("onBeforeInput","beforeinput",null,a,te),re.push({event:Ee,listeners:Be}),Ee.data=ke)),Vw(re,t,G,a,te)}Dv(re,s)})}function Ul(t,s,a){return{instance:t,listener:s,currentTarget:a}}function $u(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ti(t,a),f!=null&&l.unshift(Ul(t,f,d)),f=ti(t,s),f!=null&&l.push(Ul(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Uw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mv(t,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var S=a,M=S.alternate,G=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||G===null||(M=G,f?(G=ti(a,d),G!=null&&v.unshift(Ul(a,G,M))):f||(G=ti(a,d),G!=null&&v.push(Ul(a,G,M)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var zw=/\r\n?/g,Bw=/\u0000|\uFFFD/g;function jv(t){return(typeof t=="string"?t:""+t).replace(zw,`
`).replace(Bw,"")}function Vv(t,s){return s=jv(s),jv(t)===s}function it(t,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&hn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,l);break;case"style":sl(t,l,d);break;case"data":if(s!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&it(t,s,"name",f.name,f,null),it(t,s,"formEncType",f.formEncType,f,null),it(t,s,"formMethod",f.formMethod,f,null),it(t,s,"formTarget",f.formTarget,f,null)):(it(t,s,"encType",f.encType,f,null),it(t,s,"method",f.method,f,null),it(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$c.get(a)||a,Ra(t,a,l))}}function fm(t,s,a,l,f,d){switch(a){case"style":sl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function Kt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:it(t,s,d,v,a,null)}}f&&it(t,s,"srcSet",a.srcSet,a,null),l&&it(t,s,"src",a.src,a,null);return;case"input":Le("invalid",t);var S=d=v=f=null,M=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":f=te;break;case"type":v=te;break;case"checked":M=te;break;case"defaultChecked":G=te;break;case"value":d=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:it(t,s,l,te,a,null)}}Qc(t,d,S,M,G,v,f,!1);return;case"select":Le("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:it(t,s,f,S,a,null)}s=d,a=v,t.multiple=!!l,s!=null?Is(t,!!l,s,!1):a!=null&&Is(t,!!l,a,!0);return;case"textarea":Le("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:it(t,s,v,S,a,null)}Ds(t,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,s,M,l,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Le(Ll[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:it(t,s,G,l,a,null)}return;default:if(Ca(s)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&fm(t,s,te,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&it(t,s,S,l,a,null))}function Fw(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,S=null,M=null,G=null,te=null;for(W in a){var re=a[W];if(a.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=re;default:l.hasOwnProperty(W)||it(t,s,W,null,l,re)}}for(var Q in l){var W=l[Q];if(re=a[Q],l.hasOwnProperty(Q)&&(W!=null||re!=null))switch(Q){case"type":d=W;break;case"name":f=W;break;case"checked":G=W;break;case"defaultChecked":te=W;break;case"value":v=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==re&&it(t,s,Q,W,l,re)}}Na(t,v,S,M,G,te,d,f);return;case"select":W=v=S=Q=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":W=M;default:l.hasOwnProperty(d)||it(t,s,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":Q=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==M&&it(t,s,f,d,l,M)}s=S,a=v,l=W,Q!=null?Is(t,!!a,Q,!1):!!l!=!!a&&(s!=null?Is(t,!!a,s,!0):Is(t,!!a,a?[]:"",!1));return;case"textarea":W=Q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(t,s,S,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":Q=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&it(t,s,v,f,l,d)}Kc(t,Q,W);return;case"option":for(var _e in a)if(Q=a[_e],a.hasOwnProperty(_e)&&Q!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:it(t,s,_e,null,l,Q)}for(M in l)if(Q=l[M],W=a[M],l.hasOwnProperty(M)&&Q!==W&&(Q!=null||W!=null))switch(M){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:it(t,s,M,Q,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)Q=a[we],a.hasOwnProperty(we)&&Q!=null&&!l.hasOwnProperty(we)&&it(t,s,we,null,l,Q);for(G in l)if(Q=l[G],W=a[G],l.hasOwnProperty(G)&&Q!==W&&(Q!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:it(t,s,G,Q,l,W)}return;default:if(Ca(s)){for(var st in a)Q=a[st],a.hasOwnProperty(st)&&Q!==void 0&&!l.hasOwnProperty(st)&&fm(t,s,st,void 0,l,Q);for(te in l)Q=l[te],W=a[te],!l.hasOwnProperty(te)||Q===W||Q===void 0&&W===void 0||fm(t,s,te,Q,l,W);return}}for(var B in a)Q=a[B],a.hasOwnProperty(B)&&Q!=null&&!l.hasOwnProperty(B)&&it(t,s,B,null,l,Q);for(re in l)Q=l[re],W=a[re],!l.hasOwnProperty(re)||Q===W||Q==null&&W==null||it(t,s,re,Q,l,W)}function kv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,S=f.duration;if(d&&S&&kv(v)){for(v=0,S=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],G=M.startTime;if(G>S)break;var te=M.transferSize,re=M.initiatorType;te&&kv(re)&&(M=M.responseEnd,v+=te*(M<S?1:(S-G)/(M-G)))}if(--l,s+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dm=null,mm=null;function Wu(t){return t.nodeType===9?t:t.ownerDocument}function Pv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function pm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gm=null;function Hw(){var t=window.event;return t&&t.type==="popstate"?t===gm?!1:(gm=t,!0):(gm=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,Yw=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(t){return zv.resolve(null).then(t).catch(Qw)}:Uv;function Qw(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function Bv(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),uo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[bi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&zl(t.ownerDocument.body);a=f}while(a);uo(s)}function Fv(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function ym(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Kw(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Xw(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function qv(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Bn(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$?"||t.data==="$~"}function vm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $w(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Em=null;function Hv(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Bn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Gv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Yv(t,s,a){switch(s=Wu(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);xa(t)}var Fn=new Map,Qv=new Set;function Ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=ae.d;ae.d={f:Ww,r:Jw,D:Zw,C:eA,L:tA,m:nA,X:sA,S:iA,M:rA};function Ww(){var t=gs.f(),s=qu();return t||s}function Jw(t){var s=Dn(t);s!==null&&s.tag===5&&s.type==="form"?u_(s):gs.r(t)}var oo=typeof document>"u"?null:document;function Kv(t,s,a){var l=oo;if(l&&typeof s=="string"&&s){var f=un(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Qv.has(f)||(Qv.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Kt(s,"link",t),At(s),l.head.appendChild(s)))}}function Zw(t){gs.D(t),Kv("dns-prefetch",t,null)}function eA(t,s){gs.C(t,s),Kv("preconnect",t,s)}function tA(t,s,a){gs.L(t,s,a);var l=oo;if(l&&t&&s){var f='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var d=f;switch(s){case"style":d=lo(t);break;case"script":d=co(t)}Fn.has(d)||(t=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Fn.set(d,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(Bl(d))||s==="script"&&l.querySelector(Fl(d))||(s=l.createElement("link"),Kt(s,"link",t),At(s),l.head.appendChild(s)))}}function nA(t,s){gs.m(t,s);var a=oo;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(t)}if(!Fn.has(d)&&(t=b({rel:"modulepreload",href:t},s),Fn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),Kt(l,"link",t),At(l),a.head.appendChild(l)}}}function iA(t,s,a){gs.S(t,s,a);var l=oo;if(l&&t){var f=wi(l).hoistableStyles,d=lo(t);s=s||"default";var v=f.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Bl(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Fn.get(d))&&Tm(t,a);var M=v=l.createElement("link");At(M),Kt(M,"link",t),M._p=new Promise(function(G,te){M.onload=G,M.onerror=te}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Zu(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(d,v)}}}function sA(t,s){gs.X(t,s);var a=oo;if(a&&t){var l=wi(a).hoistableScripts,f=co(t),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(t=b({src:t,async:!0},s),(s=Fn.get(f))&&bm(t,s),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function rA(t,s){gs.M(t,s);var a=oo;if(a&&t){var l=wi(a).hoistableScripts,f=co(t),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(t=b({src:t,async:!0,type:"module"},s),(s=Fn.get(f))&&bm(t,s),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Xv(t,s,a,l){var f=(f=Re.current)?Ju(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=lo(a.href),a=wi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var d=wi(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||aA(f,t,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=co(a),a=wi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function lo(t){return'href="'+un(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function $v(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function aA(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Kt(s,"link",a),At(s),t.head.appendChild(s))}function co(t){return'[src="'+un(t)+'"]'}function Fl(t){return"script[async]"+t}function Wv(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return s.instance=l,At(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Kt(l,"style",f),Zu(l,a.precedence,t),s.instance=l;case"stylesheet":f=lo(a.href);var d=t.querySelector(Bl(f));if(d)return s.state.loading|=4,s.instance=d,At(d),d;l=$v(a),(f=Fn.get(f))&&Tm(l,f),d=(t.ownerDocument||t).createElement("link"),At(d);var v=d;return v._p=new Promise(function(S,M){v.onload=S,v.onerror=M}),Kt(d,"link",l),s.state.loading|=4,Zu(d,a.precedence,t),s.instance=d;case"script":return d=co(a.src),(f=t.querySelector(Fl(d)))?(s.instance=f,At(f),f):(l=a,(f=Fn.get(d))&&(l=b({},a),bm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),Kt(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Zu(l,a.precedence,t));return s.instance}function Zu(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Tm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function bm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var eh=null;function Jv(t,s,a){if(eh===null){var l=new Map,f=eh=new Map;f.set(a,l)}else f=eh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[bi]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function Zv(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function oA(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function e0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lA(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=lo(l.href),d=s.querySelector(Bl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=th.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=s.ownerDocument||s,l=$v(l),(f=Fn.get(f))&&Tm(l,f),d=d.createElement("link"),At(d);var v=d;v._p=new Promise(function(S,M){v.onload=S,v.onerror=M}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=th.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Sm=0;function cA(t,s){return t.stylesheets&&t.count===0&&ih(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ih(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&Sm===0&&(Sm=62500*qw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ih(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Sm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function th(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ih(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nh=null;function ih(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nh=new Map,s.forEach(uA,t),nh=null,th.call(t))}function uA(t,s){if(!(s.state.loading&4)){var a=nh.get(t);if(a)var l=a.get(null);else{a=new Map,nh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=th.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var ql={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function hA(t,s,a,l,f,d,v,S,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function t0(t,s,a,l,f,d,v,S,M,G,te,re){return t=new hA(t,s,a,v,M,G,te,re,S),s=1,d===!0&&(s|=24),d=Sn(3,null,null,s),t.current=d,d.stateNode=t,s=nd(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},ad(d),t}function n0(t){return t?(t=za,t):za}function i0(t,s,a,l,f,d){f=n0(f),l.context===null?l.context=f:l.pendingContext=f,l=qs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hs(t,l,s),a!==null&&(gn(a,t,s),Tl(a,t,s))}function s0(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function wm(t,s){s0(t,s),(t=t.alternate)&&s0(t,s)}function r0(t){if(t.tag===13||t.tag===31){var s=Hr(t,67108864);s!==null&&gn(s,t,67108864),wm(t,67108864)}}function a0(t){if(t.tag===13||t.tag===31){var s=Nn();s=Or(s);var a=Hr(t,s);a!==null&&gn(a,t,s),wm(t,s)}}var sh=!0;function fA(t,s,a,l){var f=F.T;F.T=null;var d=ae.p;try{ae.p=2,Am(t,s,a,l)}finally{ae.p=d,F.T=f}}function dA(t,s,a,l){var f=F.T;F.T=null;var d=ae.p;try{ae.p=8,Am(t,s,a,l)}finally{ae.p=d,F.T=f}}function Am(t,s,a,l){if(sh){var f=xm(l);if(f===null)hm(t,s,l,rh,a),l0(t,l);else if(pA(f,t,s,a,l))l.stopPropagation();else if(l0(t,l),s&4&&-1<mA.indexOf(t)){for(;f!==null;){var d=Dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=_i(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var M=1<<31-gt(v);S.entanglements[1]|=M,v&=~M}Pi(d),($e&6)===0&&(Bu=an()+500,Pl(0))}}break;case 31:case 13:S=Hr(d,2),S!==null&&gn(S,d,2),qu(),wm(d,2)}if(d=xm(l),d===null&&hm(t,s,l,rh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else hm(t,s,l,null,a)}}function xm(t){return t=On(t),Rm(t)}var rh=null;function Rm(t){if(rh=null,t=Si(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=u(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return rh=t,null}function o0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nr()){case Yo:return 2;case Qo:return 8;case Ns:case Mf:return 32;case Pc:return 268435456;default:return 32}default:return 32}}var Nm=!1,tr=null,nr=null,ir=null,Hl=new Map,Gl=new Map,sr=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l0(t,s){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Hl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(s.pointerId)}}function Yl(t,s,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Dn(s),s!==null&&r0(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function pA(t,s,a,l,f){switch(s){case"focusin":return tr=Yl(tr,t,s,a,l,f),!0;case"dragenter":return nr=Yl(nr,t,s,a,l,f),!0;case"mouseover":return ir=Yl(ir,t,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Hl.set(d,Yl(Hl.get(d)||null,t,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Gl.set(d,Yl(Gl.get(d)||null,t,s,a,l,f)),!0}return!1}function c0(t){var s=Si(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){t.blockedOn=s,Jn(t.priority,function(){a0(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,Jn(t.priority,function(){a0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ah(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=xm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return s=Dn(a),s!==null&&r0(s),t.blockedOn=a,!1;s.shift()}return!0}function u0(t,s,a){ah(t)&&a.delete(s)}function gA(){Nm=!1,tr!==null&&ah(tr)&&(tr=null),nr!==null&&ah(nr)&&(nr=null),ir!==null&&ah(ir)&&(ir=null),Hl.forEach(u0),Gl.forEach(u0)}function oh(t,s){t.blockedOn===s&&(t.blockedOn=null,Nm||(Nm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gA)))}var lh=null;function h0(t){lh!==t&&(lh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lh===t&&(lh=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(Rm(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(s,3),s-=3,xd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function uo(t){function s(M){return oh(M,t)}tr!==null&&oh(tr,t),nr!==null&&oh(nr,t),ir!==null&&oh(ir,t),Hl.forEach(s),Gl.forEach(s);for(var a=0;a<sr.length;a++){var l=sr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)c0(a),a.blockedOn===null&&sr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Lt]||null;if(typeof d=="function")v||h0(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Lt]||null)S=v.formAction;else if(Rm(f)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),h0(a)}}}function f0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Cm(t){this._internalRoot=t}ch.prototype.render=Cm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Nn();i0(a,l,t,s,null,null)},ch.prototype.unmount=Cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;i0(t.current,2,null,t,null,null),qu(),s[Ti]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var s=qc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<sr.length&&s!==0&&s<sr[a].priority;a++);sr.splice(a,0,t),a===0&&c0(t)}};var d0=e.version;if(d0!=="19.2.0")throw Error(r(527,d0,"19.2.0"));ae.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(s),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var yA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{$n=uh.inject(yA),qt=uh}catch{}}return Kl.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",f=E_,d=T_,v=b_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=t0(t,1,!1,null,null,a,l,null,f,d,v,f0),t[Ti]=s.current,um(t),new Cm(s)},Kl.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=E_,v=T_,S=b_,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=t0(t,1,!0,s,a??null,l,f,M,d,v,S,f0),s.context=n0(null),a=s.current,l=Nn(),l=Or(l),f=qs(l),f.callback=null,Hs(a,f,l),a=l,s.current.lanes=a,Ir(s,a),Pi(s),t[Ti]=s.current,um(t),new ch(s)},Kl.version="19.2.0",Kl}var S0;function NA(){if(S0)return Om.exports;S0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Om.exports=RA(),Om.exports}var CA=NA();const IA=wT(CA);var w0="popstate";function DA(i={}){function e(o,c){let{pathname:u="/",search:m="",hash:y=""}=_a(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),np("",{pathname:u,search:m,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let u=o.document.querySelector("base"),m="";if(u&&u.getAttribute("href")){let y=o.location.href,p=y.indexOf("#");m=p===-1?y:y.slice(0,p)}return m+"#"+(typeof c=="string"?c:lc(c))}function r(o,c){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return MA(e,n,r,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Yn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OA(){return Math.random().toString(36).substring(2,10)}function A0(i,e){return{usr:i.state,key:i.key,idx:e}}function np(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?_a(e):e,state:n,key:e&&e.key||r||OA()}}function lc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function _a(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function MA(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,m="POP",y=null,p=E();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function E(){return(u.state||{idx:null}).idx}function b(){m="POP";let k=E(),K=k==null?null:k-p;p=k,y&&y({action:m,location:z.location,delta:K})}function x(k,K){m="PUSH";let J=np(z.location,k,K);n&&n(J,k),p=E()+1;let ee=A0(J,p),me=z.createHref(J);try{u.pushState(ee,"",me)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(me)}c&&y&&y({action:m,location:z.location,delta:1})}function j(k,K){m="REPLACE";let J=np(z.location,k,K);n&&n(J,k),p=E();let ee=A0(J,p),me=z.createHref(J);u.replaceState(ee,"",me),c&&y&&y({action:m,location:z.location,delta:0})}function D(k){return jA(k)}let z={get action(){return m},get location(){return i(o,u)},listen(k){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(w0,b),y=k,()=>{o.removeEventListener(w0,b),y=null}},createHref(k){return e(o,k)},createURL:D,encodeLocation(k){let K=D(k);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:x,replace:j,go(k){return u.go(k)}};return z}function jA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:lc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function AT(i,e,n="/"){return VA(i,e,n,!1)}function VA(i,e,n,r){let o=typeof e=="string"?_a(e):e,c=Ts(o.pathname||"/",n);if(c==null)return null;let u=xT(i);kA(u);let m=null;for(let y=0;m==null&&y<u.length;++y){let p=QA(c);m=GA(u[y],p,r)}return m}function xT(i,e=[],n=[],r="",o=!1){let c=(u,m,y=o,p)=>{let E={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&y)return;ft(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let b=Es([r,E.relativePath]),x=n.concat(E);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),xT(u.children,e,x,b,y)),!(u.path==null&&!u.index)&&e.push({path:b,score:qA(b,u.index),routesMeta:x})};return i.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let y of RT(u.path))c(u,m,!0,y)}),e}function RT(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=RT(r.join("/")),m=[];return m.push(...u.map(y=>y===""?c:[c,y].join("/"))),o&&m.push(...u),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function kA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:HA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var PA=/^:[\w-]+$/,LA=3,UA=2,zA=1,BA=10,FA=-2,x0=i=>i==="*";function qA(i,e){let n=i.split("/"),r=n.length;return n.some(x0)&&(r+=FA),e&&(r+=UA),n.filter(o=>!x0(o)).reduce((o,c)=>o+(PA.test(c)?LA:c===""?zA:BA),r)}function HA(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function GA(i,e,n=!1){let{routesMeta:r}=i,o={},c="/",u=[];for(let m=0;m<r.length;++m){let y=r[m],p=m===r.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=Vh({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),x=y.route;if(!b&&p&&n&&!r[r.length-1].route.index&&(b=Vh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:Es([c,b.pathname]),pathnameBase:WA(Es([c,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(c=Es([c,b.pathnameBase]))}return u}function Vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=YA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:E,isOptional:b},x)=>{if(E==="*"){let D=m[x]||"";u=c.slice(0,c.length-D.length).replace(/(.)\/+$/,"$1")}const j=m[x];return b&&!j?p[E]=void 0:p[E]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:i}}function YA(i,e=!1,n=!0){Yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,y)=>(r.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function QA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ts(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}function KA(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?_a(i):i;return{pathname:n?n.startsWith("/")?n:XA(n,e):e,search:JA(r),hash:ZA(o)}}function XA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function km(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $A(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vp(i){let e=$A(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kp(i,e,n,r=!1){let o;typeof i=="string"?o=_a(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}m=b>=0?e[b]:"/"}let y=KA(o,m),p=u&&u!=="/"&&u.endsWith("/"),E=(c||u===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var Es=i=>i.join("/").replace(/\/\/+/g,"/"),WA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),JA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ZA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ex(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NT=["POST","PUT","PATCH","DELETE"];new Set(NT);var tx=["GET",...NT];new Set(tx);var Co=P.createContext(null);Co.displayName="DataRouter";var nf=P.createContext(null);nf.displayName="DataRouterState";P.createContext(!1);var CT=P.createContext({isTransitioning:!1});CT.displayName="ViewTransition";var nx=P.createContext(new Map);nx.displayName="Fetchers";var ix=P.createContext(null);ix.displayName="Await";var mi=P.createContext(null);mi.displayName="Navigation";var vc=P.createContext(null);vc.displayName="Location";var Qn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var Pp=P.createContext(null);Pp.displayName="RouteError";function sx(i,{relative:e}={}){ft(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(mi),{hash:o,pathname:c,search:u}=Ec(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Es([n,c])),r.createHref({pathname:m,search:u,hash:o})}function Io(){return P.useContext(vc)!=null}function Xi(){return ft(Io(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(vc).location}var IT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DT(i){P.useContext(mi).static||P.useLayoutEffect(i)}function Do(){let{isDataRoute:i}=P.useContext(Qn);return i?vx():rx()}function rx(){ft(Io(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(Co),{basename:e,navigator:n}=P.useContext(mi),{matches:r}=P.useContext(Qn),{pathname:o}=Xi(),c=JSON.stringify(Vp(r)),u=P.useRef(!1);return DT(()=>{u.current=!0}),P.useCallback((y,p={})=>{if(Yn(u.current,IT),!u.current)return;if(typeof y=="number"){n.go(y);return}let E=kp(y,JSON.parse(c),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Es([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,c,o,i])}var ax=P.createContext(null);function ox(i){let e=P.useContext(Qn).outlet;return P.useMemo(()=>e&&P.createElement(ax.Provider,{value:i},e),[e,i])}function OT(){let{matches:i}=P.useContext(Qn),e=i[i.length-1];return e?e.params:{}}function Ec(i,{relative:e}={}){let{matches:n}=P.useContext(Qn),{pathname:r}=Xi(),o=JSON.stringify(Vp(n));return P.useMemo(()=>kp(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function lx(i,e){return MT(i,e)}function MT(i,e,n,r,o){ft(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=P.useContext(mi),{matches:u}=P.useContext(Qn),m=u[u.length-1],y=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let J=b&&b.path||"";jT(p,!b||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let x=Xi(),j;if(e){let J=typeof e=="string"?_a(e):e;ft(E==="/"||J.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),j=J}else j=x;let D=j.pathname||"/",z=D;if(E!=="/"){let J=E.replace(/^\//,"").split("/");z="/"+D.replace(/^\//,"").split("/").slice(J.length).join("/")}let k=AT(i,{pathname:z});Yn(b||k!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Yn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=dx(k&&k.map(J=>Object.assign({},J,{params:Object.assign({},y,J.params),pathname:Es([E,c.encodeLocation?c.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:Es([E,c.encodeLocation?c.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),u,n,r,o);return e&&K?P.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},K):K}function cx(){let i=_x(),e=ex(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,u)}var ux=P.createElement(cx,null),hx=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?P.createElement(Qn.Provider,{value:this.props.routeContext},P.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fx({routeContext:i,match:e,children:n}){let r=P.useContext(Co);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Qn.Provider,{value:i},n)}function dx(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,u=n?.errors;if(u!=null){let p=c.findIndex(E=>E.route.id&&u?.[E.route.id]!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let m=!1,y=-1;if(n)for(let p=0;p<c.length;p++){let E=c[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=p),E.route.id){let{loaderData:b,errors:x}=n,j=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!x||x[E.route.id]===void 0);if(E.route.lazy||j){m=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((p,E,b)=>{let x,j=!1,D=null,z=null;n&&(x=u&&E.route.id?u[E.route.id]:void 0,D=E.route.errorElement||ux,m&&(y<0&&b===0?(jT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,z=null):y===b&&(j=!0,z=E.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,b+1)),K=()=>{let J;return x?J=D:j?J=z:E.route.Component?J=P.createElement(E.route.Component,null):E.route.element?J=E.route.element:J=p,P.createElement(fx,{match:E,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:J})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?P.createElement(hx,{location:n.location,revalidation:n.revalidation,component:D,error:x,children:K(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):K()},null)}function Lp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mx(i){let e=P.useContext(Co);return ft(e,Lp(i)),e}function px(i){let e=P.useContext(nf);return ft(e,Lp(i)),e}function gx(i){let e=P.useContext(Qn);return ft(e,Lp(i)),e}function Up(i){let e=gx(i),n=e.matches[e.matches.length-1];return ft(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function yx(){return Up("useRouteId")}function _x(){let i=P.useContext(Pp),e=px("useRouteError"),n=Up("useRouteError");return i!==void 0?i:e.errors?.[n]}function vx(){let{router:i}=mx("useNavigate"),e=Up("useNavigate"),n=P.useRef(!1);return DT(()=>{n.current=!0}),P.useCallback(async(o,c={})=>{Yn(n.current,IT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var R0={};function jT(i,e,n){!e&&!R0[i]&&(R0[i]=!0,Yn(!1,n))}P.memo(Ex);function Ex({routes:i,future:e,state:n,unstable_onError:r}){return MT(i,void 0,n,r,e)}function hh({to:i,replace:e,state:n,relative:r}){ft(Io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(mi);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext(Qn),{pathname:u}=Xi(),m=Do(),y=kp(i,Vp(c),u,r==="path"),p=JSON.stringify(y);return P.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:r})},[m,p,r,e,n]),null}function Tx(i){return ox(i.context)}function qn(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bx({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1}){ft(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=i.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof n=="string"&&(n=_a(n));let{pathname:y="/",search:p="",hash:E="",state:b=null,key:x="default"}=n,j=P.useMemo(()=>{let D=Ts(y,u);return D==null?null:{location:{pathname:D,search:p,hash:E,state:b,key:x},navigationType:r}},[u,y,p,E,b,x,r]);return Yn(j!=null,`<Router basename="${u}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:P.createElement(mi.Provider,{value:m},P.createElement(vc.Provider,{children:e,value:j}))}function Sx({children:i,location:e}){return lx(ip(i),e)}function ip(i,e=[]){let n=[];return P.Children.forEach(i,(r,o)=>{if(!P.isValidElement(r))return;let c=[...e,o];if(r.type===P.Fragment){n.push.apply(n,ip(r.props.children,c));return}ft(r.type===qn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=ip(r.props.children,c)),n.push(u)}),n}var Eh="get",Th="application/x-www-form-urlencoded";function sf(i){return i!=null&&typeof i.tagName=="string"}function wx(i){return sf(i)&&i.tagName.toLowerCase()==="button"}function Ax(i){return sf(i)&&i.tagName.toLowerCase()==="form"}function xx(i){return sf(i)&&i.tagName.toLowerCase()==="input"}function Rx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Nx(i,e){return i.button===0&&(!e||e==="_self")&&!Rx(i)}var fh=null;function Cx(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var Ix=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(i){return i!=null&&!Ix.has(i)?(Yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):i}function Dx(i,e){let n,r,o,c,u;if(Ax(i)){let m=i.getAttribute("action");r=m?Ts(m,e):null,n=i.getAttribute("method")||Eh,o=Pm(i.getAttribute("enctype"))||Th,c=new FormData(i)}else if(wx(i)||xx(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||m.getAttribute("action");if(r=y?Ts(y,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Eh,o=Pm(i.getAttribute("formenctype"))||Pm(m.getAttribute("enctype"))||Th,c=new FormData(m,i),!Cx()){let{name:p,type:E,value:b}=i;if(E==="image"){let x=p?`${p}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else p&&c.append(p,b)}}else{if(sf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eh,r=null,o=Th,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ox(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ts(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Mx(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Vx(i,e,n){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await Mx(c,n);return u.links?u.links():[]}return[]}));return Ux(r.flat(1).filter(jx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function N0(i,e,n,r,o,c){let u=(y,p)=>n[p]?y.route.id!==n[p].route.id:!0,m=(y,p)=>n[p].pathname!==y.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,p)=>u(y,p)||m(y,p)):c==="data"?e.filter((y,p)=>{let E=r.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(u(y,p)||m(y,p))return!0;if(y.route.shouldRevalidate){let b=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function kx(i,e,{includeHydrateFallback:n}={}){return Px(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Px(i){return[...new Set(i)]}function Lx(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function Ux(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(Lx(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function VT(){let i=P.useContext(Co);return zp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function zx(){let i=P.useContext(nf);return zp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Bp=P.createContext(void 0);Bp.displayName="FrameworkContext";function kT(){let i=P.useContext(Bp);return zp(i,"You must render this element inside a <HydratedRouter> element"),i}function Bx(i,e){let n=P.useContext(Bp),[r,o]=P.useState(!1),[c,u]=P.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=e,x=P.useRef(null);P.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let z=K=>{K.forEach(J=>{u(J.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[i]),P.useEffect(()=>{if(r){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[r]);let j=()=>{o(!0)},D=()=>{o(!1),u(!1)};return n?i!=="intent"?[c,x,{}]:[c,x,{onFocus:Xl(m,j),onBlur:Xl(y,D),onMouseEnter:Xl(p,j),onMouseLeave:Xl(E,D),onTouchStart:Xl(b,j)}]:[!1,x,{}]}function Xl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Fx({page:i,...e}){let{router:n}=VT(),r=P.useMemo(()=>AT(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?P.createElement(Hx,{page:i,matches:r,...e}):null}function qx(i){let{manifest:e,routeModules:n}=kT(),[r,o]=P.useState([]);return P.useEffect(()=>{let c=!1;return Vx(i,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,n]),r}function Hx({page:i,matches:e,...n}){let r=Xi(),{manifest:o,routeModules:c}=kT(),{basename:u}=VT(),{loaderData:m,matches:y}=zx(),p=P.useMemo(()=>N0(i,e,y,o,r,"data"),[i,e,y,o,r]),E=P.useMemo(()=>N0(i,e,y,o,r,"assets"),[i,e,y,o,r]),b=P.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let D=new Set,z=!1;if(e.forEach(K=>{let J=o.routes[K.route.id];!J||!J.hasLoader||(!p.some(ee=>ee.route.id===K.route.id)&&K.route.id in m&&c[K.route.id]?.shouldRevalidate||J.hasClientLoader?z=!0:D.add(K.route.id))}),D.size===0)return[];let k=Ox(i,u,"data");return z&&D.size>0&&k.searchParams.set("_routes",e.filter(K=>D.has(K.route.id)).map(K=>K.route.id).join(",")),[k.pathname+k.search]},[u,m,r,o,p,e,i,c]),x=P.useMemo(()=>kx(E,o),[E,o]),j=qx(E);return P.createElement(P.Fragment,null,b.map(D=>P.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),x.map(D=>P.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),j.map(({key:D,link:z})=>P.createElement("link",{key:D,nonce:n.nonce,...z})))}function Gx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PT&&(window.__reactRouterVersion="7.9.5")}catch{}function Yx({basename:i,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=DA({window:n,v5Compat:!0}));let o=r.current,[c,u]=P.useState({action:o.action,location:o.location}),m=P.useCallback(y=>{P.startTransition(()=>u(y))},[u]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(bx,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var LT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cn=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:m,target:y,to:p,preventScrollReset:E,viewTransition:b,...x},j){let{basename:D}=P.useContext(mi),z=typeof p=="string"&&LT.test(p),k,K=!1;if(typeof p=="string"&&z&&(k=p,PT))try{let C=new URL(window.location.href),N=p.startsWith("//")?new URL(C.protocol+p):new URL(p),O=Ts(N.pathname,D);N.origin===C.origin&&O!=null?p=O+N.search+N.hash:K=!0}catch{Yn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=sx(p,{relative:o}),[ee,me,ge]=Bx(r,x),ue=$x(p,{replace:u,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:b});function I(C){e&&e(C),C.defaultPrevented||ue(C)}let R=P.createElement("a",{...x,...ge,href:k||J,onClick:K||c?e:I,ref:Gx(j,me),target:y,"data-discover":!z&&n==="render"?"true":void 0});return ee&&!z?P.createElement(P.Fragment,null,R,P.createElement(Fx,{page:J})):R});Cn.displayName="Link";var Qx=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:m,children:y,...p},E){let b=Ec(u,{relative:p.relative}),x=Xi(),j=P.useContext(nf),{navigator:D,basename:z}=P.useContext(mi),k=j!=null&&tR(b)&&m===!0,K=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,J=x.pathname,ee=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(J=J.toLowerCase(),ee=ee?ee.toLowerCase():null,K=K.toLowerCase()),ee&&z&&(ee=Ts(ee,z)||ee);const me=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ge=J===K||!o&&J.startsWith(K)&&J.charAt(me)==="/",ue=ee!=null&&(ee===K||!o&&ee.startsWith(K)&&ee.charAt(K.length)==="/"),I={isActive:ge,isPending:ue,isTransitioning:k},R=ge?e:void 0,C;typeof r=="function"?C=r(I):C=[r,ge?"active":null,ue?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(I):c;return P.createElement(Cn,{...p,"aria-current":R,className:C,ref:E,style:N,to:u,viewTransition:m},typeof y=="function"?y(I):y)});Qx.displayName="NavLink";var Kx=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:u=Eh,action:m,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:b,...x},j)=>{let D=Zx(),z=eR(m,{relative:p}),k=u.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&LT.test(m),J=ee=>{if(y&&y(ee),ee.defaultPrevented)return;ee.preventDefault();let me=ee.nativeEvent.submitter,ge=me?.getAttribute("formmethod")||u;D(me||ee.currentTarget,{fetcherKey:e,method:ge,navigate:n,replace:o,state:c,relative:p,preventScrollReset:E,viewTransition:b})};return P.createElement("form",{ref:j,method:k,action:z,onSubmit:r?y:J,...x,"data-discover":!K&&i==="render"?"true":void 0})});Kx.displayName="Form";function Xx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UT(i){let e=P.useContext(Co);return ft(e,Xx(i)),e}function $x(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:u}={}){let m=Do(),y=Xi(),p=Ec(i,{relative:c});return P.useCallback(E=>{if(Nx(E,e)){E.preventDefault();let b=n!==void 0?n:lc(y)===lc(p);m(i,{replace:b,state:r,preventScrollReset:o,relative:c,viewTransition:u})}},[y,m,p,n,r,e,i,o,c,u])}var Wx=0,Jx=()=>`__${String(++Wx)}__`;function Zx(){let{router:i}=UT("useSubmit"),{basename:e}=P.useContext(mi),n=yx();return P.useCallback(async(r,o={})=>{let{action:c,method:u,encType:m,formData:y,body:p}=Dx(r,e);if(o.navigate===!1){let E=o.fetcherKey||Jx();await i.fetch(E,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function eR(i,{relative:e}={}){let{basename:n}=P.useContext(mi),r=P.useContext(Qn);ft(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Ec(i||".",{relative:e})},u=Xi();if(i==null){c.search=u.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Es([n,c.pathname])),lc(c)}function tR(i,{relative:e}={}){let n=P.useContext(CT);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=UT("useViewTransitionState"),o=Ec(i,{relative:e});if(!n.isTransitioning)return!1;let c=Ts(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ts(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vh(o.pathname,u)!=null||Vh(o.pathname,c)!=null}function nR({imageUrl:i,active:e,caption:n}){return g.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${e?"opacity-100":"opacity-0"}`,"aria-hidden":!e,children:[g.jsx("img",{src:i,alt:"Escena de pelcula",className:"w-full h-full object-cover"}),g.jsx("div",{className:"fv-hero__overlay"}),g.jsx("div",{className:"fv-hero__content",children:g.jsxs("div",{children:[g.jsx("h1",{className:"fv-hero__title tracking-wide",children:"El lugar donde vive tu cine."}),g.jsx("p",{className:"fv-hero__caption",children:n})]})})]})}function iR(){const i=Do();return g.jsx("button",{className:"fv-hero__cta",onClick:()=>i("/signup"),children:"nete a Film Vault"})}const sR="/Film-Vault/assets/slide1-FhJr-2kh.jpg",rR="/Film-Vault/assets/slide2-CvAOXQyb.jpg",aR="/Film-Vault/assets/slide3-jkhpJ6bn.jpg",oR="/Film-Vault/assets/slide4-BrUiErUp.jpg",lR="/Film-Vault/assets/slide5-BRyC21vU.jpg",ar=[{img:sR,caption:"Califica pelculas con estrellas."},{img:rR,caption:"Escribe reseas y comparte tu opinin."},{img:aR,caption:"Crea tu Watchlist y organiza tus pendientes."},{img:oR,caption:"Sigue tu historial y descubre tendencias."},{img:lR,caption:"Comparte tu pasin por el cine."}],cR=4e3;function uR(){const[i,e]=P.useState(0),n=P.useRef(null);P.useEffect(()=>{if(ar.length)return n.current!==null&&window.clearTimeout(n.current),n.current=window.setTimeout(()=>{e(u=>(u+1)%ar.length)},cR),()=>{n.current!==null&&window.clearTimeout(n.current)}},[i]);const r=()=>{e(u=>(u-1+ar.length)%ar.length)},o=()=>{e(u=>(u+1)%ar.length)},c=u=>{e(u)};return g.jsx("section",{className:"fv-hero h-[100vh] flex flex-col relative bg-black",children:g.jsxs("div",{className:"relative flex-1",children:[ar.map((u,m)=>g.jsx(nR,{imageUrl:u.img,caption:u.caption,active:m===i},m)),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:g.jsx("div",{className:"mt-40 md:mt-52 pointer-events-auto",children:g.jsx(iR,{})})}),ar.length>1&&g.jsxs(g.Fragment,{children:[g.jsx("button",{type:"button","aria-label":"Anterior",className:"absolute left-3 top-1/2 -translate-y-1/2 bg-black/40 hover:bg-black/60 rounded-full w-10 h-10 grid place-items-center cursor-pointer",onClick:r,children:""}),g.jsx("button",{type:"button","aria-label":"Siguiente",className:"absolute right-3 top-1/2 -translate-y-1/2 bg-black/40 hover:bg-black/60 rounded-full w-10 h-10 grid place-items-center cursor-pointer",onClick:o,children:""})]}),g.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:ar.map((u,m)=>g.jsx("button",{type:"button","aria-label":`Ir al slide ${m+1}`,onClick:()=>c(m),className:`w-2.5 h-2.5 rounded-full cursor-pointer ${m===i?"bg-white":"bg-white/50"}`},m))})]})})}const hR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20viewBox='0%200%20512%20512'%3e%3c!--%20Generator:%20Adobe%20Illustrator%2029.0.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%202.1.0%20Build%20192)%20--%3e%3cdefs%3e%3cstyle%3e%20.st0%20{%20fill:%20%23e50914;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='st0'%20d='M512,200.4c0,4.9-4.7,11.1-14.1,18.5l-134.1,97.5,51.2,157.5c1.6,5.5,2.4,10.4,2.4,14.6,0,7.8-2.9,11.7-8.8,11.7s-11.7-2.8-18.5-8.3l-134.1-97-134.1,97c-7.5,5.5-13.8,8.3-19,8.3s-8.8-3.7-8.8-11.2,1-8.6,2.9-15.1l51.2-157.5L14.1,218.9c-9.4-6.8-14.1-12.8-14.1-18,0-7.5,8-11.2,23.9-11.2l165.8.5,50.7-158c3.9-13,9.1-19.5,15.6-19.5s11.2,6.5,15.1,19.5l51.7,158,165.3-.5c15.9,0,23.9,3.6,23.9,10.7Z'/%3e%3c/svg%3e",fR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20viewBox='0%200%20512%20512'%3e%3c!--%20Generator:%20Adobe%20Illustrator%2029.0.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%202.1.0%20Build%20192)%20--%3e%3cdefs%3e%3cstyle%3e%20.st0%20{%20fill:%20%23e50914;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='st0'%20d='M405.3,396.6c-11.8,0-21.3,9.6-21.3,21.3v46.1c0,2.9-2.4,5.3-5.3,5.3H48c-2.8,0-5.1-2.1-5.3-4.9V101.8c0-2.9,2.4-5.3,5.3-5.3h26.7c11.8,0,21.3-9.6,21.3-21.3s-9.6-21.3-21.3-21.3h-32C19.1,53.8,0,72.9,0,96.4v372.9c0,23.6,19.1,42.7,42.7,42.7h341.3c23.6,0,42.7-19.1,42.7-42.7v-51.4c0-11.8-9.6-21.3-21.3-21.3M352,96h26.7c2.9,0,5.3,2.4,5.3,5.3v16c0,11.8,9.6,21.3,21.3,21.3s21.3-9.6,21.3-21.3v-21.3c0-23.6-19.1-42.7-42.7-42.7h-32c-11.8,0-21.3,9.6-21.3,21.3s9.6,21.3,21.3,21.3'/%3e%3cpath%20class='st0'%20d='M149.3,117.3h128c17.7,0,32-14.3,32-32v-10.7c0-17.7-14.3-32-32-32h-21.3c0-23.6-19.1-42.7-42.7-42.7s-42.7,19.1-42.7,42.7h-21.3c-17.7,0-32,14.3-32,32v10.7c0,17.7,14.3,32,32,32M85.3,213.3c0,11.8,9.6,21.3,21.3,21.3h170.7c11.8,0,21.3-9.6,21.3-21.3s-9.6-21.3-21.3-21.3H106.7c-11.8,0-21.3,9.6-21.3,21.3M106.7,298.7c-11.8,0-21.3,9.6-21.3,21.3s9.6,21.3,21.3,21.3h96c11.8,0,21.3-9.6,21.3-21.3s-9.6-21.3-21.3-21.3h-96ZM499.4,175.8c-16.6-16.5-43.5-16.5-60.2,0l-167.9,167.9c-1,1-1.9,2.3-2.3,3.6l-30.3,75.3c-1.5,4-.6,8.5,2.3,11.5,3,3.1,7.6,4,11.5,2.3l75.5-30.1c1.3-.6,2.6-1.4,3.6-2.3l167.7-167.9c16.7-16.7,16.7-43.7,0-60.3,0,0,0,0,0,0'/%3e%3c/svg%3e",dR="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20viewBox='0%200%20512%20512'%3e%3c!--%20Generator:%20Adobe%20Illustrator%2029.0.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%202.1.0%20Build%20192)%20--%3e%3cdefs%3e%3cstyle%3e%20.st0%20{%20fill:%20%23e50914;%20fill-rule:%20evenodd;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='st0'%20d='M171.7,53.1c6,6.5,5.7,16.6-.8,22.6l-91.4,85.3c-6.5,6-16.6,5.7-22.6-.8-.3-.3-.5-.6-.7-.9l-25.9-32c-5.6-6.9-4.5-16.9,2.4-22.5s16.9-4.5,22.5,2.4l15.1,18.7,78.9-73.6c6.5-6,16.6-5.7,22.6.8ZM240,106.7c0-8.8,7.2-16,16-16h213.3c8.8,0,16,7.2,16,16s-7.2,16-16,16h-213.3c-8.8,0-16-7.2-16-16ZM171.7,202.4c6,6.5,5.7,16.6-.8,22.6l-91.4,85.3c-6.5,6-16.6,5.7-22.6-.8-.3-.3-.5-.6-.7-.9l-25.9-32c-5.6-6.9-4.5-16.9,2.4-22.5,6.9-5.6,16.9-4.5,22.5,2.4h0l15.1,18.7,78.9-73.6c6.5-6,16.6-5.7,22.6.8ZM240,256c0-8.8,7.2-16,16-16h213.3c8.8,0,16,7.2,16,16s-7.2,16-16,16h-213.3c-8.8,0-16-7.2-16-16ZM171.7,351.7c6,6.5,5.7,16.6-.8,22.6l-91.4,85.3c-6.5,6-16.6,5.7-22.6-.8-.3-.3-.5-.6-.7-.9l-25.9-32c-5.6-6.9-4.5-16.9,2.4-22.5,6.9-5.6,16.9-4.5,22.5,2.4l15.1,18.7,78.9-73.6c6.5-6,16.6-5.7,22.6.8h0ZM240,405.3c0-8.8,7.2-16,16-16h213.3c8.8,0,16,7.2,16,16s-7.2,16-16,16h-213.3c-8.8,0-16-7.2-16-16Z'/%3e%3c/svg%3e";function mR(){const i=[{title:"Califica pelculas",text:"Da medias estrellas, marca favoritas y lleva tu registro personal.",icon:hR,alt:"Icono de calificacin con estrella"},{title:"Escribe reseas",text:"Comparte tu opinin y debate con otros amantes del cine.",icon:fR,alt:"Icono de reseas"},{title:"Crea tu Watchlist",text:"Guarda lo que quieres ver y organzalo como un catlogo personal.",icon:dR,alt:"Icono de watchlist"}];return g.jsx("section",{className:"landing-features",children:g.jsx("div",{className:"landing-features__inner",children:i.map((e,n)=>g.jsxs("article",{className:"landing-features__card cursor-default",children:[g.jsx("div",{className:"landing-features__icon-wrap",children:g.jsx("div",{className:"landing-features__icon-circle",children:g.jsx("img",{src:e.icon,alt:e.alt,className:"landing-features__icon-img"})})}),g.jsx("h3",{className:"landing-features__title",children:e.title}),g.jsx("p",{className:"landing-features__text",children:e.text})]},n))})})}function pR(){const[i,e]=P.useState(!1),[n,r]=P.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"fv-footer fv-animate-in-up",children:[g.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:"Film Vault"}),g.jsx("p",{className:"opacity-70 mt-1",children:"El lugar donde vive tu cine."})]}),g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:"Enlaces"}),g.jsxs("ul",{className:"mt-1 space-y-1 opacity-90",children:[g.jsx("li",{children:g.jsx("a",{href:"#/signup",className:"hover:underline",children:"nete"})}),g.jsx("li",{children:g.jsx("a",{href:"https://github.com/cdcepeda01/Film-Vault",target:"_blank",rel:"noreferrer",className:"hover:underline",children:"Repositorio"})})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:"Legal"}),g.jsxs("ul",{className:"mt-1 space-y-1 opacity-90",children:[g.jsx("li",{children:g.jsx("button",{type:"button",className:"hover:underline text-left",onClick:()=>e(!0),children:"Trminos"})}),g.jsx("li",{children:g.jsx("button",{type:"button",className:"hover:underline text-left",onClick:()=>r(!0),children:"Privacidad"})})]})]})]}),g.jsxs("div",{className:"text-xs text-center opacity-60 pb-4",children:[" ",new Date().getFullYear()," Film Vault"]})]}),i&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:g.jsxs("div",{className:"w-full max-w-lg mx-4 border border-red-800 bg-black p-6 text-sm text-gray-100 shadow-[0_25px_80px_rgba(0,0,0,1)]",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h2",{className:"text-base font-semibold",children:"TRMINOS DE USO DE FILM VAULT"}),g.jsx("button",{type:"button",className:"text-gray-400 hover:text-white text-lg leading-none",onClick:()=>e(!1),children:""})]}),g.jsxs("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-1",children:[g.jsx("p",{children:"Film Vault es un proyecto personal creado con fines educativos y de entretenimiento para las materias de Taller de Diseo Multimedia y Usablidad. No se garantiza disponibilidad continua del servicio ni la conservacin indefinida de tus datos."}),g.jsx("p",{children:"No alojamos ni reproducimos contenido audiovisual. La informacin de pelculas y series se obtiene de fuentes externas (por ejemplo, la API de TMDB) y puede contener errores o estar incompleta."}),g.jsx("p",{children:"Al usar Film Vault aceptas hacer un uso responsable de la plataforma, evitar contenido ofensivo o ilegal en reseas y comentarios, y respetar los derechos de autor de terceros."}),g.jsx("p",{className:"text-xs text-gray-400",children:"Proyecto realizado por Cristian Cepeda, Juliana Preciado, Sergio Vivas, Karol Bolvar, Juan Bello y Javier Saavedra."})]}),g.jsx("div",{className:"mt-4 flex justify-end",children:g.jsx("button",{type:"button",className:"px-4 py-1.5 bg-red-600 text-sm font-semibold hover:bg-red-500 transition",onClick:()=>e(!1),children:"Cerrar"})})]})}),n&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:g.jsxs("div",{className:"w-full max-w-lg mx-4 border border-red-800 bg-black p-6 text-sm text-gray-100 shadow-[0_25px_80px_rgba(0,0,0,1)]",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h2",{className:"text-base font-semibold",children:"POLTICA DE PRIVACIDAD"}),g.jsx("button",{type:"button",className:"text-gray-400 hover:text-white text-lg leading-none",onClick:()=>r(!1),children:""})]}),g.jsxs("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-1",children:[g.jsx("p",{children:"Film Vault almacena nicamente la informacin necesaria para que puedas usar la aplicacin: tu cuenta, tus calificaciones, tu watchlist y tus reseas."}),g.jsx("p",{children:"Los datos se usan solo dentro de la propia app para mostrar tu actividad y personalizar tu experiencia. No se venden ni se comparten con terceros con fines comerciales."}),g.jsx("p",{children:"Puedes solicitar eliminar tu informacin contacta al desarrollador del proyecto a travs del repositorio de GitHub."}),g.jsx("p",{className:"text-xs text-gray-400",children:"Este proyecto puede utilizar servicios externos (como Firebase, Firestore y TMDB) que tienen sus propias polticas de privacidad. Te recomendamos revisarlas por separado."})]}),g.jsx("div",{className:"mt-4 flex justify-end",children:g.jsx("button",{type:"button",className:"px-4 py-1.5 bg-red-600 text-sm font-semibold hover:bg-red-500 transition",onClick:()=>r(!1),children:"Cerrar"})})]})})]})}function gR(){return g.jsxs("div",{className:"fv-hero h-[165vh] flex flex-col relative",children:[g.jsx(uR,{}),g.jsx(mR,{}),g.jsx(pR,{})]})}function zT(i,e){return function(){return i.apply(e,arguments)}}const{toString:yR}=Object.prototype,{getPrototypeOf:Fp}=Object,{iterator:rf,toStringTag:BT}=Symbol,af=(i=>e=>{const n=yR.call(e);return i[n]||(i[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pi=i=>(i=i.toLowerCase(),e=>af(e)===i),of=i=>e=>typeof e===i,{isArray:Oo}=Array,Eo=of("undefined");function Tc(i){return i!==null&&!Eo(i)&&i.constructor!==null&&!Eo(i.constructor)&&_n(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const FT=pi("ArrayBuffer");function _R(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&FT(i.buffer),e}const vR=of("string"),_n=of("function"),qT=of("number"),bc=i=>i!==null&&typeof i=="object",ER=i=>i===!0||i===!1,bh=i=>{if(af(i)!=="object")return!1;const e=Fp(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(BT in i)&&!(rf in i)},TR=i=>{if(!bc(i)||Tc(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},bR=pi("Date"),SR=pi("File"),wR=pi("Blob"),AR=pi("FileList"),xR=i=>bc(i)&&_n(i.pipe),RR=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||_n(i.append)&&((e=af(i))==="formdata"||e==="object"&&_n(i.toString)&&i.toString()==="[object FormData]"))},NR=pi("URLSearchParams"),[CR,IR,DR,OR]=["ReadableStream","Request","Response","Headers"].map(pi),MR=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sc(i,e,{allOwnKeys:n=!1}={}){if(i===null||typeof i>"u")return;let r,o;if(typeof i!="object"&&(i=[i]),Oo(i))for(r=0,o=i.length;r<o;r++)e.call(null,i[r],r,i);else{if(Tc(i))return;const c=n?Object.getOwnPropertyNames(i):Object.keys(i),u=c.length;let m;for(r=0;r<u;r++)m=c[r],e.call(null,i[m],m,i)}}function HT(i,e){if(Tc(i))return null;e=e.toLowerCase();const n=Object.keys(i);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,GT=i=>!Eo(i)&&i!==sa;function sp(){const{caseless:i,skipUndefined:e}=GT(this)&&this||{},n={},r=(o,c)=>{const u=i&&HT(n,c)||c;bh(n[u])&&bh(o)?n[u]=sp(n[u],o):bh(o)?n[u]=sp({},o):Oo(o)?n[u]=o.slice():(!e||!Eo(o))&&(n[u]=o)};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Sc(arguments[o],r);return n}const jR=(i,e,n,{allOwnKeys:r}={})=>(Sc(e,(o,c)=>{n&&_n(o)?i[c]=zT(o,n):i[c]=o},{allOwnKeys:r}),i),VR=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),kR=(i,e,n,r)=>{i.prototype=Object.create(e.prototype,r),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),n&&Object.assign(i.prototype,n)},PR=(i,e,n,r)=>{let o,c,u;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),c=o.length;c-- >0;)u=o[c],(!r||r(u,i,e))&&!m[u]&&(e[u]=i[u],m[u]=!0);i=n!==!1&&Fp(i)}while(i&&(!n||n(i,e))&&i!==Object.prototype);return e},LR=(i,e,n)=>{i=String(i),(n===void 0||n>i.length)&&(n=i.length),n-=e.length;const r=i.indexOf(e,n);return r!==-1&&r===n},UR=i=>{if(!i)return null;if(Oo(i))return i;let e=i.length;if(!qT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=i[e];return n},zR=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Fp(Uint8Array)),BR=(i,e)=>{const r=(i&&i[rf]).call(i);let o;for(;(o=r.next())&&!o.done;){const c=o.value;e.call(i,c[0],c[1])}},FR=(i,e)=>{let n;const r=[];for(;(n=i.exec(e))!==null;)r.push(n);return r},qR=pi("HTMLFormElement"),HR=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),C0=(({hasOwnProperty:i})=>(e,n)=>i.call(e,n))(Object.prototype),GR=pi("RegExp"),YT=(i,e)=>{const n=Object.getOwnPropertyDescriptors(i),r={};Sc(n,(o,c)=>{let u;(u=e(o,c,i))!==!1&&(r[c]=u||o)}),Object.defineProperties(i,r)},YR=i=>{YT(i,(e,n)=>{if(_n(i)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=i[n];if(_n(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},QR=(i,e)=>{const n={},r=o=>{o.forEach(c=>{n[c]=!0})};return Oo(i)?r(i):r(String(i).split(e)),n},KR=()=>{},XR=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function $R(i){return!!(i&&_n(i.append)&&i[BT]==="FormData"&&i[rf])}const WR=i=>{const e=new Array(10),n=(r,o)=>{if(bc(r)){if(e.indexOf(r)>=0)return;if(Tc(r))return r;if(!("toJSON"in r)){e[o]=r;const c=Oo(r)?[]:{};return Sc(r,(u,m)=>{const y=n(u,o+1);!Eo(y)&&(c[m]=y)}),e[o]=void 0,c}}return r};return n(i,0)},JR=pi("AsyncFunction"),ZR=i=>i&&(bc(i)||_n(i))&&_n(i.then)&&_n(i.catch),QT=((i,e)=>i?setImmediate:e?((n,r)=>(sa.addEventListener("message",({source:o,data:c})=>{o===sa&&c===n&&r.length&&r.shift()()},!1),o=>{r.push(o),sa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_n(sa.postMessage)),e2=typeof queueMicrotask<"u"?queueMicrotask.bind(sa):typeof process<"u"&&process.nextTick||QT,t2=i=>i!=null&&_n(i[rf]),$={isArray:Oo,isArrayBuffer:FT,isBuffer:Tc,isFormData:RR,isArrayBufferView:_R,isString:vR,isNumber:qT,isBoolean:ER,isObject:bc,isPlainObject:bh,isEmptyObject:TR,isReadableStream:CR,isRequest:IR,isResponse:DR,isHeaders:OR,isUndefined:Eo,isDate:bR,isFile:SR,isBlob:wR,isRegExp:GR,isFunction:_n,isStream:xR,isURLSearchParams:NR,isTypedArray:zR,isFileList:AR,forEach:Sc,merge:sp,extend:jR,trim:MR,stripBOM:VR,inherits:kR,toFlatObject:PR,kindOf:af,kindOfTest:pi,endsWith:LR,toArray:UR,forEachEntry:BR,matchAll:FR,isHTMLForm:qR,hasOwnProperty:C0,hasOwnProp:C0,reduceDescriptors:YT,freezeMethods:YR,toObjectSet:QR,toCamelCase:HR,noop:KR,toFiniteNumber:XR,findKey:HT,global:sa,isContextDefined:GT,isSpecCompliantForm:$R,toJSONObject:WR,isAsyncFn:JR,isThenable:ZR,setImmediate:QT,asap:e2,isIterable:t2};function je(i,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}$.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const KT=je.prototype,XT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{XT[i]={value:i}});Object.defineProperties(je,XT);Object.defineProperty(KT,"isAxiosError",{value:!0});je.from=(i,e,n,r,o,c)=>{const u=Object.create(KT);$.toFlatObject(i,u,function(E){return E!==Error.prototype},p=>p!=="isAxiosError");const m=i&&i.message?i.message:"Error",y=e==null&&i?i.code:e;return je.call(u,m,y,n,r,o),i&&u.cause==null&&Object.defineProperty(u,"cause",{value:i,configurable:!0}),u.name=i&&i.name||"Error",c&&Object.assign(u,c),u};const n2=null;function rp(i){return $.isPlainObject(i)||$.isArray(i)}function $T(i){return $.endsWith(i,"[]")?i.slice(0,-2):i}function I0(i,e,n){return i?i.concat(e).map(function(o,c){return o=$T(o),!n&&c?"["+o+"]":o}).join(n?".":""):e}function i2(i){return $.isArray(i)&&!i.some(rp)}const s2=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function lf(i,e,n){if(!$.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,k){return!$.isUndefined(k[z])});const r=n.metaTokens,o=n.visitor||E,c=n.dots,u=n.indexes,y=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(o))throw new TypeError("visitor must be a function");function p(D){if(D===null)return"";if($.isDate(D))return D.toISOString();if($.isBoolean(D))return D.toString();if(!y&&$.isBlob(D))throw new je("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(D)||$.isTypedArray(D)?y&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function E(D,z,k){let K=D;if(D&&!k&&typeof D=="object"){if($.endsWith(z,"{}"))z=r?z:z.slice(0,-2),D=JSON.stringify(D);else if($.isArray(D)&&i2(D)||($.isFileList(D)||$.endsWith(z,"[]"))&&(K=$.toArray(D)))return z=$T(z),K.forEach(function(ee,me){!($.isUndefined(ee)||ee===null)&&e.append(u===!0?I0([z],me,c):u===null?z:z+"[]",p(ee))}),!1}return rp(D)?!0:(e.append(I0(k,z,c),p(D)),!1)}const b=[],x=Object.assign(s2,{defaultVisitor:E,convertValue:p,isVisitable:rp});function j(D,z){if(!$.isUndefined(D)){if(b.indexOf(D)!==-1)throw Error("Circular reference detected in "+z.join("."));b.push(D),$.forEach(D,function(K,J){(!($.isUndefined(K)||K===null)&&o.call(e,K,$.isString(J)?J.trim():J,z,x))===!0&&j(K,z?z.concat(J):[J])}),b.pop()}}if(!$.isObject(i))throw new TypeError("data must be an object");return j(i),e}function D0(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function qp(i,e){this._pairs=[],i&&lf(i,this,e)}const WT=qp.prototype;WT.append=function(e,n){this._pairs.push([e,n])};WT.toString=function(e){const n=e?function(r){return e.call(this,r,D0)}:D0;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function r2(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function JT(i,e,n){if(!e)return i;const r=n&&n.encode||r2;$.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let c;if(o?c=o(e,n):c=$.isURLSearchParams(e)?e.toString():new qp(e,n).toString(r),c){const u=i.indexOf("#");u!==-1&&(i=i.slice(0,u)),i+=(i.indexOf("?")===-1?"?":"&")+c}return i}class O0{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ZT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a2=typeof URLSearchParams<"u"?URLSearchParams:qp,o2=typeof FormData<"u"?FormData:null,l2=typeof Blob<"u"?Blob:null,c2={isBrowser:!0,classes:{URLSearchParams:a2,FormData:o2,Blob:l2},protocols:["http","https","file","blob","url","data"]},Hp=typeof window<"u"&&typeof document<"u",ap=typeof navigator=="object"&&navigator||void 0,u2=Hp&&(!ap||["ReactNative","NativeScript","NS"].indexOf(ap.product)<0),h2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",f2=Hp&&window.location.href||"http://localhost",d2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hp,hasStandardBrowserEnv:u2,hasStandardBrowserWebWorkerEnv:h2,navigator:ap,origin:f2},Symbol.toStringTag,{value:"Module"})),sn={...d2,...c2};function m2(i,e){return lf(i,new sn.classes.URLSearchParams,{visitor:function(n,r,o,c){return sn.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function p2(i){return $.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function g2(i){const e={},n=Object.keys(i);let r;const o=n.length;let c;for(r=0;r<o;r++)c=n[r],e[c]=i[c];return e}function e1(i){function e(n,r,o,c){let u=n[c++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),y=c>=n.length;return u=!u&&$.isArray(o)?o.length:u,y?($.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!m):((!o[u]||!$.isObject(o[u]))&&(o[u]=[]),e(n,r,o[u],c)&&$.isArray(o[u])&&(o[u]=g2(o[u])),!m)}if($.isFormData(i)&&$.isFunction(i.entries)){const n={};return $.forEachEntry(i,(r,o)=>{e(p2(r),o,n,0)}),n}return null}function y2(i,e,n){if($.isString(i))try{return(e||JSON.parse)(i),$.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(i)}const wc={transitional:ZT,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,c=$.isObject(e);if(c&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return o?JSON.stringify(e1(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(c){if(r.indexOf("application/x-www-form-urlencoded")>-1)return m2(e,this.formSerializer).toString();if((m=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return lf(m?{"files[]":e}:e,y&&new y,this.formSerializer)}}return c||o?(n.setContentType("application/json",!1),y2(e)):e}],transformResponse:[function(e){const n=this.transitional||wc.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(r&&!this.responseType||o)){const u=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(m){if(u)throw m.name==="SyntaxError"?je.from(m,je.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sn.classes.FormData,Blob:sn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],i=>{wc.headers[i]={}});const _2=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),v2=i=>{const e={};let n,r,o;return i&&i.split(`
`).forEach(function(u){o=u.indexOf(":"),n=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!n||e[n]&&_2[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},M0=Symbol("internals");function $l(i){return i&&String(i).trim().toLowerCase()}function Sh(i){return i===!1||i==null?i:$.isArray(i)?i.map(Sh):String(i)}function E2(i){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(i);)e[r[1]]=r[2];return e}const T2=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Lm(i,e,n,r,o){if($.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function b2(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function S2(i,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(i,r+n,{value:function(o,c,u){return this[r].call(this,e,o,c,u)},configurable:!0})})}let vn=class{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function c(m,y,p){const E=$l(y);if(!E)throw new Error("header name must be a non-empty string");const b=$.findKey(o,E);(!b||o[b]===void 0||p===!0||p===void 0&&o[b]!==!1)&&(o[b||y]=Sh(m))}const u=(m,y)=>$.forEach(m,(p,E)=>c(p,E,y));if($.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if($.isString(e)&&(e=e.trim())&&!T2(e))u(v2(e),n);else if($.isObject(e)&&$.isIterable(e)){let m={},y,p;for(const E of e){if(!$.isArray(E))throw TypeError("Object iterator must return a key-value pair");m[p=E[0]]=(y=m[p])?$.isArray(y)?[...y,E[1]]:[y,E[1]]:E[1]}u(m,n)}else e!=null&&c(n,e,r);return this}get(e,n){if(e=$l(e),e){const r=$.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return E2(o);if($.isFunction(n))return n.call(this,o,r);if($.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=$l(e),e){const r=$.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Lm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function c(u){if(u=$l(u),u){const m=$.findKey(r,u);m&&(!n||Lm(r,r[m],m,n))&&(delete r[m],o=!0)}}return $.isArray(e)?e.forEach(c):c(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const c=n[r];(!e||Lm(this,this[c],c,e,!0))&&(delete this[c],o=!0)}return o}normalize(e){const n=this,r={};return $.forEach(this,(o,c)=>{const u=$.findKey(r,c);if(u){n[u]=Sh(o),delete n[c];return}const m=e?b2(c):String(c).trim();m!==c&&delete n[c],n[m]=Sh(o),r[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[M0]=this[M0]={accessors:{}}).accessors,o=this.prototype;function c(u){const m=$l(u);r[m]||(S2(o,u),r[m]=!0)}return $.isArray(e)?e.forEach(c):c(e),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(vn.prototype,({value:i},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(r){this[n]=r}}});$.freezeMethods(vn);function Um(i,e){const n=this||wc,r=e||n,o=vn.from(r.headers);let c=r.data;return $.forEach(i,function(m){c=m.call(n,c,o.normalize(),e?e.status:void 0)}),o.normalize(),c}function t1(i){return!!(i&&i.__CANCEL__)}function Mo(i,e,n){je.call(this,i??"canceled",je.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(Mo,je,{__CANCEL__:!0});function n1(i,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?i(n):e(new je("Request failed with status code "+n.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function w2(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function A2(i,e){i=i||10;const n=new Array(i),r=new Array(i);let o=0,c=0,u;return e=e!==void 0?e:1e3,function(y){const p=Date.now(),E=r[c];u||(u=p),n[o]=y,r[o]=p;let b=c,x=0;for(;b!==o;)x+=n[b++],b=b%i;if(o=(o+1)%i,o===c&&(c=(c+1)%i),p-u<e)return;const j=E&&p-E;return j?Math.round(x*1e3/j):void 0}}function x2(i,e){let n=0,r=1e3/e,o,c;const u=(p,E=Date.now())=>{n=E,o=null,c&&(clearTimeout(c),c=null),i(...p)};return[(...p)=>{const E=Date.now(),b=E-n;b>=r?u(p,E):(o=p,c||(c=setTimeout(()=>{c=null,u(o)},r-b)))},()=>o&&u(o)]}const kh=(i,e,n=3)=>{let r=0;const o=A2(50,250);return x2(c=>{const u=c.loaded,m=c.lengthComputable?c.total:void 0,y=u-r,p=o(y),E=u<=m;r=u;const b={loaded:u,total:m,progress:m?u/m:void 0,bytes:y,rate:p||void 0,estimated:p&&m&&E?(m-u)/p:void 0,event:c,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(b)},n)},j0=(i,e)=>{const n=i!=null;return[r=>e[0]({lengthComputable:n,total:i,loaded:r}),e[1]]},V0=i=>(...e)=>$.asap(()=>i(...e)),R2=sn.hasStandardBrowserEnv?((i,e)=>n=>(n=new URL(n,sn.origin),i.protocol===n.protocol&&i.host===n.host&&(e||i.port===n.port)))(new URL(sn.origin),sn.navigator&&/(msie|trident)/i.test(sn.navigator.userAgent)):()=>!0,N2=sn.hasStandardBrowserEnv?{write(i,e,n,r,o,c,u){if(typeof document>"u")return;const m=[`${i}=${encodeURIComponent(e)}`];$.isNumber(n)&&m.push(`expires=${new Date(n).toUTCString()}`),$.isString(r)&&m.push(`path=${r}`),$.isString(o)&&m.push(`domain=${o}`),c===!0&&m.push("secure"),$.isString(u)&&m.push(`SameSite=${u}`),document.cookie=m.join("; ")},read(i){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+i+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(i){this.write(i,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function C2(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function I2(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function i1(i,e,n){let r=!C2(e);return i&&(r||n==!1)?I2(i,e):e}const k0=i=>i instanceof vn?{...i}:i;function ha(i,e){e=e||{};const n={};function r(p,E,b,x){return $.isPlainObject(p)&&$.isPlainObject(E)?$.merge.call({caseless:x},p,E):$.isPlainObject(E)?$.merge({},E):$.isArray(E)?E.slice():E}function o(p,E,b,x){if($.isUndefined(E)){if(!$.isUndefined(p))return r(void 0,p,b,x)}else return r(p,E,b,x)}function c(p,E){if(!$.isUndefined(E))return r(void 0,E)}function u(p,E){if($.isUndefined(E)){if(!$.isUndefined(p))return r(void 0,p)}else return r(void 0,E)}function m(p,E,b){if(b in e)return r(p,E);if(b in i)return r(void 0,p)}const y={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(p,E,b)=>o(k0(p),k0(E),b,!0)};return $.forEach(Object.keys({...i,...e}),function(E){const b=y[E]||o,x=b(i[E],e[E],E);$.isUndefined(x)&&b!==m||(n[E]=x)}),n}const s1=i=>{const e=ha({},i);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:c,headers:u,auth:m}=e;if(e.headers=u=vn.from(u),e.url=JT(i1(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),$.isFormData(n)){if(sn.hasStandardBrowserEnv||sn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if($.isFunction(n.getHeaders)){const y=n.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([E,b])=>{p.includes(E.toLowerCase())&&u.set(E,b)})}}if(sn.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(e)),r||r!==!1&&R2(e.url))){const y=o&&c&&N2.read(c);y&&u.set(o,y)}return e},D2=typeof XMLHttpRequest<"u",O2=D2&&function(i){return new Promise(function(n,r){const o=s1(i);let c=o.data;const u=vn.from(o.headers).normalize();let{responseType:m,onUploadProgress:y,onDownloadProgress:p}=o,E,b,x,j,D;function z(){j&&j(),D&&D(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function K(){if(!k)return;const ee=vn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),ge={data:!m||m==="text"||m==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:ee,config:i,request:k};n1(function(I){n(I),z()},function(I){r(I),z()},ge),k=null}"onloadend"in k?k.onloadend=K:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(K)},k.onabort=function(){k&&(r(new je("Request aborted",je.ECONNABORTED,i,k)),k=null)},k.onerror=function(me){const ge=me&&me.message?me.message:"Network Error",ue=new je(ge,je.ERR_NETWORK,i,k);ue.event=me||null,r(ue),k=null},k.ontimeout=function(){let me=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ge=o.transitional||ZT;o.timeoutErrorMessage&&(me=o.timeoutErrorMessage),r(new je(me,ge.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,i,k)),k=null},c===void 0&&u.setContentType(null),"setRequestHeader"in k&&$.forEach(u.toJSON(),function(me,ge){k.setRequestHeader(ge,me)}),$.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),m&&m!=="json"&&(k.responseType=o.responseType),p&&([x,D]=kh(p,!0),k.addEventListener("progress",x)),y&&k.upload&&([b,j]=kh(y),k.upload.addEventListener("progress",b),k.upload.addEventListener("loadend",j)),(o.cancelToken||o.signal)&&(E=ee=>{k&&(r(!ee||ee.type?new Mo(null,i,k):ee),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const J=w2(o.url);if(J&&sn.protocols.indexOf(J)===-1){r(new je("Unsupported protocol "+J+":",je.ERR_BAD_REQUEST,i));return}k.send(c||null)})},M2=(i,e)=>{const{length:n}=i=i?i.filter(Boolean):[];if(e||n){let r=new AbortController,o;const c=function(p){if(!o){o=!0,m();const E=p instanceof Error?p:this.reason;r.abort(E instanceof je?E:new Mo(E instanceof Error?E.message:E))}};let u=e&&setTimeout(()=>{u=null,c(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const m=()=>{i&&(u&&clearTimeout(u),u=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(c):p.removeEventListener("abort",c)}),i=null)};i.forEach(p=>p.addEventListener("abort",c));const{signal:y}=r;return y.unsubscribe=()=>$.asap(m),y}},j2=function*(i,e){let n=i.byteLength;if(n<e){yield i;return}let r=0,o;for(;r<n;)o=r+e,yield i.slice(r,o),r=o},V2=async function*(i,e){for await(const n of k2(i))yield*j2(n,e)},k2=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},P0=(i,e,n,r)=>{const o=V2(i,e);let c=0,u,m=y=>{u||(u=!0,r&&r(y))};return new ReadableStream({async pull(y){try{const{done:p,value:E}=await o.next();if(p){m(),y.close();return}let b=E.byteLength;if(n){let x=c+=b;n(x)}y.enqueue(new Uint8Array(E))}catch(p){throw m(p),p}},cancel(y){return m(y),o.return()}},{highWaterMark:2})},L0=64*1024,{isFunction:dh}=$,P2=(({Request:i,Response:e})=>({Request:i,Response:e}))($.global),{ReadableStream:U0,TextEncoder:z0}=$.global,B0=(i,...e)=>{try{return!!i(...e)}catch{return!1}},L2=i=>{i=$.merge.call({skipUndefined:!0},P2,i);const{fetch:e,Request:n,Response:r}=i,o=e?dh(e):typeof fetch=="function",c=dh(n),u=dh(r);if(!o)return!1;const m=o&&dh(U0),y=o&&(typeof z0=="function"?(D=>z=>D.encode(z))(new z0):async D=>new Uint8Array(await new n(D).arrayBuffer())),p=c&&m&&B0(()=>{let D=!1;const z=new n(sn.origin,{body:new U0,method:"POST",get duplex(){return D=!0,"half"}}).headers.has("Content-Type");return D&&!z}),E=u&&m&&B0(()=>$.isReadableStream(new r("").body)),b={stream:E&&(D=>D.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(D=>{!b[D]&&(b[D]=(z,k)=>{let K=z&&z[D];if(K)return K.call(z);throw new je(`Response type '${D}' is not supported`,je.ERR_NOT_SUPPORT,k)})});const x=async D=>{if(D==null)return 0;if($.isBlob(D))return D.size;if($.isSpecCompliantForm(D))return(await new n(sn.origin,{method:"POST",body:D}).arrayBuffer()).byteLength;if($.isArrayBufferView(D)||$.isArrayBuffer(D))return D.byteLength;if($.isURLSearchParams(D)&&(D=D+""),$.isString(D))return(await y(D)).byteLength},j=async(D,z)=>{const k=$.toFiniteNumber(D.getContentLength());return k??x(z)};return async D=>{let{url:z,method:k,data:K,signal:J,cancelToken:ee,timeout:me,onDownloadProgress:ge,onUploadProgress:ue,responseType:I,headers:R,withCredentials:C="same-origin",fetchOptions:N}=s1(D),O=e||fetch;I=I?(I+"").toLowerCase():"text";let V=M2([J,ee&&ee.toAbortSignal()],me),A=null;const se=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let he;try{if(ue&&p&&k!=="get"&&k!=="head"&&(he=await j(R,K))!==0){let L=new n(z,{method:"POST",body:K,duplex:"half"}),Z;if($.isFormData(K)&&(Z=L.headers.get("content-type"))&&R.setContentType(Z),L.body){const[fe,Y]=j0(he,kh(V0(ue)));K=P0(L.body,L0,fe,Y)}}$.isString(C)||(C=C?"include":"omit");const F=c&&"credentials"in n.prototype,ae={...N,signal:V,method:k.toUpperCase(),headers:R.normalize().toJSON(),body:K,duplex:"half",credentials:F?C:void 0};A=c&&new n(z,ae);let ce=await(c?O(A,N):O(z,ae));const Se=E&&(I==="stream"||I==="response");if(E&&(ge||Se&&se)){const L={};["status","statusText","headers"].forEach(ve=>{L[ve]=ce[ve]});const Z=$.toFiniteNumber(ce.headers.get("content-length")),[fe,Y]=ge&&j0(Z,kh(V0(ge),!0))||[];ce=new r(P0(ce.body,L0,fe,()=>{Y&&Y(),se&&se()}),L)}I=I||"text";let Ae=await b[$.findKey(b,I)||"text"](ce,D);return!Se&&se&&se(),await new Promise((L,Z)=>{n1(L,Z,{data:Ae,headers:vn.from(ce.headers),status:ce.status,statusText:ce.statusText,config:D,request:A})})}catch(F){throw se&&se(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,D,A),{cause:F.cause||F}):je.from(F,F&&F.code,D,A)}}},U2=new Map,r1=i=>{let e=i&&i.env||{};const{fetch:n,Request:r,Response:o}=e,c=[r,o,n];let u=c.length,m=u,y,p,E=U2;for(;m--;)y=c[m],p=E.get(y),p===void 0&&E.set(y,p=m?new Map:L2(e)),E=p;return p};r1();const Gp={http:n2,xhr:O2,fetch:{get:r1}};$.forEach(Gp,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const F0=i=>`- ${i}`,z2=i=>$.isFunction(i)||i===null||i===!1;function B2(i,e){i=$.isArray(i)?i:[i];const{length:n}=i;let r,o;const c={};for(let u=0;u<n;u++){r=i[u];let m;if(o=r,!z2(r)&&(o=Gp[(m=String(r)).toLowerCase()],o===void 0))throw new je(`Unknown adapter '${m}'`);if(o&&($.isFunction(o)||(o=o.get(e))))break;c[m||"#"+u]=o}if(!o){const u=Object.entries(c).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let m=n?u.length>1?`since :
`+u.map(F0).join(`
`):" "+F0(u[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o}const a1={getAdapter:B2,adapters:Gp};function zm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Mo(null,i)}function q0(i){return zm(i),i.headers=vn.from(i.headers),i.data=Um.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),a1.getAdapter(i.adapter||wc.adapter,i)(i).then(function(r){return zm(i),r.data=Um.call(i,i.transformResponse,r),r.headers=vn.from(r.headers),r},function(r){return t1(r)||(zm(i),r&&r.response&&(r.response.data=Um.call(i,i.transformResponse,r.response),r.response.headers=vn.from(r.response.headers))),Promise.reject(r)})}const o1="1.13.2",cf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{cf[i]=function(r){return typeof r===i||"a"+(e<1?"n ":" ")+i}});const H0={};cf.transitional=function(e,n,r){function o(c,u){return"[Axios v"+o1+"] Transitional option '"+c+"'"+u+(r?". "+r:"")}return(c,u,m)=>{if(e===!1)throw new je(o(u," has been removed"+(n?" in "+n:"")),je.ERR_DEPRECATED);return n&&!H0[u]&&(H0[u]=!0,console.warn(o(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(c,u,m):!0}};cf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function F2(i,e,n){if(typeof i!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const r=Object.keys(i);let o=r.length;for(;o-- >0;){const c=r[o],u=e[c];if(u){const m=i[c],y=m===void 0||u(m,c,i);if(y!==!0)throw new je("option "+c+" must be "+y,je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new je("Unknown option "+c,je.ERR_BAD_OPTION)}}const wh={assertOptions:F2,validators:cf},Li=wh.validators;let oa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new O0,response:new O0}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?c&&!String(r.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+c):r.stack=c}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ha(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:c}=n;r!==void 0&&wh.assertOptions(r,{silentJSONParsing:Li.transitional(Li.boolean),forcedJSONParsing:Li.transitional(Li.boolean),clarifyTimeoutError:Li.transitional(Li.boolean)},!1),o!=null&&($.isFunction(o)?n.paramsSerializer={serialize:o}:wh.assertOptions(o,{encode:Li.function,serialize:Li.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),wh.assertOptions(n,{baseUrl:Li.spelling("baseURL"),withXsrfToken:Li.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=c&&$.merge(c.common,c[n.method]);c&&$.forEach(["delete","get","head","post","put","patch","common"],D=>{delete c[D]}),n.headers=vn.concat(u,c);const m=[];let y=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(n)===!1||(y=y&&z.synchronous,m.unshift(z.fulfilled,z.rejected))});const p=[];this.interceptors.response.forEach(function(z){p.push(z.fulfilled,z.rejected)});let E,b=0,x;if(!y){const D=[q0.bind(this),void 0];for(D.unshift(...m),D.push(...p),x=D.length,E=Promise.resolve(n);b<x;)E=E.then(D[b++],D[b++]);return E}x=m.length;let j=n;for(;b<x;){const D=m[b++],z=m[b++];try{j=D(j)}catch(k){z.call(this,k);break}}try{E=q0.call(this,j)}catch(D){return Promise.reject(D)}for(b=0,x=p.length;b<x;)E=E.then(p[b++],p[b++]);return E}getUri(e){e=ha(this.defaults,e);const n=i1(e.baseURL,e.url,e.allowAbsoluteUrls);return JT(n,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){oa.prototype[e]=function(n,r){return this.request(ha(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(c,u,m){return this.request(ha(m||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}oa.prototype[e]=n(),oa.prototype[e+"Form"]=n(!0)});let q2=class l1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const r=this;this.promise.then(o=>{if(!r._listeners)return;let c=r._listeners.length;for(;c-- >0;)r._listeners[c](o);r._listeners=null}),this.promise.then=o=>{let c;const u=new Promise(m=>{r.subscribe(m),c=m}).then(o);return u.cancel=function(){r.unsubscribe(c)},u},e(function(c,u,m){r.reason||(r.reason=new Mo(c,u,m),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new l1(function(o){e=o}),cancel:e}}};function H2(i){return function(n){return i.apply(null,n)}}function G2(i){return $.isObject(i)&&i.isAxiosError===!0}const op={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(op).forEach(([i,e])=>{op[e]=i});function c1(i){const e=new oa(i),n=zT(oa.prototype.request,e);return $.extend(n,oa.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return c1(ha(i,o))},n}const Tt=c1(wc);Tt.Axios=oa;Tt.CanceledError=Mo;Tt.CancelToken=q2;Tt.isCancel=t1;Tt.VERSION=o1;Tt.toFormData=lf;Tt.AxiosError=je;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=H2;Tt.isAxiosError=G2;Tt.mergeConfig=ha;Tt.AxiosHeaders=vn;Tt.formToJSON=i=>e1($.isHTMLForm(i)?new FormData(i):i);Tt.getAdapter=a1.getAdapter;Tt.HttpStatusCode=op;Tt.default=Tt;const{Axios:kM,AxiosError:PM,CanceledError:LM,isCancel:UM,CancelToken:zM,VERSION:BM,all:FM,Cancel:qM,isAxiosError:HM,spread:GM,toFormData:YM,AxiosHeaders:QM,HttpStatusCode:KM,formToJSON:XM,getAdapter:$M,mergeConfig:WM}=Tt,Y2="https://api.themoviedb.org/3",Q2="https://image.tmdb.org/t/p/",Ft=Tt.create({baseURL:Y2,headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiYjdjMjc4MWMxYmQ5YzBhZjk5YjUxNTg4Nzc0MmM0YyIsIm5iZiI6MTc2MjU4ODYxOS4zODksInN1YiI6IjY5MGVmN2NiNjQ5MDdmYWJlMzMxYTlhZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.uoklhnugf92ToxI16JQgSdWSCX7BuM9z9lhgndhXUIY","Content-Type":"application/json;charset=utf-8"}}),K2=async(i,e=1)=>{const{data:n}=await Ft.get("/search/movie",{params:{query:i,page:e,language:"es-ES",include_adult:!1}});return n},X2=async i=>{const{data:e}=await Ft.get(`/movie/${i}`,{params:{append_to_response:"credits,images,videos",language:"es-ES",include_image_language:"es,en,null"}});return e},Yp=async i=>{const e=i.map(r=>Ft.get(`/movie/${r}`,{params:{language:"es-ES"}}));return(await Promise.allSettled(e)).filter(r=>r.status==="fulfilled").map(r=>r.value.data)},Qp=async i=>{const e=i.map(r=>Ft.get(`/tv/${r}`,{params:{language:"es-ES"}}));return(await Promise.allSettled(e)).filter(r=>r.status==="fulfilled").map(r=>r.value.data)},jo=(i,e="w342")=>i?`${Q2}${e}${i}`:"",$2=async()=>{const{data:i}=await Ft.get("/movie/now_playing",{params:{language:"es-ES",page:1,region:"ES"}});return i.results},W2=async()=>{const{data:i}=await Ft.get("/movie/upcoming",{params:{language:"es-ES",page:1,region:"ES"}});return i.results},J2=async()=>{const{data:i}=await Ft.get("/trending/movie/week",{params:{language:"es-ES"}});return i.results},Z2=async()=>{const{data:i}=await Ft.get("/movie/top_rated",{params:{language:"es-ES",page:1}});return i.results},eN=async()=>{const i=new Date().getFullYear(),{data:e}=await Ft.get("/discover/movie",{params:{language:"es-ES",sort_by:"vote_average.desc",page:1,primary_release_year:i,"vote_count.gte":500}});return e.results},tN=async()=>{const{data:i}=await Ft.get("/discover/movie",{params:{language:"es-ES",sort_by:"vote_average.desc",page:1,"primary_release_date.lte":"1984-12-31","vote_count.gte":200}});return i.results},nN=async(i,e=3)=>{if(!i.length)return[];const n=[];for(let c=1;c<=e;c++)n.push(Ft.get("/discover/movie",{params:{language:"es-ES",sort_by:"popularity.desc",page:c,with_genres:i.join(","),include_adult:!1,"vote_count.gte":50}}));const r=await Promise.all(n),o=new Map;for(const{data:c}of r)for(const u of c.results)o.has(u.id)||o.set(u.id,u);return Array.from(o.values())},iN=async()=>{const{data:i}=await Ft.get("/tv/on_the_air",{params:{language:"es-ES",page:1}});return i.results},sN=async()=>{const{data:i}=await Ft.get("/tv/popular",{params:{language:"es-ES",page:1}});return i.results},rN=async()=>{const{data:i}=await Ft.get("/tv/top_rated",{params:{language:"es-ES",page:1}});return i.results},aN=async()=>{const{data:i}=await Ft.get("/trending/tv/week",{params:{language:"es-ES"}});return i.results},oN=async i=>{const{data:e}=await Ft.get(`/tv/${i}`,{params:{append_to_response:"credits,images,videos",language:"es-ES",include_image_language:"es,en,null"}});return e},lN=["CO","ES","MX","AR","US","BR"];function u1(i){for(const n of lN)if(i[n])return i[n];const e=Object.keys(i)[0];return e?i[e]:null}function h1(i){if(!i)return null;const e=c=>(c??[]).map(u=>({providerId:u.provider_id,providerName:u.provider_name,logoPath:u.logo_path??null})),n=e(i.flatrate),r=e(i.rent),o=e(i.buy);return!n.length&&!r.length&&!o.length?null:{flatrate:n,rent:r,buy:o}}const cN=async i=>{const{data:e}=await Ft.get(`/movie/${i}/watch/providers`),n=e.results??{},r=u1(n);return h1(r)},uN=async i=>{const{data:e}=await Ft.get(`/tv/${i}/watch/providers`),n=e.results??{},r=u1(n);return h1(r)},hN=()=>{};var G0={};const f1=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},fN=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],u=i[n++],m=i[n++],y=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],u=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},d1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,m=u?i[o+1]:0,y=o+2<i.length,p=y?i[o+2]:0,E=c>>2,b=(c&3)<<4|m>>4;let x=(m&15)<<2|p>>6,j=p&63;y||(j=64,u||(x=64)),r.push(n[E],n[b],n[x],n[j])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(f1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):fN(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||p==null||b==null)throw new dN;const x=c<<2|m>>4;if(r.push(x),p!==64){const j=m<<4&240|p>>2;if(r.push(j),b!==64){const D=p<<6&192|b;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class dN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mN=function(i){const e=f1(i);return d1.encodeByteArray(e,!0)},Ph=function(i){return mN(i).replace(/\./g,"")},m1=function(i){try{return d1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gN=()=>pN().__FIREBASE_DEFAULTS__,yN=()=>{if(typeof process>"u"||typeof G0>"u")return;const i=G0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},_N=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&m1(i[1]);return e&&JSON.parse(e)},uf=()=>{try{return hN()||gN()||yN()||_N()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},p1=i=>uf()?.emulatorHosts?.[i],vN=i=>{const e=p1(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},g1=()=>uf()?.config,y1=i=>uf()?.[`_${i}`];class EN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Vo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _1(i){return(await fetch(i,{credentials:"include"})).ok}function TN(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ph(JSON.stringify(n)),Ph(JSON.stringify(u)),""].join(".")}const tc={};function bN(){const i={prod:[],emulator:[]};for(const e of Object.keys(tc))tc[e]?i.emulator.push(e):i.prod.push(e);return i}function SN(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Y0=!1;function v1(i,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||tc[i]===e||tc[i]||Y0)return;tc[i]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=bN().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,j){x.setAttribute("width","24"),x.setAttribute("id",j),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Y0=!0,u()},x}function E(x,j){x.setAttribute("id",j),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=SN(r),j=n("text"),D=document.getElementById(j)||document.createElement("span"),z=n("learnmore"),k=document.getElementById(z)||document.createElement("a"),K=n("preprendIcon"),J=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ee=x.element;m(ee),E(k,z);const me=p();y(J,K),ee.append(J,D,k,me),document.body.appendChild(ee)}c?(D.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function AN(){const i=uf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RN(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function NN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CN(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function IN(){return!AN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DN(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const MN="FirebaseError";class xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MN,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?jN(c,r):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new xs(o,m,r)}}function jN(i,e){return i.replace(VN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const VN=/\{\$([^}]+)}/g;function kN(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function fa(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],u=e[o];if(Q0(c)&&Q0(u)){if(!fa(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Q0(i){return i!==null&&typeof i=="object"}function xc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function PN(i,e){const n=new LN(i,e);return n.subscribe.bind(n)}class LN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Bm),o.error===void 0&&(o.error=Bm),o.complete===void 0&&(o.complete=Bm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UN(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Bm(){}function cn(i){return i&&i._delegate?i._delegate:i}class da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class zN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FN(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BN(i){return i===ia?void 0:i}function FN(i){return i.instantiationMode==="EAGER"}class qN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Fe||(Fe={}));const HN={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},GN=Fe.INFO,YN={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},QN=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=YN[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=GN,this._logHandler=QN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const KN=(i,e)=>e.some(n=>i instanceof n);let K0,X0;function XN(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $N(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,lp=new WeakMap,T1=new WeakMap,Fm=new WeakMap,Xp=new WeakMap;function WN(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{n(mr(i.result)),o()},u=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&E1.set(n,i)}).catch(()=>{}),Xp.set(e,i),e}function JN(i){if(lp.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});lp.set(i,e)}let cp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return lp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||T1.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function ZN(i){cp=i(cp)}function eC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(qm(this),e,...n);return T1.set(r,e.sort?e.sort():[e]),mr(r)}:$N().includes(i)?function(...e){return i.apply(qm(this),e),mr(E1.get(this))}:function(...e){return mr(i.apply(qm(this),e))}}function tC(i){return typeof i=="function"?eC(i):(i instanceof IDBTransaction&&JN(i),KN(i,XN())?new Proxy(i,cp):i)}function mr(i){if(i instanceof IDBRequest)return WN(i);if(Fm.has(i))return Fm.get(i);const e=tC(i);return e!==i&&(Fm.set(i,e),Xp.set(e,i)),e}const qm=i=>Xp.get(i);function nC(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),m=mr(u);return r&&u.addEventListener("upgradeneeded",y=>{r(mr(u.result),y.oldVersion,y.newVersion,mr(u.transaction),y)}),n&&u.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const iC=["get","getKey","getAll","getAllKeys","count"],sC=["put","add","delete","clear"],Hm=new Map;function $0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=sC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||iC.includes(n)))return;const c=async function(u,...m){const y=this.transaction(u,o?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&y.done]))[0]};return Hm.set(e,c),c}ZN(i=>({...i,get:(e,n,r)=>$0(e,n)||i.get(e,n,r),has:(e,n)=>!!$0(e,n)||i.has(e,n)}));class rC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aC(i){return i.getComponent()?.type==="VERSION"}const up="@firebase/app",W0="0.14.5";const bs=new Kp("@firebase/app"),oC="@firebase/app-compat",lC="@firebase/analytics-compat",cC="@firebase/analytics",uC="@firebase/app-check-compat",hC="@firebase/app-check",fC="@firebase/auth",dC="@firebase/auth-compat",mC="@firebase/database",pC="@firebase/data-connect",gC="@firebase/database-compat",yC="@firebase/functions",_C="@firebase/functions-compat",vC="@firebase/installations",EC="@firebase/installations-compat",TC="@firebase/messaging",bC="@firebase/messaging-compat",SC="@firebase/performance",wC="@firebase/performance-compat",AC="@firebase/remote-config",xC="@firebase/remote-config-compat",RC="@firebase/storage",NC="@firebase/storage-compat",CC="@firebase/firestore",IC="@firebase/ai",DC="@firebase/firestore-compat",OC="firebase",MC="12.5.0";const hp="[DEFAULT]",jC={[up]:"fire-core",[oC]:"fire-core-compat",[cC]:"fire-analytics",[lC]:"fire-analytics-compat",[hC]:"fire-app-check",[uC]:"fire-app-check-compat",[fC]:"fire-auth",[dC]:"fire-auth-compat",[mC]:"fire-rtdb",[pC]:"fire-data-connect",[gC]:"fire-rtdb-compat",[yC]:"fire-fn",[_C]:"fire-fn-compat",[vC]:"fire-iid",[EC]:"fire-iid-compat",[TC]:"fire-fcm",[bC]:"fire-fcm-compat",[SC]:"fire-perf",[wC]:"fire-perf-compat",[AC]:"fire-rc",[xC]:"fire-rc-compat",[RC]:"fire-gcs",[NC]:"fire-gcs-compat",[CC]:"fire-fst",[DC]:"fire-fst-compat",[IC]:"fire-vertex","fire-js":"fire-js",[OC]:"fire-js-all"};const Lh=new Map,VC=new Map,fp=new Map;function J0(i,e){try{i.container.addComponent(e)}catch(n){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function To(i){const e=i.name;if(fp.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,i);for(const n of Lh.values())J0(n,i);for(const n of VC.values())J0(n,i);return!0}function $p(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function li(i){return i==null?!1:i.settings!==void 0}const kC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Ac("app","Firebase",kC);class PC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const ko=MC;function b1(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:hp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw pr.create("bad-app-name",{appName:String(o)});if(n||(n=g1()),!n)throw pr.create("no-options");const c=Lh.get(o);if(c){if(fa(n,c.options)&&fa(r,c.config))return c;throw pr.create("duplicate-app",{appName:o})}const u=new qN(o);for(const y of fp.values())u.addComponent(y);const m=new PC(n,r,u);return Lh.set(o,m),m}function S1(i=hp){const e=Lh.get(i);if(!e&&i===hp&&g1())return b1();if(!e)throw pr.create("no-app",{appName:i});return e}function gr(i,e,n){let r=jC[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(u.join(" "));return}To(new da(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const LC="firebase-heartbeat-database",UC=1,cc="firebase-heartbeat-store";let Gm=null;function w1(){return Gm||(Gm=nC(LC,UC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(i=>{throw pr.create("idb-open",{originalErrorMessage:i.message})})),Gm}async function zC(i){try{const n=(await w1()).transaction(cc),r=await n.objectStore(cc).get(A1(i));return await n.done,r}catch(e){if(e instanceof xs)bs.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e?.message});bs.warn(n.message)}}}async function Z0(i,e){try{const r=(await w1()).transaction(cc,"readwrite");await r.objectStore(cc).put(e,A1(i)),await r.done}catch(n){if(n instanceof xs)bs.warn(n.message);else{const r=pr.create("idb-set",{originalErrorMessage:n?.message});bs.warn(r.message)}}}function A1(i){return`${i.name}!${i.options.appId}`}const BC=1024,FC=30;class qC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>FC){const o=YC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eE(),{heartbeatsToSend:n,unsentEntries:r}=HC(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bs.warn(e),""}}}function eE(){return new Date().toISOString().substring(0,10)}function HC(i,e=BC){const n=[];let r=i.slice();for(const o of i){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),tE(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DN()?ON().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tE(i){return Ph(JSON.stringify({version:2,heartbeats:i})).length}function YC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function QC(i){To(new da("platform-logger",e=>new rC(e),"PRIVATE")),To(new da("heartbeat",e=>new qC(e),"PRIVATE")),gr(up,W0,i),gr(up,W0,"esm2020"),gr("fire-js","")}QC("");var KC="firebase",XC="12.5.0";gr(KC,XC,"app");function x1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $C=x1,R1=new Ac("auth","Firebase",x1());const Uh=new Kp("@firebase/auth");function WC(i,...e){Uh.logLevel<=Fe.WARN&&Uh.warn(`Auth (${ko}): ${i}`,...e)}function Ah(i,...e){Uh.logLevel<=Fe.ERROR&&Uh.error(`Auth (${ko}): ${i}`,...e)}function Qi(i,...e){throw Jp(i,...e)}function hi(i,...e){return Jp(i,...e)}function Wp(i,e,n){const r={...$C(),[e]:n};return new Ac("auth","Firebase",r).create(e,{appName:i.name})}function la(i){return Wp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JC(i,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qi(i,"argument-error"),Wp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return R1.create(i,...e)}function Ne(i,e,...n){if(!i)throw Jp(e,...n)}function _s(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ah(e),new Error(e)}function Ss(i,e){i||_s(e)}function dp(){return typeof self<"u"&&self.location?.href||""}function ZC(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}function eI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZC()||RN()||"connection"in navigator)?navigator.onLine:!0}function tI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ss(n>e,"Short delay should be less than long delay!"),this.isMobile=wN()||NN()}get(){return eI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zp(i,e){Ss(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class N1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sI=new Rc(3e4,6e4);function eg(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Po(i,e,n,r,o={}){return C1(i,o,async()=>{let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});const m=xc({key:i.config.apiKey,...u}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:y,...c};return xN()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(p.credentials="include"),N1.fetch()(await I1(i,i.config.apiHost,n,m),p)})}async function C1(i,e,n){i._canInitEmulator=!1;const r={...nI,...e};try{const o=new aI(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw mh(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[y,p]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(i,"credential-already-in-use",u);if(y==="EMAIL_EXISTS")throw mh(i,"email-already-in-use",u);if(y==="USER_DISABLED")throw mh(i,"user-disabled",u);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Wp(i,E,p);Qi(i,E)}}catch(o){if(o instanceof xs)throw o;Qi(i,"network-request-failed",{message:String(o)})}}async function rI(i,e,n,r,o={}){const c=await Po(i,e,n,r,o);return"mfaPendingCredential"in c&&Qi(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function I1(i,e,n,r){const o=`${e}${n}?${r}`,c=i,u=c.config.emulator?Zp(i.config,o):`${i.config.apiScheme}://${o}`;return iI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}class aI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),sI.get())})}}function mh(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=hi(i,e,r);return o.customData._tokenResponse=n,o}async function oI(i,e){return Po(i,"POST","/v1/accounts:delete",e)}async function zh(i,e){return Po(i,"POST","/v1/accounts:lookup",e)}function nc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lI(i,e=!1){const n=cn(i),r=await n.getIdToken(e),o=tg(r);Ne(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:r,authTime:nc(Ym(o.auth_time)),issuedAtTime:nc(Ym(o.iat)),expirationTime:nc(Ym(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ym(i){return Number(i)*1e3}function tg(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=m1(n);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function iE(i){const e=tg(i);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function uc(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xs&&cI(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function cI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class uI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nc(this.lastLoginAt),this.creationTime=nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bh(i){const e=i.auth,n=await i.getIdToken(),r=await uc(i,zh(e,{idToken:n}));Ne(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?D1(o.providerUserInfo):[],u=fI(i.providerData,c),m=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!u?.length,p=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,E)}async function hI(i){const e=cn(i);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fI(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function D1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function dI(i,e){const n=await C1(i,{},async()=>{const r=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await I1(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(y.credentials="include"),N1.fetch()(u,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mI(i,e){return Po(i,"POST","/v2/accounts:revokeToken",eg(i,e))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=iE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await dI(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,u=new go;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Ne(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return _s("not implemented")}}function or(i,e){Ne(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new uI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lI(this,e)}reload(){return hI(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(la(this.auth));const e=await this.getIdToken();return await uc(this,oI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:j,providerData:D,stsTokenManager:z}=n;Ne(b&&z,e,"internal-error");const k=go.fromJSON(this.name,z);Ne(typeof b=="string",e,"internal-error"),or(r,e.name),or(o,e.name),Ne(typeof x=="boolean",e,"internal-error"),Ne(typeof j=="boolean",e,"internal-error"),or(c,e.name),or(u,e.name),or(m,e.name),or(y,e.name),or(p,e.name),or(E,e.name);const K=new ci({uid:b,auth:e,email:o,emailVerified:x,displayName:r,isAnonymous:j,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:k,createdAt:p,lastLoginAt:E});return D&&Array.isArray(D)&&(K.providerData=D.map(J=>({...J}))),y&&(K._redirectEventId=y),K}static async _fromIdTokenResponse(e,n,r=!1){const o=new go;o.updateFromServerResponse(n);const c=new ci({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Bh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ne(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?D1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,m=new go;m.updateFromIdToken(r);const y=new ci({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,p),y}}const sE=new Map;function vs(i){Ss(i instanceof Function,"Expected a class definition");let e=sE.get(i);return e?(Ss(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sE.set(i,e),e)}class O1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O1.type="NONE";const rE=O1;function xh(i,e,n){return`firebase:${i}:${e}:${n}`}class yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=xh(this.userKey,o.apiKey,c),this.fullPersistenceKey=xh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yo(vs(rE),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||vs(rE);const u=xh(r,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(u);if(E){let b;if(typeof E=="string"){const x=await zh(e,{idToken:E}).catch(()=>{});if(!x)break;b=await ci._fromGetAccountInfoResponse(e,x,E)}else b=ci._fromJSON(e,E);p!==c&&(m=b),c=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new yo(c,e,r):(c=y[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(u)}catch{}})),new yo(c,e,r))}}function aE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L1(e))return"Blackberry";if(U1(e))return"Webos";if(j1(e))return"Safari";if((e.includes("chrome/")||V1(e))&&!e.includes("edge/"))return"Chrome";if(P1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function M1(i=rn()){return/firefox\//i.test(i)}function j1(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V1(i=rn()){return/crios\//i.test(i)}function k1(i=rn()){return/iemobile/i.test(i)}function P1(i=rn()){return/android/i.test(i)}function L1(i=rn()){return/blackberry/i.test(i)}function U1(i=rn()){return/webos/i.test(i)}function ng(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function pI(i=rn()){return ng(i)&&!!window.navigator?.standalone}function gI(){return CN()&&document.documentMode===10}function z1(i=rn()){return ng(i)||P1(i)||U1(i)||L1(i)||/windows phone/i.test(i)||k1(i)}function B1(i,e=[]){let n;switch(i){case"Browser":n=aE(rn());break;case"Worker":n=`${aE(rn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${r}`}class yI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((u,m)=>{try{const y=e(c);u(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function _I(i,e={}){return Po(i,"GET","/v2/passwordPolicy",eg(i,e))}const vI=6;class EI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class TI{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new yI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(la(this));const n=e?cn(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(la(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(la(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _I(this),n=new EI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vs(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{u=!0,y()}}else{const y=e.addObserver(n);return()=>{u=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hf(i){return cn(i)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=PN(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bI(i){ig=i}function SI(i){return ig.loadJS(i)}function wI(){return ig.gapiScript}function AI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function xI(i,e){const n=$p(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(fa(c,e??{}))return o;Qi(o,"already-initialized")}return n.initialize({options:e})}function RI(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vs);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function NI(i,e,n){const r=hf(i);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=F1(e),{host:u,port:m}=CI(e),y=m===null?"":`:${m}`,p={url:`${c}//${u}${y}/`},E=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(fa(p,r.config.emulator)&&fa(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Vo(u)?(_1(`${c}//${u}${y}`),v1("Auth",!0)):II()}function F1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function CI(i){const e=F1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:lE(r.substr(c.length+1))}}else{const[c,u]=r.split(":");return{host:c,port:lE(u)}}}function lE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function II(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class q1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function _o(i,e){return rI(i,"POST","/v1/accounts:signInWithIdp",eg(i,e))}const DI="http://localhost";class ma extends q1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const u=new ma(r,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:DI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xc(n)}return e}}class sg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Nc extends sg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ur extends Nc{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";class ys extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";class hr extends Nc{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";class fr extends Nc{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await ci._fromIdTokenResponse(e,r,o),u=cE(r);return new bo({user:c,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=cE(r);return new bo({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function cE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Fh extends xs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Fh(e,n,r,o)}}function H1(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(i,c,e,r):c})}async function OI(i,e,n=!1){const r=await uc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return bo._forOperation(i,"link",r)}async function MI(i,e,n=!1){const{auth:r}=i;if(li(r.app))return Promise.reject(la(r));const o="reauthenticate";try{const c=await uc(i,H1(r,o,e,i),n);Ne(c.idToken,r,"internal-error");const u=tg(c.idToken);Ne(u,r,"internal-error");const{sub:m}=u;return Ne(i.uid===m,r,"user-mismatch"),bo._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Qi(r,"user-mismatch"),c}}async function jI(i,e,n=!1){if(li(i.app))return Promise.reject(la(i));const r="signIn",o=await H1(i,r,e),c=await bo._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}function VI(i,e,n,r){return cn(i).onIdTokenChanged(e,n,r)}function kI(i,e,n){return cn(i).beforeAuthStateChanged(e,n)}function PI(i,e,n,r){return cn(i).onAuthStateChanged(e,n,r)}function LI(i){return cn(i).signOut()}const qh="__sak";class G1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const UI=1e3,zI=10;class Y1 extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,y)=>{this.notifyListeners(u,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},c=this.storage.getItem(r);gI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zI):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y1.type="LOCAL";const BI=Y1;class Q1 extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q1.type="SESSION";const K1=Q1;function FI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(u).map(async p=>p(n.origin,c)),y=await FI(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];function rg(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class qI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,y)=>{const p=rg("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(b){const x=b;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(x.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function zi(){return window}function HI(i){zi().location.href=i}function X1(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function GI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YI(){return navigator?.serviceWorker?.controller||null}function QI(){return X1()?self:null}const $1="firebaseLocalStorageDb",KI=1,Hh="firebaseLocalStorage",W1="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(i,e){return i.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function XI(){const i=indexedDB.deleteDatabase($1);return new Cc(i).toPromise()}function pp(){const i=indexedDB.open($1,KI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Hh,{keyPath:W1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await XI(),e(await pp()))})})}async function uE(i,e,n){const r=df(i,!0).put({[W1]:e,value:n});return new Cc(r).toPromise()}async function $I(i,e){const n=df(i,!1).get(e),r=await new Cc(n).toPromise();return r===void 0?null:r.value}function hE(i,e){const n=df(i,!0).delete(e);return new Cc(n).toPromise()}const WI=800,JI=3;class J1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(QI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new qI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await uE(e,qh,"1"),await hE(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$I(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=df(o,!1).getAll();return new Cc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J1.type="LOCAL";const ZI=J1;new Rc(3e4,6e4);function Z1(i,e){return e?vs(e):(Ne(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ag extends q1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eD(i){return jI(i.auth,new ag(i),i.bypassAuthState)}function tD(i){const{auth:e,user:n}=i;return Ne(n,e,"internal-error"),MI(n,new ag(i),i.bypassAuthState)}async function nD(i){const{auth:e,user:n}=i;return Ne(n,e,"internal-error"),OI(n,new ag(i),i.bypassAuthState)}class eb{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eD;case"linkViaPopup":case"linkViaRedirect":return nD;case"reauthViaPopup":case"reauthViaRedirect":return tD;default:Qi(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iD=new Rc(2e3,1e4);async function sD(i,e,n){if(li(i.app))return Promise.reject(hi(i,"operation-not-supported-in-this-environment"));const r=hf(i);JC(i,e,sg);const o=Z1(r,n);return new ra(r,"signInViaPopup",e,o).executeNotNull()}class ra extends eb{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iD.get())};e()}}ra.currentPopupAction=null;const rD="pendingRedirect",Rh=new Map;class aD extends eb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const r=await oD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oD(i,e){const n=uD(e),r=cD(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function lD(i,e){Rh.set(i._key(),e)}function cD(i){return vs(i._redirectPersistence)}function uD(i){return xh(rD,i.config.apiKey,i.name)}async function hD(i,e,n=!1){if(li(i.app))return Promise.reject(la(i));const r=hf(i),o=Z1(r,e),u=await new aD(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const fD=600*1e3;class dD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(hi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fD&&this.cachedEventUids.clear(),this.cachedEventUids.has(fE(e))}saveEventToCache(e){this.cachedEventUids.add(fE(e)),this.lastProcessedEventTime=Date.now()}}function fE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function tb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function mD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(i);default:return!1}}async function pD(i,e={}){return Po(i,"GET","/v1/projects",e)}const gD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yD=/^https?/;async function _D(i){if(i.config.emulator)return;const{authorizedDomains:e}=await pD(i);for(const n of e)try{if(vD(n))return}catch{}Qi(i,"unauthorized-domain")}function vD(i){const e=dp(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!yD.test(n))return!1;if(gD.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const ED=new Rc(3e4,6e4);function dE(){const i=zi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function TD(i){return new Promise((e,n)=>{function r(){dE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dE(),n(hi(i,"network-request-failed"))},timeout:ED.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)r();else{const o=AI("iframefcb");return zi()[o]=()=>{gapi.load?r():n(hi(i,"network-request-failed"))},SI(`${wI()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function bD(i){return Nh=Nh||TD(i),Nh}const SD=new Rc(5e3,15e3),wD="__/auth/iframe",AD="emulator/auth/iframe",xD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ND(i){const e=i.config;Ne(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Zp(e,AD):`https://${i.config.authDomain}/${wD}`,r={apiKey:e.apiKey,appName:i.name,v:ko},o=RD.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${xc(r).slice(1)}`}async function CD(i){const e=await bD(i),n=zi().gapi;return Ne(n,i,"internal-error"),e.open({where:document.body,url:ND(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xD,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const u=hi(i,"network-request-failed"),m=zi().setTimeout(()=>{c(u)},SD.get());function y(){zi().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{c(u)})}))}const ID={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DD=500,OD=600,MD="_blank",jD="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VD(i,e,n,r=DD,o=OD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...ID,width:r.toString(),height:o.toString(),top:c,left:u},p=rn().toLowerCase();n&&(m=V1(p)?MD:n),M1(p)&&(e=e||jD,y.scrollbars="yes");const E=Object.entries(y).reduce((x,[j,D])=>`${x}${j}=${D},`,"");if(pI(p)&&m!=="_self")return kD(e||"",m),new mE(null);const b=window.open(e||"",m,E);Ne(b,i,"popup-blocked");try{b.focus()}catch{}return new mE(b)}function kD(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const PD="__/auth/handler",LD="emulator/auth/handler",UD=encodeURIComponent("fac");async function pE(i,e,n,r,o,c){Ne(i.config.authDomain,i,"auth-domain-config-required"),Ne(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:ko,eventId:o};if(e instanceof sg){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",kN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))u[E]=b}if(e instanceof Nc){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(u.scopes=E.join(","))}i.tenantId&&(u.tid=i.tenantId);const m=u;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await i._getAppCheckToken(),p=y?`#${UD}=${encodeURIComponent(y)}`:"";return`${zD(i)}?${xc(m).slice(1)}${p}`}function zD({config:i}){return i.emulator?Zp(i,LD):`https://${i.authDomain}/${PD}`}const Qm="webStorageSupport";class BD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K1,this._completeRedirectFn=hD,this._overrideRedirectResult=lD}async _openPopup(e,n,r,o){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await pE(e,n,r,dp(),o);return VD(e,c,rg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await pE(e,n,r,dp(),o);return HI(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ss(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CD(e),r=new dD(e);return n.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qm,{type:Qm},o=>{const c=o?.[0]?.[Qm];c!==void 0&&n(!!c),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_D(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return z1()||j1()||ng()}}const FD=BD;var gE="@firebase/auth",yE="1.11.1";class qD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GD(i){To(new da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=r.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:u,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B1(i)},p=new TI(r,o,c,y);return RI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),To(new da("auth-internal",e=>{const n=hf(e.getProvider("auth").getImmediate());return(r=>new qD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(gE,yE,HD(i)),gr(gE,yE,"esm2020")}const YD=300,QD=y1("authIdTokenMaxAge")||YD;let _E=null;const KD=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QD)return;const o=n?.token;_E!==o&&(_E=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XD(i=S1()){const e=$p(i,"auth");if(e.isInitialized())return e.getImmediate();const n=xI(i,{popupRedirectResolver:FD,persistence:[ZI,BI,K1]}),r=y1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=KD(c.toString());kI(n,u,()=>u(n.currentUser)),VI(n,m=>u(m))}}const o=p1("auth");return o&&NI(n,`http://${o}`),n}function $D(){return document.getElementsByTagName("head")?.[0]??document}bI({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=hi("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",$D().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GD("Browser");var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yr,nb;(function(){var i;function e(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(N,O,V){for(var A=Array(arguments.length-2),se=2;se<arguments.length;se++)A[se-2]=arguments[se];return R.prototype[O].apply(N,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);const N=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)N[O]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(O=0;O<16;++O)N[O]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],O=I.g[2];let V=I.g[3],A;A=R+(V^C&(O^V))+N[0]+3614090360&4294967295,R=C+(A<<7&4294967295|A>>>25),A=V+(O^R&(C^O))+N[1]+3905402710&4294967295,V=R+(A<<12&4294967295|A>>>20),A=O+(C^V&(R^C))+N[2]+606105819&4294967295,O=V+(A<<17&4294967295|A>>>15),A=C+(R^O&(V^R))+N[3]+3250441966&4294967295,C=O+(A<<22&4294967295|A>>>10),A=R+(V^C&(O^V))+N[4]+4118548399&4294967295,R=C+(A<<7&4294967295|A>>>25),A=V+(O^R&(C^O))+N[5]+1200080426&4294967295,V=R+(A<<12&4294967295|A>>>20),A=O+(C^V&(R^C))+N[6]+2821735955&4294967295,O=V+(A<<17&4294967295|A>>>15),A=C+(R^O&(V^R))+N[7]+4249261313&4294967295,C=O+(A<<22&4294967295|A>>>10),A=R+(V^C&(O^V))+N[8]+1770035416&4294967295,R=C+(A<<7&4294967295|A>>>25),A=V+(O^R&(C^O))+N[9]+2336552879&4294967295,V=R+(A<<12&4294967295|A>>>20),A=O+(C^V&(R^C))+N[10]+4294925233&4294967295,O=V+(A<<17&4294967295|A>>>15),A=C+(R^O&(V^R))+N[11]+2304563134&4294967295,C=O+(A<<22&4294967295|A>>>10),A=R+(V^C&(O^V))+N[12]+1804603682&4294967295,R=C+(A<<7&4294967295|A>>>25),A=V+(O^R&(C^O))+N[13]+4254626195&4294967295,V=R+(A<<12&4294967295|A>>>20),A=O+(C^V&(R^C))+N[14]+2792965006&4294967295,O=V+(A<<17&4294967295|A>>>15),A=C+(R^O&(V^R))+N[15]+1236535329&4294967295,C=O+(A<<22&4294967295|A>>>10),A=R+(O^V&(C^O))+N[1]+4129170786&4294967295,R=C+(A<<5&4294967295|A>>>27),A=V+(C^O&(R^C))+N[6]+3225465664&4294967295,V=R+(A<<9&4294967295|A>>>23),A=O+(R^C&(V^R))+N[11]+643717713&4294967295,O=V+(A<<14&4294967295|A>>>18),A=C+(V^R&(O^V))+N[0]+3921069994&4294967295,C=O+(A<<20&4294967295|A>>>12),A=R+(O^V&(C^O))+N[5]+3593408605&4294967295,R=C+(A<<5&4294967295|A>>>27),A=V+(C^O&(R^C))+N[10]+38016083&4294967295,V=R+(A<<9&4294967295|A>>>23),A=O+(R^C&(V^R))+N[15]+3634488961&4294967295,O=V+(A<<14&4294967295|A>>>18),A=C+(V^R&(O^V))+N[4]+3889429448&4294967295,C=O+(A<<20&4294967295|A>>>12),A=R+(O^V&(C^O))+N[9]+568446438&4294967295,R=C+(A<<5&4294967295|A>>>27),A=V+(C^O&(R^C))+N[14]+3275163606&4294967295,V=R+(A<<9&4294967295|A>>>23),A=O+(R^C&(V^R))+N[3]+4107603335&4294967295,O=V+(A<<14&4294967295|A>>>18),A=C+(V^R&(O^V))+N[8]+1163531501&4294967295,C=O+(A<<20&4294967295|A>>>12),A=R+(O^V&(C^O))+N[13]+2850285829&4294967295,R=C+(A<<5&4294967295|A>>>27),A=V+(C^O&(R^C))+N[2]+4243563512&4294967295,V=R+(A<<9&4294967295|A>>>23),A=O+(R^C&(V^R))+N[7]+1735328473&4294967295,O=V+(A<<14&4294967295|A>>>18),A=C+(V^R&(O^V))+N[12]+2368359562&4294967295,C=O+(A<<20&4294967295|A>>>12),A=R+(C^O^V)+N[5]+4294588738&4294967295,R=C+(A<<4&4294967295|A>>>28),A=V+(R^C^O)+N[8]+2272392833&4294967295,V=R+(A<<11&4294967295|A>>>21),A=O+(V^R^C)+N[11]+1839030562&4294967295,O=V+(A<<16&4294967295|A>>>16),A=C+(O^V^R)+N[14]+4259657740&4294967295,C=O+(A<<23&4294967295|A>>>9),A=R+(C^O^V)+N[1]+2763975236&4294967295,R=C+(A<<4&4294967295|A>>>28),A=V+(R^C^O)+N[4]+1272893353&4294967295,V=R+(A<<11&4294967295|A>>>21),A=O+(V^R^C)+N[7]+4139469664&4294967295,O=V+(A<<16&4294967295|A>>>16),A=C+(O^V^R)+N[10]+3200236656&4294967295,C=O+(A<<23&4294967295|A>>>9),A=R+(C^O^V)+N[13]+681279174&4294967295,R=C+(A<<4&4294967295|A>>>28),A=V+(R^C^O)+N[0]+3936430074&4294967295,V=R+(A<<11&4294967295|A>>>21),A=O+(V^R^C)+N[3]+3572445317&4294967295,O=V+(A<<16&4294967295|A>>>16),A=C+(O^V^R)+N[6]+76029189&4294967295,C=O+(A<<23&4294967295|A>>>9),A=R+(C^O^V)+N[9]+3654602809&4294967295,R=C+(A<<4&4294967295|A>>>28),A=V+(R^C^O)+N[12]+3873151461&4294967295,V=R+(A<<11&4294967295|A>>>21),A=O+(V^R^C)+N[15]+530742520&4294967295,O=V+(A<<16&4294967295|A>>>16),A=C+(O^V^R)+N[2]+3299628645&4294967295,C=O+(A<<23&4294967295|A>>>9),A=R+(O^(C|~V))+N[0]+4096336452&4294967295,R=C+(A<<6&4294967295|A>>>26),A=V+(C^(R|~O))+N[7]+1126891415&4294967295,V=R+(A<<10&4294967295|A>>>22),A=O+(R^(V|~C))+N[14]+2878612391&4294967295,O=V+(A<<15&4294967295|A>>>17),A=C+(V^(O|~R))+N[5]+4237533241&4294967295,C=O+(A<<21&4294967295|A>>>11),A=R+(O^(C|~V))+N[12]+1700485571&4294967295,R=C+(A<<6&4294967295|A>>>26),A=V+(C^(R|~O))+N[3]+2399980690&4294967295,V=R+(A<<10&4294967295|A>>>22),A=O+(R^(V|~C))+N[10]+4293915773&4294967295,O=V+(A<<15&4294967295|A>>>17),A=C+(V^(O|~R))+N[1]+2240044497&4294967295,C=O+(A<<21&4294967295|A>>>11),A=R+(O^(C|~V))+N[8]+1873313359&4294967295,R=C+(A<<6&4294967295|A>>>26),A=V+(C^(R|~O))+N[15]+4264355552&4294967295,V=R+(A<<10&4294967295|A>>>22),A=O+(R^(V|~C))+N[6]+2734768916&4294967295,O=V+(A<<15&4294967295|A>>>17),A=C+(V^(O|~R))+N[13]+1309151649&4294967295,C=O+(A<<21&4294967295|A>>>11),A=R+(O^(C|~V))+N[4]+4149444226&4294967295,R=C+(A<<6&4294967295|A>>>26),A=V+(C^(R|~O))+N[11]+3174756917&4294967295,V=R+(A<<10&4294967295|A>>>22),A=O+(R^(V|~C))+N[2]+718787259&4294967295,O=V+(A<<15&4294967295|A>>>17),A=C+(V^(O|~R))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,N=this.C;let O=this.h,V=0;for(;V<R;){if(O==0)for(;V<=C;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<R;)if(N[O++]=I.charCodeAt(V++),O==this.blockSize){o(this,N),O=0;break}}else for(;V<R;)if(N[O++]=I[V++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)I[R++]=this.g[C]>>>N&255;return I};function c(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function u(I,R){this.h=R;const C=[];let N=!0;for(let O=I.length-1;O>=0;O--){const V=I[O]|0;N&&V==R||(C[O]=V,N=!1)}this.g=C}var m={};function y(I){return-128<=I&&I<128?c(I,function(R){return new u([R|0],R<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return k(p(-I));const R=[];let C=1;for(let N=0;I>=C;N++)R[N]=I/C|0,C*=4294967296;return new u(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return k(E(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let N=b;for(let V=0;V<I.length;V+=8){var O=Math.min(8,I.length-V);const A=parseInt(I.substring(V,V+O),R);O<8?(O=p(Math.pow(R,O)),N=N.j(O).add(p(A))):(N=N.j(C),N=N.add(p(A)))}return N}var b=y(0),x=y(1),j=y(16777216);i=u.prototype,i.m=function(){if(z(this))return-k(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);I+=(N>=0?N:4294967296+N)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(z(this))return"-"+k(this).toString(I);const R=p(Math.pow(I,6));var C=this;let N="";for(;;){const O=me(C,R).g;C=K(C,O.j(R));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,D(C))return V+N;for(;V.length<6;)V="0"+V;N=V+N}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function z(I){return I.h==-1}i.l=function(I){return I=K(this,I),z(I)?-1:D(I)?0:1};function k(I){const R=I.g.length,C=[];for(let N=0;N<R;N++)C[N]=~I.g[N];return new u(C,~I.h).add(x)}i.abs=function(){return z(this)?k(this):this},i.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let N=0;for(let O=0;O<=R;O++){let V=N+(this.i(O)&65535)+(I.i(O)&65535),A=(V>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);N=A>>>16,V&=65535,A&=65535,C[O]=A<<16|V}return new u(C,C[C.length-1]&-2147483648?-1:0)};function K(I,R){return I.add(k(R))}i.j=function(I){if(D(this)||D(I))return b;if(z(this))return z(I)?k(this).j(k(I)):k(k(this).j(I));if(z(I))return k(this.j(k(I)));if(this.l(j)<0&&I.l(j)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var N=0;N<2*R;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<I.g.length;O++){const V=this.i(N)>>>16,A=this.i(N)&65535,se=I.i(O)>>>16,he=I.i(O)&65535;C[2*N+2*O]+=A*he,J(C,2*N+2*O),C[2*N+2*O+1]+=V*he,J(C,2*N+2*O+1),C[2*N+2*O+1]+=A*se,J(C,2*N+2*O+1),C[2*N+2*O+2]+=V*se,J(C,2*N+2*O+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new u(C,0)};function J(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ee(I,R){this.g=I,this.h=R}function me(I,R){if(D(R))throw Error("division by zero");if(D(I))return new ee(b,b);if(z(I))return R=me(k(I),R),new ee(k(R.g),k(R.h));if(z(R))return R=me(I,k(R)),new ee(k(R.g),R.h);if(I.g.length>30){if(z(I)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=x,N=R;N.l(I)<=0;)C=ge(C),N=ge(N);var O=ue(C,1),V=ue(N,1);for(N=ue(N,2),C=ue(C,2);!D(N);){var A=V.add(N);A.l(I)<=0&&(O=O.add(C),V=A),N=ue(N,1),C=ue(C,1)}return R=K(I,O.j(R)),new ee(O,R)}for(O=b;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),V=p(C),A=V.j(R);z(A)||A.l(I)>0;)C-=N,V=p(C),A=V.j(R);D(V)&&(V=x),O=O.add(V),I=K(I,A)}return new ee(O,I)}i.B=function(I){return me(this,I).h},i.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let N=0;N<R;N++)C[N]=this.i(N)&I.i(N);return new u(C,this.h&I.h)},i.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let N=0;N<R;N++)C[N]=this.i(N)|I.i(N);return new u(C,this.h|I.h)},i.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let N=0;N<R;N++)C[N]=this.i(N)^I.i(N);return new u(C,this.h^I.h)};function ge(I){const R=I.g.length+1,C=[];for(let N=0;N<R;N++)C[N]=I.i(N)<<1|I.i(N-1)>>>31;return new u(C,I.h)}function ue(I,R){const C=R>>5;R%=32;const N=I.g.length-C,O=[];for(let V=0;V<N;V++)O[V]=R>0?I.i(V+C)>>>R|I.i(V+C+1)<<32-R:I.i(V+C);return new u(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nb=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=E,yr=u}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ib,Wl,sb,Ch,gp,rb,ab,ob;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function o(h,_){if(_)e:{var T=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in T))break e;T=T[q]}h=h[h.length-1],w=T[h],_=_(w),_!=w&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var T=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&T.push([w,_[w]]);return T}});var c=c||{},u=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function y(h,_,T){return h.call.apply(h.bind,arguments)}function p(h,_,T){return p=y,p.apply(null,arguments)}function E(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(w,q,X){for(var de=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)de[Oe-2]=arguments[Oe];return _.prototype[q].apply(w,de)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function j(h){const _=h.length;if(_>0){const T=Array(_);for(let w=0;w<_;w++)T[w]=h[w];return T}return[]}function D(h,_){for(let w=1;w<arguments.length;w++){const q=arguments[w];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const X=q.length||0;h.length=T+X;for(let de=0;de<X;de++)h[T+de]=q[de]}else h.push(q)}}class z{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(h){u.setTimeout(()=>{throw h},0)}function K(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class J{constructor(){this.h=this.g=null}add(_,T){const w=ee.get();w.set(_,T),this.h?this.h.next=w:this.g=w,this.h=w}}var ee=new z(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ue=!1,I=new J,R=()=>{const h=Promise.resolve(void 0);ge=()=>{h.then(C)}};function C(){for(var h;h=K();){try{h.h.call(h.g)}catch(T){k(T)}var _=ee;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ue=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function A(h){return/^[\s\xa0]*$/.test(h)}function se(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(se,O),se.prototype.init=function(h,_){const T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),F=0;function ae(h,_,T,w,q){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!w,this.ha=q,this.key=++F,this.da=this.fa=!1}function ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Se(h,_,T){for(const w in h)_.call(T,h[w],w,h)}function Ae(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function L(h){const _={};for(const T in h)_[T]=h[T];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(h,_){let T,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(T in w)h[T]=w[T];for(let X=0;X<Z.length;X++)T=Z[X],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function Y(h){this.src=h,this.g={},this.h=0}Y.prototype.add=function(h,_,T,w,q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const de=Re(h,_,w,q);return de>-1?(_=h[de],T||(_.fa=!1)):(_=new ae(_,this.src,X,!!w,q),_.fa=T,h.push(_)),_};function ve(h,_){const T=_.type;if(T in h.g){var w=h.g[T],q=Array.prototype.indexOf.call(w,_,void 0),X;(X=q>=0)&&Array.prototype.splice.call(w,q,1),X&&(ce(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Re(h,_,T,w){for(let q=0;q<h.length;++q){const X=h[q];if(!X.da&&X.listener==_&&X.capture==!!T&&X.ha==w)return q}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),ne={};function Ue(h,_,T,w,q){if(Array.isArray(_)){for(let X=0;X<_.length;X++)Ue(h,_[X],T,w,q);return null}return T=Go(T),h&&h[he]?h.J(_,T,m(w)?!!w.capture:!1,q):Kn(h,_,T,!1,w,q)}function Kn(h,_,T,w,q,X){if(!_)throw Error("Invalid event type");const de=m(q)?!!q.capture:!!q;let Oe=Rr(h);if(Oe||(h[Ve]=Oe=new Y(h)),T=Oe.add(_,T,w,de,X),T.proxy)return T;if(w=Xn(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)V||(q=de),q===void 0&&(q=!1),h.addEventListener(_.toString(),w,q);else if(h.attachEvent)h.attachEvent(gi(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Xn(){function h(T){return _.call(h.src,h.listener,T)}const _=qo;return h}function Wi(h,_,T,w,q){if(Array.isArray(_))for(var X=0;X<_.length;X++)Wi(h,_[X],T,w,q);else w=m(w)?!!w.capture:!!w,T=Go(T),h&&h[he]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],T=Re(_,T,w,q),T>-1&&(ce(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=Rr(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Re(_,T,w,q)),(T=h>-1?_[h]:null)&&Sa(T))}function Sa(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[he])ve(_.i,h);else{var T=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(T,w,h.capture):_.detachEvent?_.detachEvent(gi(T),w):_.addListener&&_.removeListener&&_.removeListener(w),(T=Rr(_))?(ve(T,h),T.h==0&&(T.src=null,_[Ve]=null)):ce(h)}}}function gi(h){return h in ne?ne[h]:ne[h]="on"+h}function qo(h,_){if(h.da)h=!0;else{_=new se(_,this);const T=h.listener,w=h.ha||h.src;h.fa&&Sa(h),h=T.call(w,_)}return h}function Rr(h){return h=h[Ve],h instanceof Y?h:null}var Ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function Go(h){return typeof h=="function"?h:(h[Ho]||(h[Ho]=function(_){return h.handleEvent(_)}),h[Ho])}function bt(){N.call(this),this.i=new Y(this),this.M=this,this.G=null}b(bt,N),bt.prototype[he]=!0,bt.prototype.removeEventListener=function(h,_,T,w){Wi(this,h,_,T,w)};function Vt(h,_){var T,w=h.G;if(w)for(T=[];w;w=w.G)T.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var q=_;_=new O(w,h),fe(_,q)}q=!0;let X,de;if(T)for(de=T.length-1;de>=0;de--)X=_.g=T[de],q=Rs(X,w,!0,_)&&q;if(X=_.g=h,q=Rs(X,w,!0,_)&&q,q=Rs(X,w,!1,_)&&q,T)for(de=0;de<T.length;de++)X=_.g=T[de],q=Rs(X,w,!1,_)&&q}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let w=0;w<T.length;w++)ce(T[w]);delete h.g[_],h.h--}}this.G=null},bt.prototype.J=function(h,_,T,w){return this.i.add(String(h),_,!1,T,w)},bt.prototype.K=function(h,_,T,w){return this.i.add(String(h),_,!0,T,w)};function Rs(h,_,T,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let X=0;X<_.length;++X){const de=_[X];if(de&&!de.da&&de.capture==T){const Oe=de.listener,yt=de.ha||de.src;de.fa&&ve(h.i,de),q=Oe.call(yt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Of(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function kc(h){h.g=Of(()=>{h.g=null,h.i&&(h.i=!1,kc(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class an extends N{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:kc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(h){N.call(this),this.h=h,this.g={}}b(Nr,N);var Yo=[];function Qo(h){Se(h.g,function(_,T){this.g.hasOwnProperty(T)&&Sa(_)},h),h.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),Qo(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ns=u.JSON.stringify,Mf=u.JSON.parse,Pc=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Lc(){}function Uc(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}b(qt,O);function In(){O.call(this,"c")}b(In,O);var gt={},zc=null;function wa(){return zc=zc||new bt}gt.Ia="serverreachability";function Bc(h){O.call(this,gt.Ia,h)}b(Bc,O);function yi(h){const _=wa();Vt(_,new Bc(_))}gt.STAT_EVENT="statevent";function Cr(h,_){O.call(this,gt.STAT_EVENT,h),this.stat=_}b(Cr,O);function St(h){const _=wa();Vt(_,new Cr(_,h))}gt.Ja="timingevent";function _i(h,_){O.call(this,gt.Ja,h),this.size=_}b(_i,O);function vi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function jf(h,_,T,w,q,X){h.info(function(){if(h.g)if(X){var de="",Oe=X.split("&");for(let Xe=0;Xe<Oe.length;Xe++){var yt=Oe[Xe].split("=");if(yt.length>1){const ut=yt[0];yt=yt[1];const jn=ut.split("_");de=jn.length>=2&&jn[1]=="type"?de+(ut+"="+yt+"&"):de+(ut+"=redacted&")}}}else de=null;else de=X;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+_+`
`+T+`
`+de})}function Fc(h,_,T,w,q,X,de){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+_+`
`+T+`
`+X+" "+de})}function Ei(h,_,T,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Vf(h,T)+(w?" "+w:"")})}function Ir(h,_){h.info(function(){return"TIMEOUT: "+_})}Wn.prototype.info=function(){};function Vf(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var T=X[h];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let de=1;de<w.length;de++)w[de]=""}}}}return Ns(X)}catch{return _}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xo;function Or(){}b(Or,Lc),Or.prototype.g=function(){return new XMLHttpRequest},Xo=new Or;function Ji(h){return encodeURIComponent(String(h))}function qc(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function Jn(h,_,T,w){this.j=h,this.i=_,this.l=T,this.S=w||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var wt={},Lt={};function Ti(h,_,T){h.M=1,h.A=Mr(xt(_)),h.u=T,h.R=!0,Aa(h,null)}function Aa(h,_){h.F=Date.now(),bi(h),h.B=xt(h.A);var T=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Ca(T.i,"t",w),h.C=0,T=h.j.L,h.h=new Zn,h.g=su(h.j,T?_:null,!h.u),h.P>0&&(h.O=new an(p(h.Y,h,h.g),h.P)),_=h.V,T=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Yo[0]=q.toString()),q=Yo);for(let X=0;X<q.length;X++){const de=Ue(T,q[X],w||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),yi(),jf(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const _=this.O;_&&ni(h)==3?_.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)e:{const Oe=ni(this.g),yt=this.g.ya(),Xe=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Oe!=4||yt==7||(yt==8||Xe<=0?yi(3):yi(2)),Si(this);var _=this.g.ca();this.X=_;var T=kf(this);if(this.o=_==200,Fc(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(w)){var X=w;break t}}X=null}if(h=X)Ei(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,h);else{this.o=!1,this.m=3,St(12),En(this),Dn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<T.length;)if(ut=Gc(this,T),ut==Lt){Oe==4&&(this.m=4,St(14),h=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,St(15),Ei(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ei(this.i,this.l,ut,null),wi(this,ut);if(Hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||T.length!=0||this.h.h||(this.m=1,St(16),h=!1),this.o=this.o&&h,!h)Ei(this.i,this.l,T,"[Invalid Chunked Response]"),En(this),Dn(this);else if(T.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ul(de),de.P=!0,St(11))}}else Ei(this.i,this.l,T,null),wi(this,T);Oe==4&&En(this),this.o&&!this.K&&(Oe==4?eu(this.j,this):(this.o=!1,bi(this)))}else es(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),En(this),Dn(this)}}}catch{}finally{}};function kf(h){if(!Hc(h))return h.g.la();const _=Ht(h.g);if(_==="")return"";let T="";const w=_.length,q=ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return En(h),Dn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<w;X++)h.h.h=!0,T+=h.h.i.decode(_[X],{stream:!(q&&X==w-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Hc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Gc(h,_){var T=h.C,w=_.indexOf(`
`,T);return w==-1?Lt:(T=Number(_.substring(T,w)),isNaN(T)?wt:(w+=1,w+T>_.length?Lt:(_=_.slice(w,w+T),h.C=w+T,_)))}Jn.prototype.cancel=function(){this.K=!0,En(this)};function bi(h){h.T=Date.now()+h.H,xa(h,h.H)}function xa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(p(h.aa,h),_)}function Si(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ir(this.i,this.B),this.M!=2&&(yi(),St(17)),En(this),this.m=2,Dn(this)):xa(this,this.T-h)};function Dn(h){h.j.I==0||h.K||eu(h.j,h)}function En(h){Si(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Qo(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function wi(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||xi(T.h,h))){if(!h.L&&xi(T.h,h)&&T.I==3){try{var w=T.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)ja(T),ks(T);else break e;zr(T),St(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=vi(p(T.Va,T),6e3));Ai(T.h)<=1&&T.ta&&(T.ta=void 0)}else Oi(T,11)}else if((h.L||T.g==h)&&ja(T),!A(_))for(q=T.Ba.g.parse(_),_=0;_<q.length;_++){let Xe=q[_];const ut=Xe[0];if(!(ut<=T.K))if(T.K=ut,Xe=Xe[1],T.I==2)if(Xe[0]=="c"){T.M=Xe[1],T.ba=Xe[2];const jn=Xe[3];jn!=null&&(T.ka=jn,T.j.info("VER="+T.ka));const Mi=Xe[4];Mi!=null&&(T.za=Mi,T.j.info("SVER="+T.za));const ii=Xe[5];ii!=null&&typeof ii=="number"&&ii>0&&(w=1.5*ii,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const si=h.g;if(si){const Br=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var X=w.h;X.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Jo(X,X.h),X.h=null))}if(w.G){const Va=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(w.wa=Va,Je(w.J,w.G,Va))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var de=h;if(w.na=iu(w,w.L?w.ba:null,w.W),de.L){Zo(w.h,de);var Oe=de,yt=w.O;yt&&(Oe.H=yt),Oe.D&&(Si(Oe),bi(Oe)),w.g=de}else Jc(w);T.i.length>0&&Di(T)}else Xe[0]!="stop"&&Xe[0]!="close"||Oi(T,7);else T.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Oi(T,7):ll(T):Xe[0]!="noop"&&T.l&&T.l.qa(Xe),T.A=0)}}yi(4)}catch{}}var At=class{constructor(h,_){this.g=h,this.map=_}};function $o(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ai(h){return h.h?1:h.g?h.g.size:0}function xi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Jo(h,_){h.g?h.g.add(_):h.h=_}function Zo(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}$o.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function el(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return j(h.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const w=h[T].indexOf("=");let q,X=null;w>=0?(q=h[T].substring(0,w),X=h[T].substring(w+1)):q=h[T],_(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Tn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Tn?(this.l=h.l,Ut(this,h.j),this.o=h.o,this.g=h.g,Cs(this,h.u),this.h=h.h,tl(this,$c(h.i)),this.m=h.m):h&&(_=String(h).match(Yc))?(this.l=!1,Ut(this,_[1]||"",!0),this.o=Ri(_[2]||""),this.g=Ri(_[3]||"",!0),Cs(this,_[4]),this.h=Ri(_[5]||"",!0),tl(this,_[6]||"",!0),this.m=Ri(_[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}Tn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(jr(_,Na,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(jr(_,Na,!0),"@"),h.push(Ji(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(jr(T,T.charAt(0)=="/"?nl:Qc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",jr(T,Kc)),h.join("")},Tn.prototype.resolve=function(h){const _=xt(this);let T=!!h.j;T?Ut(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var w=h.h;if(T)Cs(_,h.u);else if(T=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=_.h.lastIndexOf("/");q!=-1&&(w=_.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let de=0;de<q.length;){const Oe=q[de++];Oe=="."?w&&de==q.length&&X.push(""):Oe==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),w&&de==q.length&&X.push("")):(X.push(Oe),w=!0)}w=X.join("/")}else w=q}return T?_.h=w:T=h.i.toString()!=="",T?tl(_,$c(h.i)):T=!!h.m,T&&(_.m=h.m),_};function xt(h){return new Tn(h)}function Ut(h,_,T){h.j=T?Ri(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Cs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function tl(h,_,T){_ instanceof Ds?(h.i=_,Ia(h.i,h.l)):(T||(_=jr(_,Is)),h.i=new Ds(_,h.l))}function Je(h,_,T){h.i.set(_,T)}function Mr(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ri(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function jr(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,un),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function un(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Na=/[#\/\?@]/g,Qc=/[#\?:]/g,nl=/[#\?]/g,Is=/[#\?@]/g,Kc=/#/g;function Ds(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ra(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}i=Ds.prototype,i.add=function(h,_){hn(this),this.i=null,h=Os(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Xc(h,_){hn(h),_=Os(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function il(h,_){return hn(h),_=Os(h,_),h.g.has(_)}i.forEach=function(h,_){hn(this),this.g.forEach(function(T,w){T.forEach(function(q){h.call(_,q,w,this)},this)},this)};function sl(h,_){hn(h);let T=[];if(typeof _=="string")il(h,_)&&(T=T.concat(h.g.get(Os(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}i.set=function(h,_){return hn(this),this.i=null,h=Os(this,h),il(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},i.get=function(h,_){return h?(h=sl(this,h),h.length>0?String(h[0]):_):_};function Ca(h,_,T){Xc(h,_),T.length>0&&(h.i=null,h.g.set(Os(h,_),j(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var T=_[w];const q=Ji(T);T=sl(this,T);for(let X=0;X<T.length;X++){let de=q;T[X]!==""&&(de+="="+Ji(T[X])),h.push(de)}}return this.i=h.join("&")};function $c(h){const _=new Ds;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Os(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ia(h,_){_&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(T,w){const q=w.toLowerCase();w!=q&&(Xc(this,w),Ca(this,q,T))},h)),h.j=_}function ei(h,_){const T=new Wn;if(u.Image){const w=new Image;w.onload=E(On,T,"TestLoadImage: loaded",!0,_,w),w.onerror=E(On,T,"TestLoadImage: error",!1,_,w),w.onabort=E(On,T,"TestLoadImage: abort",!1,_,w),w.ontimeout=E(On,T,"TestLoadImage: timeout",!1,_,w),u.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function rl(h,_){const T=new Wn,w=new AbortController,q=setTimeout(()=>{w.abort(),On(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(X=>{clearTimeout(q),X.ok?On(T,"TestPingServer: ok",!0,_):On(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),On(T,"TestPingServer: error",!1,_)})}function On(h,_,T,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(T)}catch{}}function Ms(){this.g=new Pc}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ni,Lc),Ni.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(h,_){bt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Vr,bt),i=Vr.prototype,i.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,ti(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?js(this):ti(this),this.readyState==3&&Da(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,js(this))},i.Na=function(h){this.g&&(this.response=h,js(this))},i.ga=function(){this.g&&js(this)};function js(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ti(h)}i.setRequestHeader=function(h,_){this.A.append(h,_)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Mn(h){let _="";return Se(h,function(T,w){_+=w,_+=":",_+=T,_+=`\r
`}),_}function kr(h,_,T){e:{for(w in T){var w=!1;break e}w=!0}w||(T=Mn(T),typeof h=="string"?T!=null&&Ji(T):Je(h,_,T))}function tt(h){bt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(tt,bt);var Ci=/^https?$/i,al=["POST","PUT"];i=tt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,_,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xo.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){Pr(this,X);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)T.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())T.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(al,_,void 0)>=0)||w||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of T)this.g.setRequestHeader(X,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Pr(this,X)}};function Pr(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,ol(h),Zi(h)}function ol(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),Zi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),tt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},i.Xa=function(){Lr(this)};function Lr(h){if(h.h&&typeof c<"u"){if(h.v&&ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),ni(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var w;if(w=X===0){let de=String(h.D).match(Yc)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),w=!Ci.test(de?de.toLowerCase():"")}T=w}if(T)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var q=ni(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",ol(h)}}finally{Zi(h)}}}}function Zi(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||Vt(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Mf(_)}};function Ht(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function es(h){const _={};h=(h.g&&ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(A(h[w]))continue;var T=qc(h[w]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=_[q]||[];_[q]=X,X.push(T)}Ae(_,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Vs(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,h),this.Za=Ii("retryDelaySeedMs",1e4,h),this.Ta=Ii("forwardChannelMaxRetries",2,h),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(h&&h.concurrentRequestLimit),this.Ba=new Ms,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Vs.prototype,i.ka=8,i.I=1,i.connect=function(h,_,T,w){St(0),this.W=h,this.H=_||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=iu(this,null,this.W),Di(this)};function ll(h){if(Oa(h),h.I==3){var _=h.V++,T=xt(h.J);if(Je(T,"SID",h.M),Je(T,"RID",_),Je(T,"TYPE","terminate"),Ur(h,T),_=new Jn(h,h.j,_),_.M=2,_.A=Mr(xt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=su(_.j,null),_.g.ea(_.A)),_.F=Date.now(),bi(_)}nu(h)}function ks(h){h.g&&(ul(h),h.g.cancel(),h.g=null)}function Oa(h){ks(h),h.v&&(u.clearTimeout(h.v),h.v=null),ja(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Di(h){if(!Wo(h.h)&&!h.m){h.m=!0;var _=h.Ea;ge||R(),ue||(ge(),ue=!0),I.add(_,h),h.D=0}}function Ma(h,_){return Ai(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(p(h.Ea,h,_),tu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Jn(this,this.j,h);let X=this.o;if(this.U&&(X?(X=L(X),fe(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Wc(this,q,_),T=xt(this.J),Je(T,"RID",h),Je(T,"CVER",22),this.G&&Je(T,"X-HTTP-Session-Id",this.G),Ur(this,T),X&&(this.R?_="headers="+Ji(Mn(X))+"&"+_:this.u&&kr(T,this.u,X)),Jo(this.h,q),this.Ra&&Je(T,"TYPE","init"),this.S?(Je(T,"$req",_),Je(T,"SID","null"),q.U=!0,Ti(q,T,null)):Ti(q,T,_),this.I=2}}else this.I==3&&(h?cl(this,h):this.i.length==0||Wo(this.h)||cl(this))};function cl(h,_){var T;_?T=_.l:T=h.V++;const w=xt(h.J);Je(w,"SID",h.M),Je(w,"RID",T),Je(w,"AID",h.K),Ur(h,w),h.u&&h.o&&kr(w,h.u,h.o),T=new Jn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Wc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Jo(h.h,T),Ti(T,w,_)}function Ur(h,_){h.H&&Se(h.H,function(T,w){Je(_,w,T)}),h.l&&Se({},function(T,w){Je(_,w,T)})}function Wc(h,_,T){T=Math.min(h.i.length,T);const w=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let Oe=-1;for(;;){const yt=["count="+T];Oe==-1?T>0?(Oe=q[0].g,yt.push("ofs="+Oe)):Oe=0:yt.push("ofs="+Oe);let Xe=!0;for(let ut=0;ut<T;ut++){var X=q[ut].g;const jn=q[ut].map;if(X-=Oe,X<0)Oe=Math.max(0,q[ut].g-100),Xe=!1;else try{X="req"+X+"_"||"";try{var de=jn instanceof Map?jn:Object.entries(jn);for(const[Mi,ii]of de){let si=ii;m(ii)&&(si=Ns(ii)),yt.push(X+Mi+"="+encodeURIComponent(si))}}catch(Mi){throw yt.push(X+"type="+encodeURIComponent("_badmap")),Mi}}catch{w&&w(jn)}}if(Xe){de=yt.join("&");break e}}de=void 0}return h=h.i.splice(0,T),_.G=h,de}function Jc(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ge||R(),ue||(ge(),ue=!0),I.add(_,h),h.A=0}}function zr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(p(h.Da,h),tu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Zc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(p(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),ks(this),Zc(this))};function ul(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Zc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=xt(h.na);Je(_,"RID","rpc"),Je(_,"SID",h.M),Je(_,"AID",h.K),Je(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(_,"TO",h.ia),Je(_,"TYPE","xmlhttp"),Ur(h,_),h.u&&h.o&&kr(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Mr(xt(_)),T.u=null,T.R=!0,Aa(T,h)}i.Va=function(){this.C!=null&&(this.C=null,ks(this),zr(this),St(19))};function ja(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function eu(h,_){var T=null;if(h.g==_){ja(h),ul(h),h.g=null;var w=2}else if(xi(h.h,_))T=_.G,Zo(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var q=h.D;w=wa(),Vt(w,new _i(w,T)),Di(h)}else Jc(h);else if(q=_.m,q==3||q==0&&_.X>0||!(w==1&&Ma(h,_)||w==2&&zr(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),q){case 1:Oi(h,5);break;case 4:Oi(h,10);break;case 3:Oi(h,6);break;default:Oi(h,2)}}}function tu(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function Oi(h,_){if(h.j.info("Error code "+_),_==2){var T=p(h.bb,h),w=h.Ua;const q=!w;w=new Tn(w||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ut(w,"https"),Mr(w),q?ei(w.toString(),T):rl(w.toString(),T)}else St(2);h.I=0,h.l&&h.l.pa(_),nu(h),Oa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function nu(h){if(h.I=0,h.ja=[],h.l){const _=el(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.oa()}}function iu(h,_,T){var w=T instanceof Tn?xt(T):new Tn(T);if(w.g!="")_&&(w.g=_+"."+w.g),Cs(w,w.u);else{var q=u.location;w=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const X=new Tn(null);w&&Ut(X,w),_&&(X.g=_),q&&Cs(X,q),T&&(X.h=T),w=X}return T=h.G,_=h.wa,T&&_&&Je(w,T,_),Je(w,"VER",h.ka),Ur(h,w),w}function su(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new tt(new Ni({ab:T})):new tt(h.ma),_.Fa(h.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}i=ru.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ps(){}Ps.prototype.g=function(h,_){return new on(h,_)};function on(h,_){bt.call(this),this.g=new Vs(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!A(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!A(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ts(this)}b(on,bt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){ll(this.g)},on.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ns(h),h=T);_.i.push(new At(_.Ya++,h)),_.I==3&&Di(_)},on.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,on.Z.N.call(this)};function au(h){qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(au,qt);function ou(){In.call(this),this.status=1}b(ou,In);function ts(h){this.g=h}b(ts,ru),ts.prototype.ra=function(){Vt(this.g,"a")},ts.prototype.qa=function(h){Vt(this.g,new au(h))},ts.prototype.pa=function(h){Vt(this.g,new ou)},ts.prototype.oa=function(){Vt(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,ob=function(){return new Ps},ab=function(){return wa()},rb=gt,gp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Ch=Dr,Ko.COMPLETE="complete",sb=Ko,Uc.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Wl=Uc,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,ib=tt}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const EE="@firebase/firestore",TE="4.9.2";class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Lo="12.3.0";const pa=new Kp("@firebase/firestore");function ho(){return pa.logLevel}function ye(i,...e){if(pa.logLevel<=Fe.DEBUG){const n=e.map(og);pa.debug(`Firestore (${Lo}): ${i}`,...n)}}function ws(i,...e){if(pa.logLevel<=Fe.ERROR){const n=e.map(og);pa.error(`Firestore (${Lo}): ${i}`,...n)}}function So(i,...e){if(pa.logLevel<=Fe.WARN){const n=e.map(og);pa.warn(`Firestore (${Lo}): ${i}`,...n)}}function og(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function xe(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lb(i,r,n)}function lb(i,e,n){let r=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ws(r),new Error(r)}function We(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||lb(e,o,r)}function De(i,e){return i}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class cb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class JD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZD{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let c=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _r)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new cb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class e4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function i4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=i4(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function qe(i,e){return i<e?-1:i>e?1:0}function yp(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return Km(o)===Km(c)?qe(o,c):Km(o)?1:-1}return qe(i.length,e.length)}const s4=55296,r4=57343;function Km(i){const e=i.charCodeAt(0);return e>=s4&&e<=r4}function wo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}const SE="__name__";class Ui{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Ui.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return qe(e.length,n.length)}static compareSegments(e,n){const r=Ui.isNumericId(e),o=Ui.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(n)):yp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class at extends Ui{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const a4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ui{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return a4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SE}static keyField(){return new Wt([SE])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new pe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(r+=m,o++):(c(),o++)}if(c(),u)throw new pe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(at.fromString(e))}static fromName(e){return new be(at.fromString(e).popFirst(5))}static empty(){return new be(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new at(e.slice()))}}function ub(i,e,n){if(!n)throw new pe(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function o4(i,e,n,r){if(e===!0&&r===!0)throw new pe(oe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function wE(i){if(!be.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function AE(i){if(be.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function mf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function Bi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(i);throw new pe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Mt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ic(i,e){if(!hb(i))throw new pe(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const u=i[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new pe(oe.INVALID_ARGUMENT,n);return!0}const xE=-62135596800,RE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RE);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xE)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ic(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Mt("string",ot._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ot(0,0))}static max(){return new Ce(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const hc=-1;function l4(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Er(o,be.empty(),e)}function c4(i){return new Er(i.readTime,i.key,hc)}class Er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Er(Ce.min(),be.empty(),hc)}static max(){return new Er(Ce.max(),be.empty(),hc)}}function u4(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:qe(i.largestBatchId,e.largestBatchId))}const h4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Uo(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==h4)throw i;ye("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&n()}),(y=>r(y)))})),u=!0,c===o&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((o=>o?le.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,o)=>{const c=e.length,u=new Array(c);let m=0;for(let y=0;y<c;y++){const p=y;n(e[p]).next((E=>{u[p]=E,++m,m===c&&r(u)}),(E=>o(E)))}}))}static doWhile(e,n){return new le(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function d4(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(i){return i.name==="IndexedDbTransactionError"}class pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pf.ce=-1;const cg=-1;function gf(i){return i==null}function Gh(i){return i===0&&1/i==-1/0}function m4(i){return typeof i=="number"&&Number.isInteger(i)&&!Gh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const fb="";function p4(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=NE(e)),e=g4(i.get(n),e);return NE(e)}function g4(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case fb:n+="";break;default:n+=c}}return n}function NE(i){return i+fb+""}function CE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function va(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function db(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??$t.RED,this.left=o??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new $t(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IE(this.data.getIterator())}getIteratorFrom(e){return new IE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class IE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ui{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new ui([])}unionWith(e){let n=new Pt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new mb("Invalid base64 string: "+c):c}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const y4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(i){if(We(!!i,39018),typeof i=="string"){let e=0;const n=y4.exec(i);if(We(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function br(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const pb="server_timestamp",gb="__type__",yb="__previous_value__",_b="__local_write_time__";function ug(i){return(i?.mapValue?.fields||{})[gb]?.stringValue===pb}function yf(i){const e=i.mapValue.fields[yb];return ug(e)?yf(e):e}function fc(i){const e=Tr(i.mapValue.fields[_b].timestampValue);return new ot(e.seconds,e.nanos)}class _4{constructor(e,n,r,o,c,u,m,y,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const Yh="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||Yh}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}const vb="__type__",v4="__max__",yh={mapValue:{}},Eb="__vector__",Qh="value";function Sr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ug(i)?4:T4(i)?9007199254740991:E4(i)?10:11:xe(28295,{value:i})}function Ki(i,e){if(i===e)return!0;const n=Sr(i);if(n!==Sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fc(i).isEqual(fc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Tr(o.timestampValue),m=Tr(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return br(o.bytesValue).isEqual(br(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Et(o.geoPointValue.latitude)===Et(c.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Et(o.integerValue)===Et(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Et(o.doubleValue),m=Et(c.doubleValue);return u===m?Gh(u)===Gh(m):isNaN(u)&&isNaN(m)}return!1})(i,e);case 9:return wo(i.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(CE(u)!==CE(m))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(m[y]===void 0||!Ki(u[y],m[y])))return!1;return!0})(i,e);default:return xe(52216,{left:i})}}function mc(i,e){return(i.values||[]).find((n=>Ki(n,e)))!==void 0}function Ao(i,e){if(i===e)return 0;const n=Sr(i),r=Sr(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=Et(c.integerValue||c.doubleValue),y=Et(u.integerValue||u.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,e);case 3:return DE(i.timestampValue,e.timestampValue);case 4:return DE(fc(i),fc(e));case 5:return yp(i.stringValue,e.stringValue);case 6:return(function(c,u){const m=br(c),y=br(u);return m.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),y=u.split("/");for(let p=0;p<m.length&&p<y.length;p++){const E=qe(m[p],y[p]);if(E!==0)return E}return qe(m.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=qe(Et(c.latitude),Et(u.latitude));return m!==0?m:qe(Et(c.longitude),Et(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return OE(i.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},y=u.fields||{},p=m[Qh]?.arrayValue,E=y[Qh]?.arrayValue,b=qe(p?.values?.length||0,E?.values?.length||0);return b!==0?b:OE(p,E)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===yh.mapValue&&u===yh.mapValue)return 0;if(c===yh.mapValue)return 1;if(u===yh.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),p=u.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const x=yp(y[b],E[b]);if(x!==0)return x;const j=Ao(m[y[b]],p[E[b]]);if(j!==0)return j}return qe(y.length,E.length)})(i.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function DE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return qe(i,e);const n=Tr(i),r=Tr(e),o=qe(n.seconds,r.seconds);return o!==0?o:qe(n.nanos,r.nanos)}function OE(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=Ao(n[o],r[o]);if(c)return c}return qe(n.length,r.length)}function xo(i){return _p(i)}function _p(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=Tr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return br(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return be.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=_p(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${_p(n.fields[u])}`;return o+"}"})(i.mapValue):xe(61005,{value:i})}function Ih(i){switch(Sr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yf(i);return e?16+Ih(e):16;case 5:return 2*i.stringValue.length;case 6:return br(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Ih(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return va(r.fields,((c,u)=>{o+=c.length+Ih(u)})),o})(i.mapValue);default:throw xe(13486,{value:i})}}function ME(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function hg(i){return!!i&&"arrayValue"in i}function jE(i){return!!i&&"nullValue"in i}function VE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Dh(i){return!!i&&"mapValue"in i}function E4(i){return(i?.mapValue?.fields||{})[vb]?.stringValue===Eb}function ic(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return va(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ic(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(i.arrayValue.values[n]);return e}return{...i}}function T4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===v4}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=Wt.emptyPath(),r={},o=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}u?r[m.lastSegment()]=ic(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){va(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Hn(ic(this.value))}}function Tb(i){const e=[];return va(i.fields,((n,r)=>{const o=new Wt([n]);if(Dh(r)){const c=Tb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new ui(e)}class nn{constructor(e,n,r,o,c,u,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ce.min(),Ce.min(),Ce.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,o){return new nn(e,1,n,Ce.min(),r,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Ce.min(),Ce.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ce.min(),Ce.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function kE(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?r=be.comparator(be.fromName(u.referenceValue),n.key):r=Ao(u,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function PE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ki(i.position[n],e.position[n]))return!1;return!0}class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function b4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class bb{}class Ot extends bb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new w4(e,n,r):n==="array-contains"?new R4(e,r):n==="in"?new N4(e,r):n==="not-in"?new C4(e,r):n==="array-contains-any"?new I4(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A4(e,r):new x4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends bb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new di(e,n)}matches(e){return Sb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sb(i){return i.op==="and"}function wb(i){return S4(i)&&Sb(i)}function S4(i){for(const e of i.filters)if(e instanceof di)return!1;return!0}function Ep(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+xo(i.value);if(wb(i))return i.filters.map((e=>Ep(e))).join(",");{const e=i.filters.map((n=>Ep(n))).join(",");return`${i.op}(${e})`}}function Ab(i,e){return i instanceof Ot?(function(r,o){return o instanceof Ot&&r.op===o.op&&r.field.isEqual(o.field)&&Ki(r.value,o.value)})(i,e):i instanceof di?(function(r,o){return o instanceof di&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,u,m)=>c&&Ab(u,o.filters[m])),!0):!1})(i,e):void xe(19439)}function xb(i){return i instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`})(i):i instanceof di?(function(n){return n.op.toString()+" {"+n.getFilters().map(xb).join(" ,")+"}"})(i):"Filter"}class w4 extends Ot{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class A4 extends Ot{constructor(e,n){super(e,"in",n),this.keys=Rb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class x4 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=Rb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Rb(i,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class R4 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hg(n)&&mc(n.arrayValue,this.value)}}class N4 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class C4 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class I4 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mc(this.value.arrayValue,r)))}}class D4{constructor(e,n=null,r=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function LE(i,e=null,n=[],r=[],o=null,c=null,u=null){return new D4(i,e,n,r,o,c,u)}function fg(i){const e=De(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ep(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xo(r))).join(",")),e.Te=n}return e.Te}function dg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!b4(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ab(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!PE(i.startAt,e.startAt)&&PE(i.endAt,e.endAt)}function Tp(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Bo{constructor(e,n=null,r=[],o=[],c=null,u="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O4(i,e,n,r,o,c,u,m){return new Bo(i,e,n,r,o,c,u,m)}function mg(i){return new Bo(i)}function UE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Nb(i){return i.collectionGroup!==null}function sc(i){const e=De(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Pt(Wt.comparator);return u.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new pc(c,r))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new pc(Wt.keyField(),r))}return e.Ie}function Fi(i){const e=De(i);return e.Ee||(e.Ee=M4(e,sc(i))),e.Ee}function M4(i,e){if(i.limitType==="F")return LE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new pc(o.field,c)}));const n=i.endAt?new Kh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Kh(i.startAt.position,i.startAt.inclusive):null;return LE(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function bp(i,e){const n=i.filters.concat([e]);return new Bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Sp(i,e,n){return new Bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function _f(i,e){return dg(Fi(i),Fi(e))&&i.limitType===e.limitType}function Cb(i){return`${fg(Fi(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>xb(o))).join(", ")}]`),gf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>xo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>xo(o))).join(",")),`Target(${r})`})(Fi(i))}; limitType=${i.limitType})`}function vf(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):be.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of sc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(u,m,y){const p=kE(u,m,y);return u.inclusive?p<=0:p<0})(r.startAt,sc(r),o)||r.endAt&&!(function(u,m,y){const p=kE(u,m,y);return u.inclusive?p>=0:p>0})(r.endAt,sc(r),o))})(i,e)}function j4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ib(i){return(e,n)=>{let r=!1;for(const o of sc(i)){const c=V4(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function V4(i,e,n){const r=i.field.isKeyField()?be.comparator(e.key,n.key):(function(c,u,m){const y=u.data.field(c),p=m.data.field(c);return y!==null&&p!==null?Ao(y,p):xe(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:i.dir})}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return db(this.inner)}size(){return this.innerSize}}const k4=new dt(be.comparator);function As(){return k4}const Db=new dt(be.comparator);function Jl(...i){let e=Db;for(const n of i)e=e.insert(n.key,n);return e}function Ob(i){let e=Db;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function aa(){return rc()}function Mb(){return rc()}function rc(){return new Ea((i=>i.toString()),((i,e)=>i.isEqual(e)))}const P4=new dt(be.comparator),L4=new Pt(be.comparator);function He(...i){let e=L4;for(const n of i)e=e.add(n);return e}const U4=new Pt(qe);function z4(){return U4}function pg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function jb(i){return{integerValue:""+i}}function B4(i,e){return m4(e)?jb(e):pg(i,e)}class Ef{constructor(){this._=void 0}}function F4(i,e,n){return i instanceof gc?(function(o,c){const u={fields:{[gb]:{stringValue:pb},[_b]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&ug(c)&&(c=yf(c)),c&&(u.fields[yb]=c),{mapValue:u}})(n,e):i instanceof yc?kb(i,e):i instanceof _c?Pb(i,e):(function(o,c){const u=Vb(o,c),m=zE(u)+zE(o.Ae);return vp(u)&&vp(o.Ae)?jb(m):pg(o.serializer,m)})(i,e)}function q4(i,e,n){return i instanceof yc?kb(i,e):i instanceof _c?Pb(i,e):n}function Vb(i,e){return i instanceof Xh?(function(r){return vp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class gc extends Ef{}class yc extends Ef{constructor(e){super(),this.elements=e}}function kb(i,e){const n=Lb(e);for(const r of i.elements)n.some((o=>Ki(o,r)))||n.push(r);return{arrayValue:{values:n}}}class _c extends Ef{constructor(e){super(),this.elements=e}}function Pb(i,e){let n=Lb(e);for(const r of i.elements)n=n.filter((o=>!Ki(o,r)));return{arrayValue:{values:n}}}class Xh extends Ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zE(i){return Et(i.integerValue||i.doubleValue)}function Lb(i){return hg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class H4{constructor(e,n){this.field=e,this.transform=n}}function G4(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof yc&&o instanceof yc||r instanceof _c&&o instanceof _c?wo(r.elements,o.elements,Ki):r instanceof Xh&&o instanceof Xh?Ki(r.Ae,o.Ae):r instanceof gc&&o instanceof gc})(i.transform,e.transform)}class Y4{constructor(e,n){this.version=e,this.transformResults=n}}class fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Tf{}function Ub(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gg(i.key,fi.none()):new Dc(i.key,i.data,fi.none());{const n=i.data,r=Hn.empty();let o=new Pt(Wt.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?r.delete(c):r.set(c,u),o=o.add(c)}return new Ta(i.key,r,new ui(o.toArray()),fi.none())}}function Q4(i,e,n){i instanceof Dc?(function(o,c,u){const m=o.value.clone(),y=FE(o.fieldTransforms,c,u.transformResults);m.setAll(y),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ta?(function(o,c,u){if(!Oh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=FE(o.fieldTransforms,c,u.transformResults),y=c.data;y.setAll(zb(o)),y.setAll(m),c.convertToFoundDocument(u.version,y).setHasCommittedMutations()})(i,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function ac(i,e,n,r){return i instanceof Dc?(function(c,u,m,y){if(!Oh(c.precondition,u))return m;const p=c.value.clone(),E=qE(c.fieldTransforms,y,u);return p.setAll(E),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(i,e,n,r):i instanceof Ta?(function(c,u,m,y){if(!Oh(c.precondition,u))return m;const p=qE(c.fieldTransforms,y,u),E=u.data;return E.setAll(zb(c)),E.setAll(p),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(i,e,n,r):(function(c,u,m){return Oh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(i,e,n)}function K4(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=Vb(r.transform,o||null);c!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,c))}return n||null}function BE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&wo(r,o,((c,u)=>G4(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Dc extends Tf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ta extends Tf{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function FE(i,e,n){const r=new Map;We(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],u=c.transform,m=e.data.field(c.field);r.set(c.field,q4(u,m,n[o]))}return r}function qE(i,e,n){const r=new Map;for(const o of i){const c=o.transform,u=n.data.field(o.field);r.set(o.field,F4(c,u,e))}return r}class gg extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X4 extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $4{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Q4(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Mb();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(o.key)?null:m;const y=Ub(u,m);y!==null&&r.set(o.key,y),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((n,r)=>BE(n,r)))&&wo(this.baseMutations,e.baseMutations,((n,r)=>BE(n,r)))}}class yg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return P4})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new yg(e,n,r,o)}}class W4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class J4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,Ye;function Z4(i){switch(i){case oe.OK:return xe(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return xe(15467,{code:i})}}function Bb(i){if(i===void 0)return ws("GRPC error has no .code"),oe.UNKNOWN;switch(i){case Dt.OK:return oe.OK;case Dt.CANCELLED:return oe.CANCELLED;case Dt.UNKNOWN:return oe.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return oe.INTERNAL;case Dt.UNAVAILABLE:return oe.UNAVAILABLE;case Dt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Dt.NOT_FOUND:return oe.NOT_FOUND;case Dt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Dt.ABORTED:return oe.ABORTED;case Dt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Dt.DATA_LOSS:return oe.DATA_LOSS;default:return xe(39323,{code:i})}}(Ye=Dt||(Dt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function eO(){return new TextEncoder}const tO=new yr([4294967295,4294967295],0);function HE(i){const e=eO().encode(i),n=new nb;return n.update(e),new Uint8Array(n.digest())}function GE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new yr([n,r],0),new yr([o,c],0)]}class _g{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(yr.fromNumber(r)));return o.compare(tO)===1&&(o=new yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=HE(e),[r,o]=GE(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new _g(c,o,n);return r.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=HE(e),[r,o]=GE(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bf{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bf(Ce.min(),o,new dt(qe),As(),He())}}class Oc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,He(),He(),He())}}class Mh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class Fb{constructor(e,n){this.targetId=e,this.Ce=n}}class qb{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class YE{constructor(){this.ve=0,this.Fe=QE(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),r=He();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:c})}})),new Oc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=QE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nO{constructor(e){this.Ge=e,this.ze=new Map,this.je=As(),this.Je=_h(),this.He=_h(),this.Ye=new dt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Tp(c))if(r===0){const u=new be(c.path);this.et(n,u,nn.newNoDocument(u,Ce.min()))}else We(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const m=this.ut(e),y=m?this.ct(m,e,u):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let u,m;try{u=br(r).toUint8Array()}catch(y){if(y instanceof mb)return So("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new _g(u,o,c)}catch(y){return So(y instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Tp(m.target)){const y=new be(m.target.path);this.It(y).has(u)||this.Et(u,y)||this.et(u,y,nn.newNoDocument(y,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let r=He();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new bf(e,n,this.Ye,this.je,r);return this.je=As(),this.Je=_h(),this.He=_h(),this.Ye=new dt(qe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _h(){return new dt(be.comparator)}function QE(){return new dt(be.comparator)}const iO={asc:"ASCENDING",desc:"DESCENDING"},sO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rO={and:"AND",or:"OR"};class aO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wp(i,e){return i.useProto3Json||gf(e)?e:{value:e}}function $h(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function oO(i,e){return $h(i,e.toTimestamp())}function qi(i){return We(!!i,49232),Ce.fromTimestamp((function(n){const r=Tr(n);return new ot(r.seconds,r.nanos)})(i))}function vg(i,e){return Ap(i,e).canonicalString()}function Ap(i,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Gb(i){const e=at.fromString(i);return We($b(e),10190,{key:e.toString()}),e}function xp(i,e){return vg(i.databaseId,e.path)}function Xm(i,e){const n=Gb(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(Qb(n))}function Yb(i,e){return vg(i.databaseId,e)}function lO(i){const e=Gb(i);return e.length===4?at.emptyPath():Qb(e)}function Rp(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qb(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function KE(i,e,n){return{name:xp(i,e),fields:n.value.mapValue.fields}}function cO(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,E){return p.useProto3Json?(We(E===void 0||typeof E=="string",58123),Jt.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Jt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(p){const E=p.code===void 0?oe.UNKNOWN:Bb(p.code);return new pe(E,p.message||"")})(u);n=new qb(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xm(i,r.document.name),c=qi(r.document.updateTime),u=r.document.createTime?qi(r.document.createTime):Ce.min(),m=new Hn({mapValue:{fields:r.document.fields}}),y=nn.newFoundDocument(o,c,u,m),p=r.targetIds||[],E=r.removedTargetIds||[];n=new Mh(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Xm(i,r.document),c=r.readTime?qi(r.readTime):Ce.min(),u=nn.newNoDocument(o,c),m=r.removedTargetIds||[];n=new Mh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Xm(i,r.document),c=r.removedTargetIds||[];n=new Mh([],c,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,u=new J4(o,c),m=r.targetId;n=new Fb(m,u)}}return n}function uO(i,e){let n;if(e instanceof Dc)n={update:KE(i,e.key,e.value)};else if(e instanceof gg)n={delete:xp(i,e.key)};else if(e instanceof Ta)n={update:KE(i,e.key,e.data),updateMask:vO(e.fieldMask)};else{if(!(e instanceof X4))return xe(16599,{Vt:e.type});n={verify:xp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,u){const m=u.transform;if(m instanceof gc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _c)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xh)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw xe(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:oO(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(i,e.precondition)),n}function hO(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map((n=>(function(o,c){let u=o.updateTime?qi(o.updateTime):qi(c);return u.isEqual(Ce.min())&&(u=qi(c)),new Y4(u,o.transformResults||[])})(n,e)))):[]}function fO(i,e){return{documents:[Yb(i,e.path)]}}function dO(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yb(i,o);const c=(function(p){if(p.length!==0)return Xb(di.create(p,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(p){if(p.length!==0)return p.map((E=>(function(x){return{field:mo(x.field),direction:gO(x.dir)}})(E)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=wp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function mO(i){let e=lO(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){We(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(b){const x=Kb(b);return x instanceof di&&wb(x)?x.getFilters():[x]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((x=>(function(D){return new pc(po(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let x;return x=typeof b=="object"?b.value:b,gf(x)?null:x})(n.limit));let y=null;n.startAt&&(y=(function(b){const x=!!b.before,j=b.values||[];return new Kh(j,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const x=!b.before,j=b.values||[];return new Kh(j,x)})(n.endAt)),O4(e,o,u,c,m,"F",y,p)}function pO(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=po(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=po(n.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=po(n.unaryFilter.field);return Ot.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ot.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return di.create(n.compositeFilter.filters.map((r=>Kb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(i):xe(30097,{filter:i})}function gO(i){return iO[i]}function yO(i){return sO[i]}function _O(i){return rO[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return Wt.fromServerFormat(i.fieldPath)}function Xb(i){return i instanceof Ot?(function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:yO(n.op),value:n.value}}})(i):i instanceof di?(function(n){const r=n.getFilters().map((o=>Xb(o)));return r.length===1?r[0]:{compositeFilter:{op:_O(n.op),filters:r}}})(i):xe(54877,{filter:i})}function vO(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $b(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class dr{constructor(e,n,r,o,c=Ce.min(),u=Ce.min(),m=Jt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class EO{constructor(e){this.yt=e}}function TO(i){const e=mO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Sp(e,e.limit,"L"):e}class bO{constructor(){this.Cn=new SO}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Er.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class SO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Pt(at.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pt(at.comparator)).toArray()}}const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wb=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Wb,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ro(0)}static cr(){return new Ro(-1)}}const $E="LruGarbageCollector",wO=1048576;function WE([i,e],[n,r]){const o=qe(i,n);return o===0?qe(e,r):o}class AO{constructor(e){this.Ir=e,this.buffer=new Pt(WE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye($E,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?ye($E,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)}))}}class RO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(pf.ce);const r=new AO(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(XE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,c,u,m,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(e,r,n)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(p=Date.now(),ho()<=Fe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-E}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${b} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function NO(i,e){return new RO(i,e)}class CO{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class DO{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&ac(r.mutation,o,ui.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=He()){const o=aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let u=Jl();return c.forEach(((m,y)=>{u=u.insert(m,y.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=aa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,He())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,r,o){let c=As();const u=rc(),m=(function(){return rc()})();return n.forEach(((y,p)=>{const E=r.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Ta)?c=c.insert(p.key,p):E!==void 0?(u.set(p.key,E.mutation.getFieldMask()),ac(E.mutation,p,E.mutation.getFieldMask(),ot.now())):u.set(p.key,ui.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((p,E)=>u.set(p,E))),n.forEach(((p,E)=>m.set(p,new IO(E,u.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=rc();let o=new dt(((u,m)=>u-m)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let E=r.get(y)||ui.empty();E=m.applyToLocalView(p,E),r.set(y,E);const b=(o.get(m.batchId)||He()).add(y);o=o.insert(m.batchId,b)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,E=y.value,b=Mb();E.forEach((x=>{if(!c.has(x)){const j=Ub(n.get(x),r.get(x));j!==null&&b.set(x,j),c=c.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return le.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(u){return be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):le.resolve(aa());let m=hc,y=c;return u.next((p=>le.forEach(p,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(E)?le.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{y=y.insert(E,x)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,y,p,He()))).next((E=>({batchId:m,changes:Ob(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let o=Jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let u=Jl();return this.indexManager.getCollectionParents(e,c).next((m=>le.forEach(m,(y=>{const p=(function(b,x){return new Bo(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((E=>{E.forEach(((b,x)=>{u=u.insert(b,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((u=>{c.forEach(((y,p)=>{const E=p.getKey();u.get(E)===null&&(u=u.insert(E,nn.newInvalidDocument(E)))}));let m=Jl();return u.forEach(((y,p)=>{const E=c.get(y);E!==void 0&&ac(E.mutation,p,ui.empty(),ot.now()),vf(n,p)&&(m=m.insert(y,p))})),m}))}}class OO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:TO(o.bundledQuery),readTime:qi(o.readTime)}})(n)),le.resolve()}}class MO{constructor(){this.overlays=new dt(be.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=aa();return le.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.St(e,n,c)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const o=aa(),c=n.length+1,u=new be(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return le.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new dt(((p,E)=>p-E));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let E=c.get(p.largestBatchId);E===null&&(E=aa(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=aa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return le.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new W4(n,r));let c=this.qr.get(n);c===void 0&&(c=He(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class jO{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class Eg{constructor(){this.Qr=new Pt(Bt.$r),this.Ur=new Pt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new be(new at([])),r=new Bt(n,e),o=new Bt(n,e+1),c=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new at([])),r=new Bt(n,e),o=new Bt(n,e+1);let c=He();return this.Ur.forEachInRange([r,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new Bt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class VO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Bt.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $4(c,n,r,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),c=o<0?0:o;return le.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?cg:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(u=>{const m=this.Xr(u.Yr);c.push(m)})),le.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(qe);return n.forEach((o=>{const c=new Bt(o,0),u=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{r=r.add(m.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;be.isDocumentKey(c)||(c=c.child(""));const u=new Bt(new be(c),0);let m=new Pt(qe);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(y.Yr)),!0)}),u),le.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(n.mutations,(o=>{const c=new Bt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Bt(n,0),o=this.Zr.firstAfterOrEqual(r);return le.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kO{constructor(e){this.ri=e,this.docs=(function(){return new dt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=As();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():nn.newInvalidDocument(o))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=As();const u=n.path,m=new be(u.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||u4(c4(E),r)<=0||(o.has(E.key)||vf(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return le.resolve(c)}getAllFromCollectionGroup(e,n,r,o){xe(9500)}ii(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new PO(this)}getSize(e){return le.resolve(this.size)}}class PO extends CO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class LO{constructor(e){this.persistence=e,this.si=new Ea((n=>fg(n)),dg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Eg,this.targetCount=0,this.ai=Ro.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),le.waitFor(c).next((()=>o))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),le.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}class Jb{constructor(e,n){this.ui={},this.overlays={},this.ci=new pf(0),this.li=!1,this.li=!0,this.hi=new jO,this.referenceDelegate=e(this),this.Pi=new LO(this),this.indexManager=new bO,this.remoteDocumentCache=(function(o){return new kO(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new EO(n),this.Ii=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new VO(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const o=new UO(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class UO extends f4{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ri=new Eg,this.Vi=null}static mi(e){return new Tg(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const o=be.fromPath(r);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wh{constructor(e,n){this.persistence=e,this.pi=new Ea((r=>p4(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=NO(this,n)}static mi(e,n){return new Wh(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?le.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((m=>{m||(r++,c.removeEntry(u,Ce.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ih(e.data.value)),n}br(e,n,r){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return le.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=He(),o=He();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new bg(e,n.fromCache,r,o)}}class zO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IN()?8:d4(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,o,r).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new zO;return this.Ss(e,n,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,u,m.size)}))})).next((()=>c.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(ho()<=Fe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(ho()<=Fe.DEBUG&&ye("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ho()<=Fe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(n))):le.resolve())}ys(e,n){if(UE(n))return le.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Sp(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const u=He(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,r).next((y=>{const p=this.Ds(n,m);return this.Cs(n,p,u,y.readTime)?this.ys(e,Sp(n,null,"F")):this.vs(e,p,n,y)}))))})))))}ws(e,n,r,o){return UE(n)||o.isEqual(Ce.min())?le.resolve(null):this.ps.getDocuments(e,r).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,r,o)?le.resolve(null):(ho()<=Fe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.vs(e,u,n,l4(o,hc)).next((m=>m)))}))}Ds(e,n){let r=new Pt(Ib(e));return n.forEach(((o,c)=>{vf(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,r){return ho()<=Fe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ps.getDocumentsMatchingQuery(e,n,Er.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const Sg="LocalStore",FO=3e8;class qO{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(qe),this.xs=new Ea((c=>fg(c)),dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function HO(i,e,n,r){return new qO(i,e,n,r)}async function Zb(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const u=[],m=[];let y=He();for(const p of o){u.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of c){m.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:m})))}))}))}function GO(i,e){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,p,E){const b=p.batch,x=b.keys();let j=le.resolve();return x.forEach((D=>{j=j.next((()=>E.getEntry(y,D))).next((z=>{const k=p.docVersions.get(D);We(k!==null,48541),z.version.compareTo(k)<0&&(b.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),E.addEntry(z)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(y,b)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=He();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function eS(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function YO(i,e){const n=De(i),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,b)=>{const x=o.get(b);if(!x)return;m.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,b))));let j=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?j=j.withResumeToken(Jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,r)),o=o.insert(b,j),(function(z,k,K){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=FO?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(x,j,E)&&m.push(n.Pi.updateTargetData(c,j))}));let y=As(),p=He();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(QO(c,u,e.documentUpdates).next((E=>{y=E.ks,p=E.qs}))),!r.isEqual(Ce.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(E)}return le.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,p))).next((()=>y))})).then((c=>(n.Ms=o,c)))}function QO(i,e,n){let r=He(),o=He();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let u=As();return n.forEach(((m,y)=>{const p=c.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ce.min())?(e.removeEntry(m,y.readTime),u=u.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),u=u.insert(m,y)):ye(Sg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)})),{ks:u,qs:o}}))}function KO(i,e){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=cg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function XO(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((c=>c?(o=c,le.resolve(o)):n.Pi.allocateTargetId(r).next((u=>(o=new dr(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Np(i,e,n){const r=De(i),o=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!zo(u))throw u;ye(Sg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function JE(i,e,n){const r=De(i);let o=Ce.min(),c=He();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(y,p,E){const b=De(y),x=b.xs.get(E);return x!==void 0?le.resolve(b.Ms.get(x)):b.Pi.getTargetData(p,E)})(r,u,Fi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,m.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?o:Ce.min(),n?c:He()))).next((m=>($O(r,j4(e),m),{documents:m,Qs:c})))))}function $O(i,e,n){let r=i.Os.get(e)||Ce.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class ZE{constructor(){this.activeTargetIds=z4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WO{constructor(){this.Mo=new ZE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ZE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JO{Oo(e){}shutdown(){}}const eT="ConnectivityMonitor";class tT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(eT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(eT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vh=null;function Cp(){return vh===null?vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():vh++,"0x"+vh.toString(16)}const $m="RestConnection",ZO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Yh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,c){const u=Cp(),m=this.zo(e,n.toUriEncodedString());ye($m,`Sending RPC '${e}' ${u}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:p}=new URL(m),E=Vo(p);return this.Jo(e,m,y,r,E).then((b=>(ye($m,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw So($m,`RPC '${e}' ${u} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(e,n,r,o,c,u){return this.Go(e,n,r,o,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const r=ZO[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class t3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class n3 extends e3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,c){const u=Cp();return new Promise(((m,y)=>{const p=new ib;p.setWithCredentials(!0),p.listenOnce(sb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ch.NO_ERROR:const b=p.getResponseJson();ye(en,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),m(b);break;case Ch.TIMEOUT:ye(en,`RPC '${e}' ${u} timed out`),y(new pe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const x=p.getStatus();if(ye(en,`RPC '${e}' ${u} failed with status:`,x,"response text:",p.getResponseText()),x>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const D=j?.error;if(D&&D.status&&D.message){const z=(function(K){const J=K.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(J)>=0?J:oe.UNKNOWN})(D.status);y(new pe(z,D.message))}else y(new pe(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new pe(oe.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(en,`RPC '${e}' ${u} completed.`)}}));const E=JSON.stringify(o);ye(en,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Cp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ob(),m=ab(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const E=c.join("");ye(en,`Creating RPC '${e}' stream ${o}: ${E}`,y);const b=u.createWebChannel(E,y);this.I_(b);let x=!1,j=!1;const D=new t3({Yo:k=>{j?ye(en,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(x||(ye(en,`Opening RPC '${e}' stream ${o} transport.`),b.open(),x=!0),ye(en,`RPC '${e}' stream ${o} sending:`,k),b.send(k))},Zo:()=>b.close()}),z=(k,K,J)=>{k.listen(K,(ee=>{try{J(ee)}catch(me){setTimeout((()=>{throw me}),0)}}))};return z(b,Wl.EventType.OPEN,(()=>{j||(ye(en,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),z(b,Wl.EventType.CLOSE,(()=>{j||(j=!0,ye(en,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(b))})),z(b,Wl.EventType.ERROR,(k=>{j||(j=!0,So(en,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),D.a_(new pe(oe.UNAVAILABLE,"The operation could not be completed")))})),z(b,Wl.EventType.MESSAGE,(k=>{if(!j){const K=k.data[0];We(!!K,16349);const J=K,ee=J?.error||J[0]?.error;if(ee){ye(en,`RPC '${e}' stream ${o} received error:`,ee);const me=ee.status;let ge=(function(R){const C=Dt[R];if(C!==void 0)return Bb(C)})(me),ue=ee.message;ge===void 0&&(ge=oe.INTERNAL,ue="Unknown error status: "+me+" with message "+ee.message),j=!0,D.a_(new pe(ge,ue)),b.close()}else ye(en,`RPC '${e}' stream ${o} received:`,K),D.u_(K)}})),z(m,rb.STAT_EVENT,(k=>{k.stat===gp.PROXY?ye(en,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===gp.NOPROXY&&ye(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Wm(){return typeof document<"u"?document:null}function Sf(i){return new aO(i,!0)}class tS{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nT="PersistentStream";class nS{constructor(e,n,r,o,c,u,m,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(nT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye(nT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class i3 extends nS{constructor(e,n,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cO(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ce.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?qi(u.readTime):Ce.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Rp(this.serializer),n.addTarget=(function(c,u){let m;const y=u.target;if(m=Tp(y)?{documents:fO(c,y)}:{query:dO(c,y).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=Hb(c,u.resumeToken);const p=wp(c,u.expectedCount);p!==null&&(m.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ce.min())>0){m.readTime=$h(c,u.snapshotVersion.toTimestamp());const p=wp(c,u.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const r=pO(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Rp(this.serializer),n.removeTarget=e,this.q_(n)}}class s3 extends nS{constructor(e,n,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=hO(e.writeResults,e.commitTime),r=qi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Rp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>uO(this.serializer,r)))};this.q_(n)}}class r3{}class a3 extends r3{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Ap(n,r),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(oe.UNKNOWN,c.toString())}))}Ho(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Ap(n,r),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class o3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class l3{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{ba(this)&&(ye(ga,"Restarting streams for network reachability change."),await(async function(y){const p=De(y);p.Ea.add(4),await Mc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await wf(p)})(this))}))})),this.Ra=new o3(r,o)}}async function wf(i){if(ba(i))for(const e of i.da)await e(!0)}async function Mc(i){for(const e of i.da)await e(!1)}function iS(i,e){const n=De(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rg(n)?xg(n):Fo(n).O_()&&Ag(n,e))}function wg(i,e){const n=De(i),r=Fo(n);n.Ia.delete(e),r.O_()&&sS(n,e),n.Ia.size===0&&(r.O_()?r.L_():ba(n)&&n.Ra.set("Unknown"))}function Ag(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(i).Y_(e)}function sS(i,e){i.Va.Ue(e),Fo(i).Z_(e)}function xg(i){i.Va=new nO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Ra.ua()}function Rg(i){return ba(i)&&!Fo(i).x_()&&i.Ia.size>0}function ba(i){return De(i).Ea.size===0}function rS(i){i.Va=void 0}async function c3(i){i.Ra.set("Online")}async function u3(i){i.Ia.forEach(((e,n)=>{Ag(i,e)}))}async function h3(i,e){rS(i),Rg(i)?(i.Ra.ha(e),xg(i)):i.Ra.set("Unknown")}async function f3(i,e,n){if(i.Ra.set("Online"),e instanceof qb&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(r){ye(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(i,r)}else if(e instanceof Mh?i.Va.Ze(e):e instanceof Fb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ce.min()))try{const r=await eS(i.localStore);n.compareTo(r)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(p);E&&c.Ia.set(p,E.withResumeToken(y.resumeToken,u))}})),m.targetMismatches.forEach(((y,p)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Jt.EMPTY_BYTE_STRING,E.snapshotVersion)),sS(c,y);const b=new dr(E.target,y,p,E.sequenceNumber);Ag(c,b)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){ye(ga,"Failed to raise snapshot:",r),await Jh(i,r)}}async function Jh(i,e,n){if(!zo(e))throw e;i.Ea.add(1),await Mc(i),i.Ra.set("Offline"),n||(n=()=>eS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ye(ga,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await wf(i)}))}function aS(i,e){return e().catch((n=>Jh(i,n,e)))}async function Af(i){const e=De(i),n=wr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cg;for(;d3(e);)try{const o=await KO(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,m3(e,o)}catch(o){await Jh(e,o)}oS(e)&&lS(e)}function d3(i){return ba(i)&&i.Ta.length<10}function m3(i,e){i.Ta.push(e);const n=wr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function oS(i){return ba(i)&&!wr(i).x_()&&i.Ta.length>0}function lS(i){wr(i).start()}async function p3(i){wr(i).ra()}async function g3(i){const e=wr(i);for(const n of i.Ta)e.ea(n.mutations)}async function y3(i,e,n){const r=i.Ta.shift(),o=yg.from(r,e,n);await aS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Af(i)}async function _3(i,e){e&&wr(i).X_&&await(async function(r,o){if((function(u){return Z4(u)&&u!==oe.ABORTED})(o.code)){const c=r.Ta.shift();wr(r).B_(),await aS(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Af(r)}})(i,e),oS(i)&&lS(i)}async function iT(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),ye(ga,"RemoteStore received new credentials");const r=ba(n);n.Ea.add(3),await Mc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wf(n)}async function v3(i,e){const n=De(i);e?(n.Ea.delete(2),await wf(n)):e||(n.Ea.add(2),await Mc(n),n.Ra.set("Unknown"))}function Fo(i){return i.ma||(i.ma=(function(n,r,o){const c=De(n);return c.sa(),new i3(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:c3.bind(null,i),t_:u3.bind(null,i),r_:h3.bind(null,i),H_:f3.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Rg(i)?xg(i):i.Ra.set("Unknown")):(await i.ma.stop(),rS(i))}))),i.ma}function wr(i){return i.fa||(i.fa=(function(n,r,o){const c=De(n);return c.sa(),new s3(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:p3.bind(null,i),r_:_3.bind(null,i),ta:g3.bind(null,i),na:y3.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Af(i)):(await i.fa.stop(),i.Ta.length>0&&(ye(ga,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Ng{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const u=Date.now()+r,m=new Ng(e,n,u,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(i,e){if(ws("AsyncQueue",`${e}: ${i}`),zo(i))return new pe(oe.UNAVAILABLE,`${e}: ${i}`);throw i}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Jl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class sT{constructor(){this.ga=new dt(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class No{constructor(e,n,r,o,c,u,m,y,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new No(e,n,vo.emptySet(n),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class E3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class T3{constructor(){this.queries=rT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=De(n),c=o.queries;o.queries=rT(),c.forEach(((u,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new pe(oe.ABORTED,"Firestore shutting down"))}}function rT(){return new Ea((i=>Cb(i)),_f)}async function cS(i,e){const n=De(i);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new E3,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const m=Cg(u,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Ig(n)}async function uS(i,e){const n=De(i),r=e.query;let o=3;const c=n.queries.get(r);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function b3(i,e){const n=De(i);let r=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const m of u.Sa)m.Fa(o)&&(r=!0);u.wa=o}}r&&Ig(n)}function S3(i,e,n){const r=De(i),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);r.queries.delete(e)}function Ig(i){i.Ca.forEach((e=>{e.next()}))}var Ip,aT;(aT=Ip||(Ip={})).Ma="default",aT.Cache="cache";class hS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ip.Cache}}class fS{constructor(e){this.key=e}}class dS{constructor(e){this.key=e}}class w3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=Ib(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new sT,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const x=o.get(E),j=vf(this.query,b)?b:null,D=!!x&&this.mutatedKeys.has(x.key),z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let k=!1;x&&j?x.data.isEqual(j.data)?D!==z&&(r.track({type:3,doc:j}),k=!0):this.su(x,j)||(r.track({type:2,doc:j}),k=!0,(y&&this.eu(j,y)>0||p&&this.eu(j,p)<0)&&(m=!0)):!x&&j?(r.track({type:0,doc:j}),k=!0):x&&!j&&(r.track({type:1,doc:x}),k=!0,(y||p)&&(m=!0)),k&&(j?(u=u.add(j),c=z?c.add(E):c.delete(E)):(u=u.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:u,iu:r,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((E,b)=>(function(j,D){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:k})}};return z(j)-z(D)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,u.length!==0||p?{snapshot:new No(this.query,e.tu,c,u,e.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new dS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new fS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dg="SyncEngine";class A3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class x3{constructor(e){this.key=e,this.hu=!1}}class R3{constructor(e,n,r,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ea((m=>Cb(m)),_f),this.Iu=new Map,this.Eu=new Set,this.du=new dt(be.comparator),this.Au=new Map,this.Ru=new Eg,this.Vu={},this.mu=new Map,this.fu=Ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N3(i,e,n=!0){const r=vS(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await mS(r,e,n,!0),o}async function C3(i,e){const n=vS(i);await mS(n,e,!0,!1)}async function mS(i,e,n,r){const o=await XO(i.localStore,Fi(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await I3(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&n&&iS(i.remoteStore,o),m}async function I3(i,e,n,r,o){i.pu=(b,x,j)=>(async function(z,k,K,J){let ee=k.view.ru(K);ee.Cs&&(ee=await JE(z.localStore,k.query,!1).then((({documents:I})=>k.view.ru(I,ee))));const me=J&&J.targetChanges.get(k.targetId),ge=J&&J.targetMismatches.get(k.targetId)!=null,ue=k.view.applyChanges(ee,z.isPrimaryClient,me,ge);return lT(z,k.targetId,ue.au),ue.snapshot})(i,b,x,j);const c=await JE(i.localStore,e,!0),u=new w3(e,c.Qs),m=u.ru(c.documents),y=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),p=u.applyChanges(m,i.isPrimaryClient,y);lT(i,n,p.au);const E=new A3(e,n,u);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function D3(i,e,n){const r=De(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((u=>!_f(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&wg(r.remoteStore,o.targetId),Dp(r,o.targetId)})).catch(Uo)):(Dp(r,o.targetId),await Np(r.localStore,o.targetId,!0))}async function O3(i,e){const n=De(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wg(n.remoteStore,r.targetId))}async function M3(i,e,n){const r=z3(i);try{const o=await(function(u,m){const y=De(u),p=ot.now(),E=m.reduce(((j,D)=>j.add(D.key)),He());let b,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let D=As(),z=He();return y.Ns.getEntries(j,E).next((k=>{D=k,D.forEach(((K,J)=>{J.isValidDocument()||(z=z.add(K))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,D))).next((k=>{b=k;const K=[];for(const J of m){const ee=K4(J,b.get(J.key).overlayedDocument);ee!=null&&K.push(new Ta(J.key,ee,Tb(ee.value.mapValue),fi.exists(!0)))}return y.mutationQueue.addMutationBatch(j,p,K,m)})).next((k=>{x=k;const K=k.applyToLocalDocumentSet(b,z);return y.documentOverlayCache.saveOverlays(j,k.batchId,K)}))})).then((()=>({batchId:x.batchId,changes:Ob(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,m,y){let p=u.Vu[u.currentUser.toKey()];p||(p=new dt(qe)),p=p.insert(m,y),u.Vu[u.currentUser.toKey()]=p})(r,o.batchId,n),await jc(r,o.changes),await Af(r.remoteStore)}catch(o){const c=Cg(o,"Failed to persist write");n.reject(c)}}async function pS(i,e){const n=De(i);try{const r=await YO(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?We(u.hu,14607):o.removedDocuments.size>0&&(We(u.hu,42227),u.hu=!1))})),await jc(n,r,e)}catch(r){await Uo(r)}}function oT(i,e,n){const r=De(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const y=De(u);y.onlineState=m;let p=!1;y.queries.forEach(((E,b)=>{for(const x of b.Sa)x.va(m)&&(p=!0)})),p&&Ig(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j3(i,e,n){const r=De(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let u=new dt(be.comparator);u=u.insert(c,nn.newNoDocument(c,Ce.min()));const m=He().add(c),y=new bf(Ce.min(),new Map,new dt(qe),u,m);await pS(r,y),r.du=r.du.remove(c),r.Au.delete(e),Og(r)}else await Np(r.localStore,e,!1).then((()=>Dp(r,e,n))).catch(Uo)}async function V3(i,e){const n=De(i),r=e.batch.batchId;try{const o=await GO(n.localStore,e);yS(n,r,null),gS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jc(n,o)}catch(o){await Uo(o)}}async function k3(i,e,n){const r=De(i);try{const o=await(function(u,m){const y=De(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,m).next((b=>(We(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(p,b)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(r.localStore,e);yS(r,e,n),gS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jc(r,o)}catch(o){await Uo(o)}}function gS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function yS(i,e,n){const r=De(i);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Dp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||_S(i,r)}))}function _S(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(wg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Og(i))}function lT(i,e,n){for(const r of n)r instanceof fS?(i.Ru.addReference(r.key,e),P3(i,r)):r instanceof dS?(ye(Dg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||_S(i,r.key)):xe(19791,{wu:r})}function P3(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(ye(Dg,"New document in limbo: "+n),i.Eu.add(r),Og(i))}function Og(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new be(at.fromString(e)),r=i.fu.next();i.Au.set(r,new x3(n)),i.du=i.du.insert(n,r),iS(i.remoteStore,new dr(Fi(mg(n.path)),r,"TargetPurposeLimboResolution",pf.ce))}}async function jc(i,e,n){const r=De(i),o=[],c=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{u.push(r.pu(y,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=bg.As(y.targetId,p);c.push(E)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(y,p){const E=De(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(p,(x=>le.forEach(x.Es,(j=>E.persistence.referenceDelegate.addReference(b,x.targetId,j))).next((()=>le.forEach(x.ds,(j=>E.persistence.referenceDelegate.removeReference(b,x.targetId,j)))))))))}catch(b){if(!zo(b))throw b;ye(Sg,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const j=E.Ms.get(x),D=j.snapshotVersion,z=j.withLastLimboFreeSnapshotVersion(D);E.Ms=E.Ms.insert(x,z)}}})(r.localStore,c))}async function L3(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){ye(Dg,"User change. New user:",e.toKey());const r=await Zb(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((y=>{y.reject(new pe(oe.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jc(n,r.Ls)}}function U3(i,e){const n=De(i),r=n.Au.get(e);if(r&&r.hu)return He().add(r.key);{let o=He();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const m=n.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function vS(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=pS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j3.bind(null,e),e.Pu.H_=b3.bind(null,e.eventManager),e.Pu.yu=S3.bind(null,e.eventManager),e}function z3(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k3.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HO(this.persistence,new BO,e.initialUser,this.serializer)}Cu(e){return new Jb(Tg.mi,this.serializer)}Du(e){return new WO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class B3 extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof Wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Jb((r=>Wh.mi(r,n)),this.serializer)}}class Op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=L3.bind(null,this.syncEngine),await v3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new T3})()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),r=(function(c){return new n3(c)})(e.databaseInfo);return(function(c,u,m,y){return new a3(c,u,m,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,u,m){return new l3(r,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>oT(this.syncEngine,n,0)),(function(){return tT.v()?new tT:new JO})())}createSyncEngine(e,n){return(function(o,c,u,m,y,p,E){const b=new R3(o,c,u,m,y,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);ye(ga,"RemoteStore shutting down."),r.Ea.add(5),await Mc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};class ES{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ar="FirestoreClient";class F3{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async u=>{ye(Ar,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ye(Ar,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jm(i,e){i.asyncQueue.verifyOperationInProgress(),ye(Ar,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Zb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function cT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await q3(i);ye(Ar,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>iT(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>iT(e.remoteStore,o))),i._onlineComponents=e}async function q3(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ye(Ar,"Using user provided OfflineComponentProvider");try{await Jm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Jm(i,new Zh)}}else ye(Ar,"Using default OfflineComponentProvider"),await Jm(i,new B3(void 0));return i._offlineComponents}async function TS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ye(Ar,"Using user provided OnlineComponentProvider"),await cT(i,i._uninitializedComponentsProvider._online)):(ye(Ar,"Using default OnlineComponentProvider"),await cT(i,new Op))),i._onlineComponents}function H3(i){return TS(i).then((e=>e.syncEngine))}async function Mp(i){const e=await TS(i),n=e.eventManager;return n.onListen=N3.bind(null,e.syncEngine),n.onUnlisten=D3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O3.bind(null,e.syncEngine),n}function G3(i,e,n={}){const r=new _r;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,y,p){const E=new ES({next:x=>{E.Nu(),u.enqueueAndForget((()=>uS(c,b))),x.fromCache&&y.source==="server"?p.reject(new pe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new hS(m,E,{includeMetadataChanges:!0,qa:!0});return cS(c,b)})(await Mp(i),i.asyncQueue,e,n,r))),r.promise}function bS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const uT=new Map;const SS="firestore.googleapis.com",hT=!0;class fT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SS,this.ssl=hT}else this.host=e.host,this.ssl=e.ssl??hT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wO)throw new pe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new WD;switch(r.type){case"firstParty":return new t4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=uT.get(n);r&&(ye("ComponentProvider","Removing Datastore"),uT.delete(n),r.terminate())})(this),Promise.resolve()}}function Y3(i,e,n,r={}){i=Bi(i,xf);const o=Vo(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(_1(`https://${m}`),v1("Firestore",!0)),c.host!==SS&&c.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:o,emulatorOptions:r};if(!fa(y,u)&&(i._setSettings(y),r.mockUserToken)){let p,E;if(typeof r.mockUserToken=="string")p=r.mockUserToken,E=tn.MOCK_USER;else{p=TN(r.mockUserToken,i._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new pe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(b)}i._authCredentials=new JD(new cb(p,E))}}class xr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xr(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ic(n,jt._jsonSchema))return new jt(e,r||null,new be(at.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Mt("string",jt._jsonSchemaVersion),referencePath:Mt("string")};class vr extends xr{constructor(e,n,r){super(e,n,mg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new be(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function Mg(i,e,...n){if(i=cn(i),ub("collection","path",e),i instanceof xf){const r=at.fromString(e,...n);return AE(r),new vr(i,null,r)}{if(!(i instanceof jt||i instanceof vr))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(at.fromString(e,...n));return AE(r),new vr(i.firestore,null,r)}}function wS(i,e,...n){if(i=cn(i),arguments.length===1&&(e=lg.newId()),ub("doc","path",e),i instanceof xf){const r=at.fromString(e,...n);return wE(r),new jt(i,null,new be(r))}{if(!(i instanceof jt||i instanceof vr))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(at.fromString(e,...n));return wE(r),new jt(i.firestore,i instanceof vr?i.converter:null,new be(r))}}const dT="AsyncQueue";class mT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tS(this,"async_queue_retry"),this._c=()=>{const r=Wm();r&&ye(dT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;ye(dT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",pT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ng.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:pT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function gT(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class ya extends xf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new mT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mT(e),this._firestoreClient=void 0,await e}}}function Q3(i,e){const n=typeof i=="object"?i:S1(),r=typeof i=="string"?i:Yh,o=$p(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=vN("firestore");c&&Y3(o,...c)}return o}function jg(i){if(i._terminated)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||K3(i),i._firestoreClient}function K3(i){const e=i._freezeSettings(),n=(function(o,c,u,m){return new _4(o,c,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new F3(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Jt.fromBase64String(e))}catch(n){throw new pe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ic(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Mt("string",Gn._jsonSchemaVersion),bytes:Mt("string")};class Vg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kg{constructor(e){this._methodName=e}}class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Ic(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Mt("string",Hi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class Gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ic(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gi(e.vectorValues);throw new pe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Mt("string",Gi._jsonSchemaVersion),vectorValues:Mt("object")};const X3=/^__.*__$/;class $3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}function AS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:i})}}class Pg{constructor(e,n,r,o,c,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ef(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AS(this.Ac)&&X3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class W3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sf(e)}Cc(e,n,r,o=!1){return new Pg({Ac:e,methodName:n,Dc:r,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lg(i){const e=i._freezeSettings(),n=Sf(i._databaseId);return new W3(i._databaseId,!!e.ignoreUndefinedProperties,n)}function xS(i,e,n,r,o,c={}){const u=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);CS("Data must be an object, but it was:",u,r);const m=RS(r,u);let y,p;if(c.merge)y=new ui(u.fieldMask),p=u.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const x=Z3(e,b,n);if(!u.contains(x))throw new pe(oe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);tM(E,x)||E.push(x)}y=new ui(E),p=u.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,p=u.fieldTransforms;return new $3(new Hn(m),y,p)}class Ug extends kg{_toFieldTransform(e){return new H4(e.path,new gc)}isEqual(e){return e instanceof Ug}}function J3(i,e,n,r=!1){return zg(n,i.Cc(r?4:3,e))}function zg(i,e){if(NS(i=cn(i)))return CS("Unsupported field value:",e,i),RS(i,e);if(i instanceof kg)return(function(r,o){if(!AS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let u=0;for(const m of r){let y=zg(m,o.wc(u));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),u++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B4(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:$h(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$h(o.serializer,c)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:Hb(o.serializer,r._byteString)};if(r instanceof jt){const c=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Gi)return(function(u,m){return{mapValue:{fields:{[vb]:{stringValue:Eb},[Qh]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return pg(m.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${mf(r)}`)})(i,e)}function RS(i,e){const n={};return db(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(i,((r,o)=>{const c=zg(o,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function NS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ot||i instanceof Hi||i instanceof Gn||i instanceof jt||i instanceof kg||i instanceof Gi)}function CS(i,e,n){if(!NS(n)||!hb(n)){const r=mf(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Z3(i,e,n){if((e=cn(e))instanceof Vg)return e._internalPath;if(typeof e=="string")return IS(i,e);throw ef("Field path arguments must be of type string or ",i,!1,void 0,n)}const eM=new RegExp("[~\\*/\\[\\]]");function IS(i,e,n){if(e.search(eM)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Vg(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ef(i,e,n,r,o){const c=r&&!r.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${r}`),u&&(y+=` in document ${o}`),y+=")"),new pe(oe.INVALID_ARGUMENT,m+i+y)}function tM(i,e){return i.some((n=>n.isEqual(e)))}class DS{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nM extends DS{data(){return super.data()}}function Rf(i,e){return typeof e=="string"?IS(i,e):e instanceof Vg?e._internalPath:e._delegate._internalPath}function OS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class MS extends Bg{}function Vc(i,e,...n){let r=[];e instanceof Bg&&r.push(e),r=r.concat(n),(function(c){const u=c.filter((y=>y instanceof Fg)).length,m=c.filter((y=>y instanceof Nf)).length;if(u>1||u>0&&m>0)throw new pe(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Nf extends MS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nf(e,n,r)}_apply(e){const n=this._parse(e);return jS(e._query,n),new xr(e.firestore,e.converter,bp(e._query,n))}_parse(e){const n=Lg(e.firestore);return(function(c,u,m,y,p,E,b){let x;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){_T(b,E);const D=[];for(const z of b)D.push(yT(y,c,z));x={arrayValue:{values:D}}}else x=yT(y,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||_T(b,E),x=J3(m,u,b,E==="in"||E==="not-in");return Ot.create(p,E,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yi(i,e,n){const r=e,o=Rf("where",i);return Nf._create(o,r,n)}class Fg extends Bg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const y of m)jS(u,y),u=bp(u,y)})(e._query,n),new xr(e.firestore,e.converter,bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends MS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qg(e,n)}_apply(e){const n=(function(o,c,u){if(o.startAt!==null)throw new pe(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(c,u)})(e._query,this._field,this._direction);return new xr(e.firestore,e.converter,(function(o,c){const u=o.explicitOrderBy.concat([c]);return new Bo(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Hg(i,e="asc"){const n=e,r=Rf("orderBy",i);return qg._create(r,n)}function yT(i,e,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new pe(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nb(e)&&n.indexOf("/")!==-1)throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!be.isDocumentKey(r))throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ME(i,new be(r))}if(n instanceof jt)return ME(i,n._key);throw new pe(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function _T(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jS(i,e){const n=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iM{convertValue(e,n="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return va(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Qh].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new Gi(n)}convertGeoPoint(e){return new Hi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);We($b(r),9688,{name:e});const o=new dc(r.get(1),r.get(3)),c=new be(r.popFirst(5));return o.isEqual(n)||ws(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function VS(i,e,n){let r;return r=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,r}class ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends DS{constructor(e,n,r,o,c,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Mt("string",ca._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class jh extends ca{data(e={}){return super.data(e)}}class ua{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ec(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new jh(this._firestore,this._userDataWriter,r.key,r,new ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const y=new jh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ec(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const y=new jh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ec(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),E=u.indexOf(m.doc.key)),{type:sM(m.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Mt("string",ua._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Gg extends iM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function rM(i){i=Bi(i,xr);const e=Bi(i.firestore,ya),n=jg(e),r=new Gg(e);return OS(i._query),G3(n,i._query).then((o=>new ua(e,r,i,o)))}function aM(i,e,n){i=Bi(i,jt);const r=Bi(i.firestore,ya),o=VS(i.converter,e,n);return Yg(r,[xS(Lg(r),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,fi.none())])}function oM(i){return Yg(Bi(i.firestore,ya),[new gg(i._key,fi.none())])}function lM(i,e){const n=Bi(i.firestore,ya),r=wS(i),o=VS(i.converter,e);return Yg(n,[xS(Lg(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,fi.exists(!1))]).then((()=>r))}function Cf(i,...e){i=cn(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||gT(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(gT(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,u,m;if(i instanceof jt)u=Bi(i.firestore,ya),m=mg(i._key.path),c={next:y=>{e[r]&&e[r](cM(u,i,y))},error:e[r+1],complete:e[r+2]};else{const y=Bi(i,xr);u=Bi(y.firestore,ya),m=y._query;const p=new Gg(u);c={next:E=>{e[r]&&e[r](new ua(u,p,y,E))},error:e[r+1],complete:e[r+2]},OS(i._query)}return(function(p,E,b,x){const j=new ES(x),D=new hS(E,j,b);return p.asyncQueue.enqueueAndForget((async()=>cS(await Mp(p),D))),()=>{j.Nu(),p.asyncQueue.enqueueAndForget((async()=>uS(await Mp(p),D)))}})(jg(u),m,o,c)}function Yg(i,e){return(function(r,o){const c=new _r;return r.asyncQueue.enqueueAndForget((async()=>M3(await H3(r),o,c))),c.promise})(jg(i),e)}function cM(i,e,n){const r=n.docs.get(e._key),o=new Gg(i);return new ca(i,o,e._key,r,new ec(n.hasPendingWrites,n.fromCache),e.converter)}function uM(){return new Ug("serverTimestamp")}(function(e,n=!0){(function(o){Lo=o})(ko),To(new da("firestore",((r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),m=new ya(new ZD(r.getProvider("auth-internal")),new n4(u,r.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(p.options.projectId,E)})(u,o),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),gr(EE,TE,e),gr(EE,TE,"esm2020")})();const hM={apiKey:"AIzaSyCJmNJIz-v7xQQSgrRauXfA9g8eVCMKLS8",authDomain:"film-vault-29fdf.firebaseapp.com",projectId:"film-vault-29fdf",appId:"1:928593124485:web:d7d9ca62384337b90c9dec",messagingSenderId:"928593124485"},kS=b1(hM),oc=XD(kS),fM=new ys,Qg=Q3(kS),dM=i=>i?{id:i.uid,username:i.displayName||i.email?.split("@")[0]||"user",avatarUrl:i.photoURL||void 0}:null,PS=P.createContext({user:null,loginGoogle:async()=>{},logout:async()=>{}}),mM=({children:i})=>{const[e,n]=P.useState(null),[r,o]=P.useState(!1);P.useEffect(()=>PI(oc,y=>{n(dM(y)),o(!0)}),[]);const c=async()=>{await sD(oc,fM)},u=async()=>{await LI(oc)};return r?g.jsx(PS.Provider,{value:{user:e,loginGoogle:c,logout:u},children:i}):g.jsx("div",{className:"p-4",children:"Cargando"})},$i=()=>P.useContext(PS);function Xt({title:i,items:e,watchlistIds:n,onToggleWatchlist:r,userCanEdit:o=!1,kind:c="movie"}){return g.jsxs("section",{className:"shelf",children:[g.jsx("h2",{className:"shelf__title",children:i}),g.jsx("div",{className:"shelf__scroller",children:e.map(u=>{const m=n.includes(u.id),y=c==="tv"?`/tv/${u.id}`:`/movie/${u.id}`,p=u.title||u.name,E=(u.release_date||u.first_air_date||"").slice(0,4);return g.jsxs("div",{className:"shelf-card",children:[g.jsxs(Cn,{to:y,children:[u.poster_path?g.jsx("img",{src:jo(u.poster_path,"w342"),className:"shelf-card__poster"}):g.jsx("div",{className:"shelf-card__poster bg-gray-800"}),g.jsxs("div",{className:"shelf-card__overlay",children:[g.jsx("div",{className:"shelf-card__title",children:p}),g.jsxs("div",{className:"shelf-card__meta",children:[E&&g.jsx("span",{children:E}),u.vote_average&&g.jsxs("span",{children:[" ",u.vote_average.toFixed(1)]})]})]})]}),o&&r&&g.jsx("button",{type:"button",className:"shelf-card__watch"+(m?" shelf-card__watch--active":""),onClick:()=>r(u.id),children:m?"":"+"})]},u.id)})})]})}const tf=Mg(Qg,"watchlist");function LS(i,e,n,r){const o=Vc(tf,Yi("userId","==",n),Yi("kind","==",i),Yi("refId","==",e));return Cf(o,c=>{r(!c.empty)})}async function If(i,e,n){const r=Vc(tf,Yi("userId","==",n),Yi("kind","==",i),Yi("refId","==",e)),o=await rM(r);if(!o.empty){await Promise.all(o.docs.map(c=>oM(c.ref)));return}await lM(tf,{userId:n,kind:i,refId:e,createdAt:uM()})}function Df(i,e){const n=Vc(tf,Yi("userId","==",i),Hg("createdAt","desc"));return Cf(n,r=>{const o=r.docs.map(c=>{const u=c.data();return{id:c.id,userId:u.userId,kind:u.kind,refId:u.refId,createdAt:u.createdAt?.toDate?.()??new Date(0)}});e(o)})}const vT={28:"Accin",12:"Aventura",16:"Animacin",35:"Comedia",80:"Crimen",18:"Drama",14:"Fantasa",27:"Terror",10749:"Romance",878:"Sci-Fi",53:"Thriller",9648:"Misterio",99:"Documental"};function pM(){const{user:i}=$i(),[e,n]=P.useState([]),[r,o]=P.useState([]),[c,u]=P.useState([]),[m,y]=P.useState([]),[p,E]=P.useState([]),[b,x]=P.useState([]),[j,D]=P.useState([]),[z,k]=P.useState([]),[K,J]=P.useState("all"),[ee,me]=P.useState([]),[ge,ue]=P.useState([]),[I,R]=P.useState(!1);P.useEffect(()=>{(async()=>{const[se,he,F,ae,ce,Se]=await Promise.all([Z2(),$2(),W2(),J2(),eN(),tN()]);n(se),y(he),E(F),x(ae),o(ce),u(Se)})()},[]),P.useEffect(()=>{if(!i){D([]),k([]);return}const se=Df(i.id,he=>{const ae=he.filter(ce=>ce.kind==="movie").map(ce=>ce.refId);D(ae)});return()=>se()},[i]),P.useEffect(()=>{(async()=>{if(!j.length){k([]);return}const he=j.slice(0,40),F=await Yp(he);k(F)})()},[j]),P.useEffect(()=>{if(!i||!z.length){me([]);return}const se=new Map;if(z.forEach(F=>{(F.genre_ids??(Array.isArray(F.genres)?F.genres.map(ce=>ce.id):[])).forEach(ce=>{se.set(ce,(se.get(ce)??0)+1)})}),!se.size){me([]);return}const he=[...se.entries()].sort((F,ae)=>ae[1]-F[1]).slice(0,3).map(([F])=>F);me(he)},[i,z]),P.useEffect(()=>{if(!ee.length){ue([]);return}let se=!1;return(async()=>{R(!0);try{const he=await nN(ee);se||ue(he??[])}catch(he){console.error("Error cargando recomendaciones por gnero",he),se||ue([])}finally{se||R(!1)}})(),()=>{se=!0}},[ee]);const C=P.useMemo(()=>{if(!i||!z.length)return[];const se=[...e,...b,...p,...m],he=new Map;se.forEach(Ae=>{Ae&&!he.has(Ae.id)&&he.set(Ae.id,Ae)});const F=[...he.values()],ae=(ge.length?ge:F).filter(Boolean),ce=new Set(z.map(Ae=>Ae.id));let Se=ae.filter(Ae=>Ae&&!ce.has(Ae.id));return ee.length&&(Se=Se.filter(Ae=>Array.isArray(Ae.genre_ids)&&Ae.genre_ids.some(L=>ee.includes(L)))),Se.slice(0,20)},[i,z,e,b,p,m,ge,ee]),N=async se=>{if(i){D(he=>he.includes(se)?he.filter(F=>F!==se):[...he,se]);try{await If("movie",se,i.id)}catch(he){console.error("Error al actualizar watchlist en Firestore",he)}}},O=P.useMemo(()=>[{id:"all",label:"Principal"},{id:"genre",label:"Por gnero"},{id:"trend",label:"Tendencias"}],[]),V=Object.keys(vT).map(se=>Number(se)),A=P.useMemo(()=>{const se=[...e,...b,...m,...p],he=new Map;se.forEach(ae=>{ae&&!he.has(ae.id)&&he.set(ae.id,ae)});const F=[...he.values()];return V.map(ae=>{const ce=F.filter(Se=>Array.isArray(Se.genre_ids)?Se.genre_ids.includes(ae):!1);return{genreId:ae,label:vT[ae]??"Gnero",items:ce.slice(0,20)}})},[e,b,m,p]);return g.jsxs("div",{className:"home-shelves",children:[g.jsxs("header",{className:"home-shelves__header",children:[g.jsx("h1",{className:"home-shelves__title",children:"Tu estantera de cine"}),g.jsx("p",{className:"home-shelves__subtitle",children:"Recorre colecciones curadas: lo mejor valorado, por gnero, en cines, prximos estrenos y descubrimientos hechos para ti."}),g.jsx("div",{className:"home-shelves__chips",children:O.map(se=>g.jsx("button",{className:"home-shelves__chip"+(se.id===K?" home-shelves__chip--active":""),onClick:()=>J(se.id),children:se.label},se.id))})]}),K==="all"&&g.jsxs(g.Fragment,{children:[i&&g.jsxs(g.Fragment,{children:[I&&C.length===0&&g.jsx("p",{className:"home-shelves__loading",children:"Cargando recomendaciones personalizadas..."}),C.length>0&&g.jsx(Xt,{title:"Recomendados para ti",items:C,watchlistIds:j,onToggleWatchlist:N,userCanEdit:!!i})]}),g.jsx(Xt,{title:"Mejor valoradas por la crtica",items:e,watchlistIds:j,onToggleWatchlist:N,userCanEdit:!!i}),g.jsx(Xt,{title:`Lo mejor de ${new Date().getFullYear()}`,items:r,watchlistIds:j,onToggleWatchlist:N,userCanEdit:!!i}),g.jsx(Xt,{title:"Clsicos mejor valorados",items:c,watchlistIds:j,onToggleWatchlist:N,userCanEdit:!!i})]}),(K==="all"||K==="trend")&&g.jsxs(g.Fragment,{children:[g.jsx(Xt,{title:"Tendencias de la semana",items:b,watchlistIds:j,onToggleWatchlist:N,userCanEdit:!!i}),g.jsx(Xt,{title:"En cines ahora",items:m,watchlistIds:j,onToggleWatchlist:N,userCanEdit:!!i}),g.jsx(Xt,{title:"Prximos estrenos",items:p,watchlistIds:j,onToggleWatchlist:N,userCanEdit:!!i})]}),K==="genre"&&g.jsx(g.Fragment,{children:A.map(se=>se.items.length>0&&g.jsx(Xt,{title:se.label,items:se.items,watchlistIds:j,onToggleWatchlist:N,userCanEdit:!!i},se.genreId))})]})}function gM(){const{loginGoogle:i}=$i(),e=Do(),n=async()=>{try{await i(),e("/explore")}catch(r){alert("No se pudo iniciar sesin con Google."),console.error(r)}};return g.jsx("div",{className:"min-h-[100vh] flex items-center justify-center px-4 bg-gradient-to-b from-black via-[#13000b] to-[#3b0000]",children:g.jsxs("div",{className:"max-w-sm w-full bg-black/90 border border-red-700 px-8 py-7 shadow-[0_20px_60px_rgba(0,0,0,0.9)] text-white rounded-none",children:[g.jsx("h1",{className:"text-2xl font-bold text-center tracking-[0.25em] text-red-500 mb-1",children:"INICIA SESIN"}),g.jsx("p",{className:"text-[11px] text-center uppercase tracking-[0.18em] text-gray-400 mb-6",children:"en FilmVault"}),g.jsxs("button",{onClick:n,className:"w-full bg-white text-black font-medium py-2.5 px-3 flex items-center justify-center gap-2 hover:bg-gray-100 transition border border-white/80 rounded-none cursor-pointer",children:[g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",children:[g.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.953,3.047l5.657-5.657C33.104,6.053,28.761,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,23.326,43.862,21.681,43.611,20.083z"}),g.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.018,18.961,13,24,13c3.059,0,5.842,1.154,7.953,3.047 l5.657-5.657C33.104,6.053,28.761,4,24,4C16.318,4,9.745,8.337,6.306,14.691z"}),g.jsx("path",{fill:"#4CAF50",d:"M24,44c4.697,0,8.964-1.794,12.207-4.727l-5.64-5.355C28.548,35.994,26.37,37,24,37 c-5.202,0-9.613-3.315-11.271-7.946l-6.544,5.04C9.59,39.556,16.259,44,24,44z"}),g.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.793,2.237-2.231,4.166-4.096,5.589 c0.001-0.001,0.002-0.001,0.003-0.002l5.64,5.355C36.566,39.001,44,34,44,24C44,23.326,43.862,21.681,43.611,20.083z"})]}),"Entrar con Google"]}),g.jsx("p",{className:"text-xs text-center mt-4 text-gray-400",children:"Usamos tu cuenta de Google para autenticarte de forma segura."}),g.jsxs("p",{className:"text-xs text-center mt-4 text-gray-400",children:["An no tienes cuenta?"," ",g.jsx(Cn,{to:"/signup",className:"text-red-400 hover:text-red-300 underline underline-offset-2",children:"nete a FilmVault"})]})]})})}function yM(){const{loginGoogle:i}=$i(),e=Do(),n=async()=>{try{await i(),e("/explore")}catch(r){alert("No se pudo crear la cuenta con Google."),console.error(r)}};return g.jsx("div",{className:"min-h-[100vh] flex items-center justify-center px-4 bg-gradient-to-b from-black via-[#13000b] to-[#3b0000]",children:g.jsxs("div",{className:"max-w-sm w-full bg-black/90 border border-red-700 px-8 py-7 shadow-[0_20px_60px_rgba(0,0,0,0.9)] text-white rounded-none",children:[g.jsx("h1",{className:"text-2xl font-bold text-center tracking-[0.25em] text-red-500 mb-1",children:"NETE A FILMVAULT"}),g.jsx("p",{className:"text-[11px] text-center uppercase tracking-[0.18em] text-gray-400 mb-6",children:"crea tu perfil de cine"}),g.jsxs("button",{onClick:n,className:"w-full bg-white text-black font-medium py-2.5 px-3 flex items-center justify-center gap-2 hover:bg-gray-100 transition border border-white/80 rounded-none cursor-pointer",children:[g.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",children:[g.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.953,3.047l5.657-5.657C33.104,6.053,28.761,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,23.326,43.862,21.681,43.611,20.083z"}),g.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.018,18.961,13,24,13c3.059,0,5.842,1.154,7.953,3.047 l5.657-5.657C33.104,6.053,28.761,4,24,4C16.318,4,9.745,8.337,6.306,14.691z"}),g.jsx("path",{fill:"#4CAF50",d:"M24,44c4.697,0,8.964-1.794,12.207-4.727l-5.64-5.355C28.548,35.994,26.37,37,24,37 c-5.202,0-9.613-3.315-11.271-7.946l-6.544,5.04C9.59,39.556,16.259,44,24,44z"}),g.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.793,2.237-2.231,4.166-4.096,5.589 c0.001-0.001,0.002-0.001,0.003-0.002l5.64,5.355C36.566,39.001,44,34,44,24C44,23.326,43.862,21.681,43.611,20.083z"})]}),"Continuar con Google"]}),g.jsx("p",{className:"text-xs text-center mt-4 text-gray-400",children:"Usamos tu cuenta de Google para crear y gestionar tu perfil de cine."}),g.jsxs("p",{className:"text-xs text-center mt-4 text-gray-400",children:["Ya tienes cuenta?"," ",g.jsx(Cn,{to:"/login",className:"text-red-400 hover:text-red-300 underline underline-offset-2",children:"Inicia sesin"})]})]})})}function US({value:i=0,onChange:e,max:n=5}){const r=o=>{e&&e(o)};return g.jsx("div",{className:"flex items-center gap-1 text-yellow-400",children:Array.from({length:n}).map((o,c)=>{const u=c+1,m=u<=i;return g.jsx("button",{type:"button",onClick:()=>r(u),className:"text-lg md:text-xl",children:m?"":""},u)})})}function zS(){return Mg(Qg,"reviews")}function _M(i,e,n){return`${i}_${e}_${n}`}function BS(i,e,n){const r=Vc(zS(),Yi("kind","==",i),Yi("refId","==",e),Hg("createdAt","desc"));return Cf(r,o=>{const c=o.docs.map(u=>{const m=u.data();return{id:u.id,kind:m.kind,refId:m.refId,userId:m.userId,userName:m.userName??"Usuario annimo",userPhotoUrl:m.userPhotoUrl??null,rating:m.rating,body:m.body??"",createdAt:m.createdAt?.toDate()??new Date}});n(c)})}async function FS(i,e,n){const{userId:r,userName:o,userPhotoUrl:c=null,rating:u,body:m}=n,y=_M(i,e,r),p=wS(zS(),y);await aM(p,{kind:i,refId:e,userId:r,userName:o,userPhotoUrl:c,rating:u,body:m,createdAt:ot.now()},{merge:!0})}function vM(){const{id:i}=OT(),e=Number(i),{user:n}=$i(),[r,o]=P.useState(null),[c,u]=P.useState(!1),[m,y]=P.useState([]),[p,E]=P.useState(null),[b,x]=P.useState(!1),[j,D]=P.useState(!1),[z,k]=P.useState(!1),[K,J]=P.useState(0),[ee,me]=P.useState(""),[ge,ue]=P.useState("");P.useEffect(()=>{(async()=>e&&o(await X2(e)))()},[e]),P.useEffect(()=>{(async()=>{if(e)try{const Y=await cN(e);E(Y)}catch(Y){console.error("Error cargando providers TMDB:",Y),E(null)}})()},[e]),P.useEffect(()=>{if(!n||!e){u(!1);return}const Y=LS("movie",e,n.id,ve=>u(ve));return()=>Y()},[n,e]),P.useEffect(()=>{if(!e)return;const Y=BS("movie",e,ve=>{y(ve)});return()=>Y()},[e]);const I=n?m.find(Y=>Y.userId===n.id):void 0,R=I?.rating;if(!r)return g.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8 text-white",children:"Cargando"});const C=m.length>0?m.reduce((Y,ve)=>Y+ve.rating,0)/m.length:null,N=(r.release_date||"").slice(0,4),O=r.runtime?`${Math.floor(r.runtime/60)}h ${r.runtime%60}min`:null,V=r.genres?.map(Y=>Y.name)??[],A=r.credits?.crew?.find(Y=>Y.job==="Director"),se=r.credits?.crew?.filter(Y=>["Writer","Screenplay","Story","Author"].includes(Y.job)),he=r.credits?.cast??[],F=he.slice(0,5),ae=he.slice(0,12),ce=r.videos?.results?.find(Y=>Y.site==="YouTube"&&Y.type==="Trailer"&&Y.official)||r.videos?.results?.find(Y=>Y.site==="YouTube"&&Y.type==="Trailer"),Se=r.backdrop_path||(r.images?.backdrops?.[0]?.file_path??null),Ae=async()=>{!n||!e||await If("movie",e,n.id)},L=()=>{n&&(ue(""),J(R??0),me(I?.body??""),x(!0))},Z=async()=>{if(!n||!e)return;if(!K||K<=0){ue("Primero selecciona una puntuacin (al menos 1 estrella).");return}const Y=oc.currentUser,ve=Y?.displayName||(Y?.email?Y.email.split("@")[0]:"")||"Usuario",Re=Y?.photoURL??null;try{await FS("movie",e,{userId:n.id,userName:ve,userPhotoUrl:Re,rating:K,body:ee.trim()}),x(!1)}catch(Ve){console.error(Ve),ue("No se pudo guardar tu resea. Intenta de nuevo.")}},fe=!!p&&((p.flatrate?.length??0)>0||(p.rent?.length??0)>0||(p.buy?.length??0)>0);return g.jsxs("div",{className:"movie-page",children:[g.jsxs("section",{className:"movie-page__hero",children:[Se&&g.jsx("div",{className:"movie-page__hero-bg",style:{backgroundImage:`url(https://image.tmdb.org/t/p/original${Se})`}}),g.jsx("div",{className:"movie-page__hero-overlay"}),g.jsxs("div",{className:"movie-page__hero-inner",children:[g.jsx("div",{className:"movie-page__poster-wrapper",children:r.poster_path&&g.jsx("img",{src:jo(r.poster_path,"w500"),className:"movie-page__poster",alt:r.title})}),g.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"movie-page__title",children:[r.title," ",N&&g.jsxs("span",{className:"text-gray-300 font-normal",children:["(",N,")"]})]}),g.jsxs("div",{className:"movie-page__meta-line",children:[N&&g.jsx("span",{children:N}),O&&g.jsx("span",{children:O}),r.vote_average&&g.jsxs(g.Fragment,{children:[g.jsxs("span",{children:[" ",r.vote_average.toFixed(1)]}),r.vote_count&&g.jsxs("span",{children:[r.vote_count.toLocaleString()," votos"]})]})]}),V.length>0&&g.jsx("div",{className:"movie-page__genres",children:V.map(Y=>g.jsx("span",{className:"movie-page__genre-pill",children:Y},Y))}),r.tagline&&g.jsxs("p",{className:"movie-page__tagline mt-2",children:["",r.tagline,""]}),g.jsx("p",{className:"movie-page__overview mt-2",children:r.overview}),g.jsxs("p",{className:"mt-3 text-xs text-gray-300",children:[g.jsx("span",{className:"font-semibold text-gray-100",children:"Director:"})," ",A?A.name:""]}),F.length>0&&g.jsxs("p",{className:"mt-1 text-xs text-gray-300",children:[g.jsx("span",{className:"font-semibold text-gray-100",children:"Protagonizada por:"})," ",F.map(Y=>Y.name).join(", ")]})]}),g.jsxs("div",{className:"movie-page__actions",children:[ce&&g.jsx("button",{type:"button",className:"movie-page__play-btn",onClick:()=>k(!0),children:" Ver triler"}),n&&g.jsx("button",{type:"button",onClick:Ae,className:"movie-page__secondary-btn "+(c?"border-yellow-400 text-yellow-300":""),children:c?" En tu Watchlist":"+ Aadir a Watchlist"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:n?g.jsxs(g.Fragment,{children:[g.jsx("button",{type:"button",className:"movie-page__review-btn",onClick:L,children:"Resear o calificar"}),g.jsx("button",{type:"button",className:"movie-page__ghost-btn",onClick:()=>D(!0),children:"Leer reseas"})]}):g.jsx("span",{className:"text-xs text-gray-300",children:"Inicia sesin para puntuar y leer reseas."})})]})]})]})]}),g.jsxs("div",{className:"movie-page__body",children:[g.jsxs("section",{className:"movie-page__details-grid",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx(lr,{label:"Gnero",children:V.length?V.join(", "):""}),g.jsx(lr,{label:"Director",children:A?A.name:""}),g.jsx(lr,{label:"Guion",children:se&&se.length?se.map(Y=>Y.name).join(", "):""}),g.jsx(lr,{label:"Reparto",children:F.length?F.map(Y=>Y.name).join("  "):""})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(lr,{label:"Fecha de estreno",children:r.release_date||""}),g.jsx(lr,{label:"Popularidad",children:r.popularity?.toFixed(0)??""}),g.jsx(lr,{label:"Idioma original",children:r.original_language?.toUpperCase()??""}),g.jsx(lr,{label:"Ttulo original",children:r.original_title||""})]})]}),fe&&g.jsxs("section",{className:"mt-10",children:[g.jsx("h2",{className:"movie-page__section-title",children:"Dnde ver"}),g.jsxs("div",{className:"space-y-4 text-sm",children:[p?.flatrate?.length?g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-300 mb-1 uppercase tracking-[0.16em] text-xs",children:"Suscripcin"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:p.flatrate.map(Y=>g.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg:white/5 border border-white/10 text-xs rounded-full bg-white/5",children:[Y.logoPath&&g.jsx("img",{src:`https://image.tmdb.org/t/p/w45${Y.logoPath}`,alt:Y.providerName,className:"w-6 h-6 rounded"}),g.jsx("span",{children:Y.providerName})]},Y.providerId))})]}):null,p?.rent?.length?g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-300 mb-1 uppercase tracking-[0.16em] text-xs",children:"Alquiler digital"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:p.rent.map(Y=>g.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 border border-white/10 text-xs rounded-full",children:[Y.logoPath&&g.jsx("img",{src:`https://image.tmdb.org/t/p/w45${Y.logoPath}`,alt:Y.providerName,className:"w-6 h-6 rounded"}),g.jsx("span",{children:Y.providerName})]},Y.providerId))})]}):null,p?.buy?.length?g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-300 mb-1 uppercase tracking-[0.16em] text-xs",children:"Compra digital"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:p.buy.map(Y=>g.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 border border-white/10 text-xs rounded-full",children:[Y.logoPath&&g.jsx("img",{src:`https://image.tmdb.org/t/p/w45${Y.logoPath}`,alt:Y.providerName,className:"w-6 h-6 rounded"}),g.jsx("span",{children:Y.providerName})]},Y.providerId))})]}):null]})]}),ae.length>0&&g.jsxs("section",{className:"shelf mt-10",children:[g.jsx("h2",{className:"shelf__title",children:"Reparto principal"}),g.jsx("div",{className:"shelf__scroller",children:ae.map(Y=>g.jsxs("div",{className:"shelf-card",children:[Y.profile_path?g.jsx("img",{src:`https://image.tmdb.org/t/p/w185${Y.profile_path}`,alt:Y.name,className:"shelf-card__poster"}):g.jsx("div",{className:"shelf-card__poster bg-gray-800 flex items-center justify-center text-[11px] text-gray-500",children:"Sin foto"}),g.jsxs("div",{className:"shelf-card__overlay",children:[g.jsx("div",{className:"shelf-card__title",children:Y.name}),g.jsx("div",{className:"shelf-card__meta",children:Y.character&&g.jsxs("span",{children:["como ",Y.character]})})]})]},Y.id))})]})]}),n&&b&&g.jsx("div",{className:"movie-modal-backdrop",children:g.jsxs("div",{className:"movie-modal",children:[g.jsxs("div",{className:"movie-modal__header",children:[g.jsxs("h2",{className:"movie-modal__title",children:["Resear y calificar  ",r.title," ",N&&g.jsxs("span",{className:"movie-modal__year",children:["(",N,")"]})]}),g.jsx("button",{type:"button",className:"movie-modal__close",onClick:()=>x(!1),children:""})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("span",{className:"movie-modal__field-label",children:"Tu puntuacin"}),g.jsx(US,{value:K,onChange:Y=>{J(Y),ue("")}})]}),g.jsxs("div",{children:[g.jsx("span",{className:"movie-modal__field-label",children:"Resea (opcional)"}),g.jsx("textarea",{className:"movie-modal__textarea",rows:5,value:ee,onChange:Y=>{me(Y.target.value),ue("")},placeholder:"Cuntanos qu te pareci la pelcula"}),ge&&g.jsx("p",{className:"text-xs text-red-400 mt-1",children:ge})]}),g.jsxs("div",{className:"movie-modal__footer",children:[g.jsx("button",{type:"button",className:"movie-modal__secondary",onClick:()=>x(!1),children:"Cancelar"}),g.jsx("button",{type:"button",className:"movie-modal__primary",onClick:Z,children:"Guardar"})]})]})}),n&&j&&g.jsx("div",{className:"movie-modal-backdrop",children:g.jsxs("div",{className:`\r
              w-full max-w-3xl\r
              bg-black border border-red-800\r
              p-5 md:p-6\r
              shadow-[0_25px_80px_rgba(0,0,0,1)]\r
            `,style:{borderRadius:0},children:[g.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-red-900 pb-2",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-lg md:text-xl font-semibold",children:["Reseas  ",r.title]}),C!==null&&g.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Puntuacin media"," ",g.jsxs("span",{className:"text-yellow-400 font-semibold",children:[C.toFixed(1),"/5"]})," "," ",m.length," ",m.length===1?"resea":"reseas"]})]}),g.jsx("button",{type:"button",className:"movie-modal__close",onClick:()=>D(!1),children:""})]}),m.length===0?g.jsx("p",{className:"text-sm text-gray-400",children:"Todava no hay reseas para esta pelcula."}):g.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3 pr-1",children:m.map(Y=>{const ve=Y.userName||"Usuario",Re=ve.split(" ").map(Ve=>Ve[0]).join("").slice(0,2).toUpperCase();return g.jsxs("div",{className:"border border-red-900/50 bg-black/70 px-3 py-3 flex gap-3",style:{borderRadius:0},children:[g.jsxs("div",{className:"flex flex-col items-center gap-1 w-16",children:[Y.userPhotoUrl?g.jsx("img",{src:Y.userPhotoUrl,alt:ve,className:"w-10 h-10 rounded-full object-cover border border-red-700"}):g.jsx("div",{className:"w-10 h-10 rounded-full bg-red-800/70 flex items-center justify-center text-xs font-semibold",children:Re}),g.jsx("span",{className:"text-[10px] text-gray-300 text-center line-clamp-2",children:ve})]}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"flex text-yellow-400 text-sm",children:Array.from({length:5}).map((Ve,ne)=>g.jsx("span",{children:ne<Math.round(Y.rating)?"":""},ne))}),g.jsxs("span",{className:"text-xs text-gray-400",children:[Y.rating.toFixed(1),"/5"]})]}),g.jsx("span",{className:"text-[11px] text-gray-500",children:Y.createdAt.toLocaleString()})]}),Y.body&&g.jsx("p",{className:"text-sm mt-1 text-gray-200",children:Y.body})]})]},Y.id)})})]})}),z&&ce&&g.jsx("div",{className:"movie-modal-backdrop",children:g.jsxs("div",{className:"movie-modal max-w-4xl",children:[g.jsxs("div",{className:"movie-modal__header",children:[g.jsxs("h2",{className:"movie-page__title",children:["Triler  ",r.title]}),g.jsx("button",{type:"button",className:"movie-modal__close",onClick:()=>k(!1),children:""})]}),g.jsx("div",{className:"movie-modal__trailer-frame",children:g.jsx("iframe",{src:`https://www.youtube.com/embed/${ce.key}`,title:"Trailer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})]})})]})}function lr({label:i,children:e}){return g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"w-28 text-xs uppercase tracking-[0.18em] text-gray-400",children:i}),g.jsx("div",{className:"flex-1 text-sm text-gray-100",children:e})]})}function EM({photoUrl:i,letter:e}){return i?g.jsx("img",{src:i,alt:e,className:"w-14 h-14 object-cover bg-black border border-red-700"}):g.jsx("div",{className:"w-14 h-14 bg-red-700 flex items-center justify-center text-xl font-bold",children:e})}function Zm({label:i,active:e,onClick:n}){return g.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border-b-2 -mb-px transition text-xs md:text-sm "+(e?"border-red-500 text-white":"border-transparent text-gray-400 hover:text-gray-200 hover:border-red-700"),children:i})}function TM({loading:i,topRated:e,movieById:n,tvById:r,recentReviews:o,avgRating:c,lastWatchMovie:u}){const m=o.length>0?o[0]:null,y=m?m.kind==="movie"?n.get(m.refId):r.get(m.refId):null;let p="";if(m)if(y){const E=y;p=E.title||E.name||(m.kind==="movie"?"Pelcula":"Serie")}else p=m.kind==="movie"?"Pelcula":"Serie";return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("section",{className:"grid sm:grid-cols-3 gap-4 text-xs md:text-sm",children:[g.jsxs("div",{className:"bg-black/80 border border-red-900/80 p-3",children:[g.jsx("div",{className:"text-[10px] uppercase tracking-[0.2em] text-red-400 mb-1",children:"LTIMO AADIDO"}),u?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"font-semibold text-sm line-clamp-2",children:u.movie.title??u.movie.name}),g.jsxs("div",{className:"text-[11px] text-gray-400 mt-1 flex flex-wrap items-center gap-2",children:[u.movie.release_date&&g.jsx("span",{children:u.movie.release_date.slice(0,4)}),g.jsx("span",{children:""}),g.jsxs("span",{children:["Aadido el"," ",u.addedAt.toLocaleDateString()]})]})]}):g.jsx("p",{className:"text-[11px] text-gray-500",children:"Todava no has aadido pelculas a tu watchlist."})]}),g.jsxs("div",{className:"bg-black/80 border border-red-900/80 p-3",children:[g.jsx("div",{className:"text-[10px] uppercase tracking-[0.2em] text-red-400 mb-1",children:"LTIMA RESEA"}),m?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"font-semibold text-sm line-clamp-1",children:p}),g.jsxs("div",{className:"text-[11px] bg-yellow-500 text-black px-1.5 py-[1px] font-semibold",children:[" ",m.rating.toFixed(1)]})]}),g.jsxs("div",{className:"text-[11px] text-gray-400 mt-0.5",children:[y&&y.release_date&&g.jsxs("span",{children:[y.release_date.slice(0,4)," ",""," "]}),new Date(m.createdAt).toLocaleDateString()]}),g.jsx("p",{className:"text-[11px] text-gray-200 mt-1 line-clamp-3",children:m.body||"Sin texto en la resea."})]}):g.jsx("p",{className:"text-[11px] text-gray-500",children:"Todava no has escrito reseas."})]}),g.jsxs("div",{className:"bg-black/80 border border-red-900/80 p-3",children:[g.jsx("div",{className:"text-[10px] uppercase tracking-[0.2em] text-red-400 mb-1",children:"NOTA MEDIA"}),g.jsx("div",{className:"text-2xl font-semibold",children:c!==""?`${c} / 5`:""}),g.jsx("p",{className:"text-[11px] text-gray-400 mt-1",children:"Promedio de tus calificaciones de pelculas."})]})]}),g.jsxs("section",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h2",{className:"text-sm md:text-base font-semibold",children:"Pelculas destacadas"}),g.jsx("span",{className:"text-xs text-gray-500",children:"Ordenado por tu calificacin"})]}),g.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2",children:[i&&g.jsx("div",{className:"text-xs text-gray-400",children:"Cargando datos"}),!i&&e.length===0&&g.jsx("div",{className:"text-xs text-gray-400",children:"An no has calificado pelculas."}),e.map(E=>{const b=n.get(E.movieId);if(!b)return null;const x=(b.release_date||"").slice(0,4);return g.jsxs("a",{href:`#/movie/${E.movieId}`,className:"shelf-card",children:[b.poster_path?g.jsx("img",{src:jo(b.poster_path,"w342"),className:"shelf-card__poster"}):g.jsx("div",{className:"shelf-card__poster bg-gray-800"}),g.jsxs("div",{className:"shelf-card__overlay",children:[g.jsx("div",{className:"shelf-card__title",children:b.title}),g.jsxs("div",{className:"shelf-card__meta",children:[x&&g.jsx("span",{children:x}),g.jsx("span",{children:""}),g.jsxs("span",{children:[" ",E.stars.toFixed(1)]})]})]})]},E.movieId)})]})]})]})}function bM({reviews:i,movieById:e,tvById:n}){const r=i.filter(o=>o.body&&o.body.trim()!=="").sort((o,c)=>new Date(c.createdAt).getTime()-new Date(o.createdAt).getTime());return g.jsxs("section",{className:"space-y-3",children:[r.length===0&&g.jsx("p",{className:"text-sm text-gray-500",children:"Todava no has escrito reseas."}),r.map(o=>{const c=o.kind==="movie"?e.get(o.refId):n.get(o.refId),u=(c?.release_date||c?.first_air_date||"").slice(0,4),m=c?.title||c?.name||(o.kind==="movie"?"Pelcula":"Serie");return g.jsxs("div",{className:"flex gap-3 bg-black/80 border border-red-900/60 p-3",children:[g.jsx("div",{className:"w-12 sm:w-16 flex-shrink-0 bg-gray-800 overflow-hidden",children:c&&c.poster_path&&g.jsx("img",{src:jo(c.poster_path,"w342"),className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"text-xs md:text-sm flex-1",children:[g.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[g.jsxs("span",{children:[m,u&&g.jsxs("span",{className:"text-gray-400 font-normal",children:[" ","(",u,")"]})]}),g.jsxs("span",{className:"text-[11px] bg-yellow-500 text-black px-1.5 py-[1px] font-semibold",children:[" ",o.rating.toFixed(1)]})]}),g.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:new Date(o.createdAt).toLocaleString()}),g.jsx("p",{className:"text-gray-200 whitespace-pre-line",children:o.body})]})]},o.id)})]})}function SM({totalMoviesRated:i,totalReviews:e,totalWatchlist:n,avgRating:r,topGenres:o,ratings:c}){const u=c??[],m=[5,4,3,2,1].map(b=>{const x=u.filter(j=>Math.round(j.stars)===b).length;return{star:b,count:x}}),y=m.reduce((b,x)=>Math.max(b,x.count),0)||1,p={};u.forEach(b=>{const x=b.createdAt.getFullYear();p[x]=(p[x]??0)+1});const E=Object.entries(p).sort((b,x)=>Number(b[0])-Number(x[0]));return g.jsxs("section",{className:"grid md:grid-cols-2 gap-4 text-xs md:text-sm",children:[g.jsxs("div",{className:"bg-black/80 border border-red-900/60 p-4 space-y-1",children:[g.jsx("h3",{className:"font-semibold mb-1",children:"Resumen general"}),g.jsxs("p",{className:"text-gray-300",children:["Pelculas calificadas:"," ",g.jsx("span",{className:"font-semibold",children:i})]}),g.jsxs("p",{className:"text-gray-300",children:["Reseas escritas:"," ",g.jsx("span",{className:"font-semibold",children:e})]}),g.jsxs("p",{className:"text-gray-300",children:["En tu Watchlist:"," ",g.jsx("span",{className:"font-semibold",children:n})]}),g.jsxs("p",{className:"text-gray-300",children:["Nota media:"," ",g.jsx("span",{className:"font-semibold",children:r!==""?`${r} / 5`:""})]})]}),g.jsxs("div",{className:"bg-black/80 border border-red-900/60 p-4",children:[g.jsx("h3",{className:"font-semibold mb-2",children:"Gneros favoritos"}),o.length===0?g.jsx("p",{className:"text-gray-500 text-xs",children:"An no hay suficientes datos de gneros."}):g.jsx("ul",{className:"space-y-2",children:o.map(([b,x])=>g.jsxs("li",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-gray-200",children:b}),g.jsxs("span",{className:"text-gray-400 text-xs",children:[x," ttulos"]})]},b))})]}),g.jsxs("div",{className:"bg-black/80 border border-red-900/60 p-4",children:[g.jsx("h3",{className:"font-semibold mb-2",children:"Distribucin de tus notas"}),i===0?g.jsx("p",{className:"text-gray-500 text-xs",children:"An no has calificado pelculas."}):g.jsx("ul",{className:"space-y-1 mt-1",children:m.map(b=>g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"w-8 text-[11px] text-gray-300",children:[b.star,""]}),g.jsx("div",{className:"flex-1 h-2 bg-white/5",children:g.jsx("div",{className:"h-2 bg-red-600",style:{width:`${b.count/y*100}%`}})}),g.jsx("span",{className:"w-6 text-[11px] text-gray-400 text-right",children:b.count})]},b.star))})]}),g.jsxs("div",{className:"bg-black/80 border border-red-900/60 p-4",children:[g.jsx("h3",{className:"font-semibold mb-2",children:"Actividad por ao"}),E.length===0?g.jsx("p",{className:"text-gray-500 text-xs",children:"An no has registrado calificaciones."}):g.jsx("ul",{className:"space-y-1 mt-1",children:E.map(([b,x])=>g.jsxs("li",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-gray-200",children:b}),g.jsxs("span",{className:"text-gray-400 text-xs",children:[x," calificaciones"]})]},b))})]})]})}function wM(){const{user:i}=$i(),[e,n]=P.useState("summary"),[r,o]=P.useState([]),[c,u]=P.useState([]),[m,y]=P.useState([]),[p,E]=P.useState([]),[b,x]=P.useState(!0);P.useEffect(()=>{if(!i){o([]);return}const A=Vc(Mg(Qg,"reviews"),Yi("userId","==",i.id),Hg("createdAt","desc")),se=Cf(A,he=>{const F=he.docs.map(ae=>{const ce=ae.data();return{id:ae.id,kind:ce.kind,refId:ce.refId,userId:ce.userId,userName:ce.userName??"Usuario annimo",userPhotoUrl:ce.userPhotoUrl??null,rating:ce.rating,body:ce.body??"",createdAt:ce.createdAt?.toDate?.()??new Date}});o(F)});return()=>se()},[i]),P.useEffect(()=>{if(!i){u([]);return}const A=Df(i.id,se=>{u(se)});return()=>A()},[i]),P.useEffect(()=>{if(!i){y([]),E([]),x(!1);return}const A=new Set,se=new Set;if(r.forEach(he=>{he.kind==="movie"?A.add(he.refId):he.kind==="tv"&&se.add(he.refId)}),c.forEach(he=>{he.kind==="movie"?A.add(he.refId):he.kind==="tv"&&se.add(he.refId)}),!A.size&&!se.size){y([]),E([]),x(!1);return}(async()=>{x(!0);try{const[he,F]=await Promise.all([A.size?Yp(Array.from(A)):Promise.resolve([]),se.size?Qp(Array.from(se)):Promise.resolve([])]);y(he),E(F)}finally{x(!1)}})()},[i,r,c]);const j=P.useMemo(()=>{const A=new Map;for(const se of m)A.set(se.id,se);return A},[m]),D=P.useMemo(()=>{const A=new Map;for(const se of p)A.set(se.id,se);return A},[p]);if(!i)return g.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-24 pb-10 text-white",children:"Debes iniciar sesin para ver tu perfil."});const z=i,k=z.name??z.username??z.email??"usuario",K=k.charAt(0).toUpperCase(),J=z.photoURL??null,ee=P.useMemo(()=>r.filter(A=>A.kind==="movie").map(A=>({movieId:A.refId,stars:A.rating,createdAt:A.createdAt})),[r]),me=ee.length,ge=r.length,ue=c.length,I=ee.length>0?(ee.reduce((A,se)=>A+se.stars,0)/ee.length).toFixed(1):"",R=[...ee].sort((A,se)=>se.stars-A.stars).slice(0,5),C=[...r].sort((A,se)=>new Date(se.createdAt).getTime()-new Date(A.createdAt).getTime()).slice(0,5),N=P.useMemo(()=>{const A=c.filter(ae=>ae.kind==="movie");if(!A.length)return null;const he=[...A].sort((ae,ce)=>ce.createdAt.getTime()-ae.createdAt.getTime())[0],F=j.get(he.refId);return F?{movie:F,addedAt:he.createdAt}:null},[c,j]),O={};for(const A of ee){const he=j.get(A.movieId)?.genres;if(he)for(const F of he){const ae=F.name;ae&&(O[ae]=(O[ae]||0)+1)}}const V=Object.entries(O).sort((A,se)=>se[1]-A[1]).slice(0,3);return g.jsxs("div",{className:"profile max-w-6xl mx-auto px-4 pt-24 pb-10 text-white",children:[g.jsxs("header",{className:"profile__header flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(EM,{photoUrl:J,letter:K}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-semibold",children:["@",k]}),g.jsx("p",{className:"text-sm text-gray-400",children:"Tu actividad en FilmVault"})]})]}),g.jsxs("div",{className:"flex gap-3 text-sm",children:[g.jsx(ep,{label:"Pelculas",value:me}),g.jsx(ep,{label:"Reseas",value:ge}),g.jsx(ep,{label:"Watchlist",value:ue})]})]}),g.jsxs("div",{className:"grid lg:grid-cols-[260px,1fr] gap-6",children:[g.jsx("aside",{className:"hidden lg:block"}),g.jsxs("main",{className:"space-y-6 lg:col-span-1",children:[g.jsxs("div",{className:"flex border-b border-red-900/60 text-xs md:text-sm",children:[g.jsx(Zm,{label:"Resumen",active:e==="summary",onClick:()=>n("summary")}),g.jsx(Zm,{label:"Reseas",active:e==="reviews",onClick:()=>n("reviews")}),g.jsx(Zm,{label:"Estadsticas",active:e==="stats",onClick:()=>n("stats")})]}),e==="summary"&&g.jsx(TM,{loading:b,topRated:R,movieById:j,tvById:D,recentReviews:C,avgRating:I,lastWatchMovie:N}),e==="reviews"&&g.jsx(bM,{reviews:r,movieById:j,tvById:D}),e==="stats"&&g.jsx(SM,{totalMoviesRated:me,totalReviews:ge,totalWatchlist:ue,avgRating:I,topGenres:V,ratings:ee})]})]})]})}function ep({label:i,value:e}){return g.jsxs("div",{className:"px-3 py-2 bg-black/80 border border-red-900/70 min-w-[80px] text-center",children:[g.jsx("div",{className:"text-xs text-gray-400",children:i}),g.jsx("div",{className:"text-lg font-semibold",children:e})]})}const ET={all:"Todo",movie:"Pelculas",tv:"Series"},TT={added:"Fecha aadido",title:"Ttulo (A-Z)",year:"Ao"};function AM(){const{user:i}=$i(),[e,n]=P.useState(null),[r,o]=P.useState("added"),[c,u]=P.useState("all"),[m,y]=P.useState("none");P.useEffect(()=>{if(!i){n([]);return}const j=Df(i.id,D=>{if(!D.length){n([]);return}(async()=>{const z=D.filter(ue=>ue.kind==="movie").map(ue=>ue.refId),k=D.filter(ue=>ue.kind==="tv").map(ue=>ue.refId),[K,J]=await Promise.all([z.length?Yp(z):Promise.resolve([]),k.length?Qp(k):Promise.resolve([])]),ee=new Map;K.forEach(ue=>ee.set(ue.id,ue));const me=new Map;J.forEach(ue=>me.set(ue.id,ue));const ge=D.map(ue=>{const I=ue.kind==="movie"?ee.get(ue.refId):me.get(ue.refId);return I?{id:ue.refId,kind:ue.kind,createdAt:ue.createdAt,data:I}:null}).filter(ue=>ue!==null);n(ge)})().catch(z=>{console.error("Error cargando detalles de watchlist:",z),n([])})});return()=>j()},[i]);const p=P.useMemo(()=>{if(!e)return null;let j=[...e];switch(c!=="all"&&(j=j.filter(D=>D.kind===c)),r){case"title":j.sort((D,z)=>(D.data.title||D.data.name||"").localeCompare(z.data.title||z.data.name||"","es",{sensitivity:"base"}));break;case"year":j.sort((D,z)=>{const k=D.data.release_date||D.data.first_air_date||"",K=z.data.release_date||z.data.first_air_date||"",J=parseInt(k.slice(0,4))||0;return(parseInt(K.slice(0,4))||0)-J});break;case"added":default:j.sort((D,z)=>z.createdAt.getTime()-D.createdAt.getTime());break}return j},[e,r,c]),E=p&&p.length>0,b=e?e.filter(j=>j.kind==="movie").length:0,x=e?e.filter(j=>j.kind==="tv").length:0;return i?e===null?g.jsx("div",{className:"watchlist",children:g.jsxs("div",{className:"watchlist__header",children:[g.jsxs("div",{className:"watchlist__intro",children:[g.jsx("h1",{className:"watchlist__title",children:"Tu bveda personal"}),g.jsx("p",{className:"watchlist__subtitle",children:"Cargando tu watchlist"})]}),g.jsx(bT,{sortMode:r,setSortMode:o,filterMode:c,setFilterMode:u,openSelect:m,setOpenSelect:y})]})}):g.jsxs("div",{className:"watchlist",children:[g.jsxs("div",{className:"watchlist__header",children:[g.jsxs("div",{className:"watchlist__intro",children:[g.jsx("h1",{className:"watchlist__title",children:"Tu bveda personal"}),g.jsx("p",{className:"watchlist__subtitle",children:"Todas las pelculas y series que has guardado en Film Vault."}),e&&e.length>0&&g.jsxs("p",{className:"watchlist__stats",children:[b," ",b===1?"pelcula":"pelculas"," "," ",x," ",x===1?"serie":"series"]})]}),g.jsx(bT,{sortMode:r,setSortMode:o,filterMode:c,setFilterMode:u,openSelect:m,setOpenSelect:y})]}),E?g.jsx("div",{className:"watchlist__grid",children:p.map(j=>{const D=j.data,z=(D.release_date||D.first_air_date||"").slice(0,4),k=D.title||D.name,K=D.vote_average?D.vote_average.toFixed(1):"",J=j.kind==="movie"?`/movie/${j.id}`:`/tv/${j.id}`;return g.jsx(Cn,{to:J,className:"watchlist-card",children:g.jsxs("div",{className:"watchlist-card__frame",children:[D.poster_path?g.jsx("img",{className:"watchlist-card__poster",src:jo(D.poster_path)}):g.jsx("div",{className:"watchlist-card__poster watchlist-card__poster--empty"}),g.jsxs("div",{className:"watchlist-card__overlay",children:[g.jsx("div",{className:"watchlist-card__title",children:k}),g.jsxs("div",{className:"watchlist-card__meta",children:[z&&g.jsx("span",{children:z}),K!==""&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:""}),g.jsxs("span",{children:[" ",K]})]}),g.jsx("span",{children:""}),g.jsx("span",{className:"watchlist-card__tag",children:j.kind==="movie"?"PELCULA":"SERIE"})]})]})]})},`${j.kind}-${j.id}`)})}):g.jsx("p",{className:"watchlist__empty",children:"Tu watchlist est vaca. Empieza a aadir pelculas y series desde la Home o la seccin de Series."})]}):g.jsx("div",{className:"watchlist",children:g.jsx("div",{className:"watchlist__header",children:g.jsxs("div",{className:"watchlist__intro",children:[g.jsx("h1",{className:"watchlist__title",children:"Tu bveda personal"}),g.jsx("p",{className:"watchlist__subtitle",children:"Inicia sesin para ver y organizar tu watchlist."})]})})})}function bT({sortMode:i,setSortMode:e,filterMode:n,setFilterMode:r,openSelect:o,setOpenSelect:c}){const u=m=>{c(o===m?"none":m)};return g.jsxs("div",{className:"watchlist__controls",children:[g.jsxs("div",{className:"watchlist__control",children:[g.jsx("span",{className:"watchlist__label",children:"Mostrar"}),g.jsxs("div",{className:"watchlist-select",children:[g.jsxs("button",{type:"button",className:"watchlist-select__button",onClick:()=>u("filter"),children:[g.jsx("span",{children:ET[n]}),g.jsx("span",{className:"watchlist-select__chevron",children:""})]}),o==="filter"&&g.jsx("div",{className:"watchlist-select__menu",children:["all","movie","tv"].map(m=>g.jsx("button",{type:"button",className:"watchlist-select__item"+(n===m?" watchlist-select__item--active":""),onClick:()=>{r(m),c("none")},children:ET[m]},m))})]})]}),g.jsxs("div",{className:"watchlist__control",children:[g.jsx("span",{className:"watchlist__label",children:"Ordenar por"}),g.jsxs("div",{className:"watchlist-select",children:[g.jsxs("button",{type:"button",className:"watchlist-select__button",onClick:()=>u("sort"),children:[g.jsx("span",{children:TT[i]}),g.jsx("span",{className:"watchlist-select__chevron",children:""})]}),o==="sort"&&g.jsx("div",{className:"watchlist-select__menu",children:["added","title","year"].map(m=>g.jsx("button",{type:"button",className:"watchlist-select__item"+(i===m?" watchlist-select__item--active":""),onClick:()=>{e(m),c("none")},children:TT[m]},m))})]})]})]})}const tp={10759:"Accin & Aventura",16:"Animacin",35:"Comedia",80:"Crimen",99:"Documental",18:"Drama",10751:"Familia",10762:"Kids",9648:"Misterio",10763:"Noticias",10764:"Reality",10765:"Sci-Fi & Fantasa",10766:"Telenovela",10767:"Talk Show",10768:"Guerra & Poltica",37:"Western"};function xM(){const{user:i}=$i(),[e,n]=P.useState([]),[r,o]=P.useState([]),[c,u]=P.useState([]),[m,y]=P.useState([]),[p,E]=P.useState("all"),[b,x]=P.useState([]),[j,D]=P.useState([]),[z,k]=P.useState([]);P.useEffect(()=>{(async()=>{const[N,O,V,A]=await Promise.all([iN(),sN(),rN(),aN()]);n(N),o(O),u(V),y(A)})()},[]),P.useEffect(()=>{if(!i){x([]),D([]);return}const N=Df(i.id,O=>{const V=O.filter(A=>A.kind==="tv").map(A=>A.refId);x(V)});return()=>N()},[i]),P.useEffect(()=>{(async()=>{if(!b.length){D([]);return}const O=b.slice(0,40),V=await Qp(O);D(V)})()},[b]),P.useEffect(()=>{if(!i||!j.length){k([]);return}const N=new Map;if(j.forEach(V=>{(V.genre_ids??(Array.isArray(V.genres)?V.genres.map(se=>se.id):[])).forEach(se=>{N.set(se,(N.get(se)??0)+1)})}),!N.size){k([]);return}const O=[...N.entries()].sort((V,A)=>A[1]-V[1]).slice(0,3).map(([V])=>V);k(O)},[i,j]);const K=P.useMemo(()=>{if(!i||!z.length)return[];const N=[...c,...r,...e,...m],O=new Map;N.forEach(he=>{he&&!O.has(he.id)&&O.set(he.id,he)});const V=[...O.values()],A=new Set(j.map(he=>he.id));return V.filter(he=>he&&!A.has(he.id)&&Array.isArray(he.genre_ids)&&he.genre_ids.some(F=>z.includes(F))).slice(0,20)},[i,z,j,c,r,e,m]),J=Object.keys(tp).map(N=>Number(N)),ee=P.useMemo(()=>{const N=[...c,...r,...e],O=new Map;N.forEach(A=>{A&&!O.has(A.id)&&O.set(A.id,A)});const V=[...O.values()];return J.map(A=>{const se=V.filter(he=>Array.isArray(he.genre_ids)?he.genre_ids.includes(A):!1);return{genreId:A,label:tp[A]??"Gnero",items:se.slice(0,20)}})},[c,r,e]),me=P.useMemo(()=>m.slice(0,20),[m]),ge=P.useMemo(()=>{const N="miniserie",O="mini serie";return m.filter(V=>{const A=(V.name||"").toLowerCase(),se=(V.overview||"").toLowerCase();return A.includes(N)||A.includes(O)||se.includes(N)||se.includes(O)}).slice(0,20)},[m]),ue=P.useMemo(()=>{const N=new Date().getFullYear();return m.filter(O=>O.first_air_date?parseInt(String(O.first_air_date).slice(0,4))>=N-1:!1).slice(0,20)},[m]),I=P.useMemo(()=>{if(!m.length)return[];const N=new Map;return m.forEach(V=>{(Array.isArray(V.genre_ids)?V.genre_ids:[]).forEach(se=>{N.set(se,(N.get(se)??0)+1)})}),N.size?[...N.entries()].sort((V,A)=>A[1]-V[1]).slice(0,3).map(([V])=>V).map(V=>{const A=m.filter(se=>Array.isArray(se.genre_ids)&&se.genre_ids.includes(V));return{genreId:V,label:`Tendencias en ${tp[V]??"este gnero"}`,items:A.slice(0,20)}}):[]},[m]),R=async N=>{i&&await If("tv",N,i.id)},C=[{id:"all",label:"Principal"},{id:"genre",label:"Por gnero"},{id:"trend",label:"Tendencias"}];return g.jsxs("div",{className:"home-shelves",children:[g.jsxs("header",{className:"home-shelves__header",children:[g.jsx("h1",{className:"home-shelves__title",children:"Tus bvedas de series"}),g.jsx("p",{className:"home-shelves__subtitle",children:"Descubre qu se est emitiendo ahora, las series ms comentadas, las mejor valoradas y recomendaciones hechas segn tu watchlist."}),g.jsx("div",{className:"home-shelves__chips",children:C.map(N=>g.jsx("button",{className:"home-shelves__chip"+(N.id===p?" home-shelves__chip--active":""),onClick:()=>E(N.id),children:N.label},N.id))})]}),p==="all"&&g.jsxs(g.Fragment,{children:[i&&K.length>0&&g.jsx(Xt,{title:"Recomendadas para ti",items:K,watchlistIds:b,onToggleWatchlist:R,userCanEdit:!!i,kind:"tv"}),g.jsx(Xt,{title:"En emisin ahora",items:e,watchlistIds:b,onToggleWatchlist:R,userCanEdit:!!i,kind:"tv"}),g.jsx(Xt,{title:"Series populares",items:r,watchlistIds:b,onToggleWatchlist:R,userCanEdit:!!i,kind:"tv"}),g.jsx(Xt,{title:"Mejor valoradas",items:c,watchlistIds:b,onToggleWatchlist:R,userCanEdit:!!i,kind:"tv"})]}),p==="genre"&&g.jsx(g.Fragment,{children:ee.map(N=>N.items.length>0&&g.jsx(Xt,{title:N.label,items:N.items,watchlistIds:b,onToggleWatchlist:R,userCanEdit:!!i,kind:"tv"},N.genreId))}),p==="trend"&&g.jsxs(g.Fragment,{children:[me.length>0&&g.jsx(Xt,{title:"Tendencias globales de la semana",items:me,watchlistIds:b,onToggleWatchlist:R,userCanEdit:!!i,kind:"tv"}),ge.length>0&&g.jsx(Xt,{title:"Miniseries en tendencia",items:ge,watchlistIds:b,onToggleWatchlist:R,userCanEdit:!!i,kind:"tv"}),ue.length>0&&g.jsx(Xt,{title:"Estrenos recientes en tendencia",items:ue,watchlistIds:b,onToggleWatchlist:R,userCanEdit:!!i,kind:"tv"}),I.map(N=>N.items.length>0&&g.jsx(Xt,{title:N.label,items:N.items,watchlistIds:b,onToggleWatchlist:R,userCanEdit:!!i,kind:"tv"},N.genreId))]})]})}function ST(){const{id:i}=OT(),e=Number(i),{user:n}=$i(),[r,o]=P.useState(null),[c,u]=P.useState(!1),[m,y]=P.useState([]),[p,E]=P.useState(null),[b,x]=P.useState(!1),[j,D]=P.useState(!1),[z,k]=P.useState(!1),[K,J]=P.useState(0),[ee,me]=P.useState(""),[ge,ue]=P.useState("");P.useEffect(()=>{(async()=>e&&o(await oN(e)))()},[e]),P.useEffect(()=>{if(!n||!e){u(!1);return}const ne=LS("tv",e,n.id,Ue=>u(Ue));return()=>ne()},[n,e]),P.useEffect(()=>{if(!e)return;const ne=BS("tv",e,Ue=>{y(Ue)});return()=>ne()},[e]),P.useEffect(()=>{(async()=>{if(e)try{const ne=await uN(e);E(ne)}catch(ne){console.error("Error cargando providers de TV:",ne),E(null)}})()},[e]);const I=n?m.find(ne=>ne.userId===n.id):void 0,R=I?.rating;if(!r)return g.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8 text-white",children:"Cargando"});const C=m.length>0?m.reduce((ne,Ue)=>ne+Ue.rating,0)/m.length:null,N=(r.first_air_date||"").slice(0,4);let O=null;Array.isArray(r.episode_run_time)&&r.episode_run_time.length&&(O=`${r.episode_run_time[0]} min por episodio`);const V=r.genres?.map(ne=>ne.name)??[],A=Array.isArray(r.created_by)?r.created_by:[],se=r.credits?.crew?.filter(ne=>["Creator","Executive Producer","Showrunner"].includes(ne.job))??[],he=new Map;A.forEach(ne=>{ne&&ne.id!=null&&he.set(ne.id,ne)}),se.forEach(ne=>{ne&&ne.id!=null&&!he.has(ne.id)&&he.set(ne.id,ne)});const F=[...he.values()],ae=F[0],ce=r.credits?.cast??[],Se=ce.slice(0,5),Ae=ce.slice(0,12),L=Array.isArray(r.seasons)?r.seasons.filter(ne=>ne&&ne.season_number!==0):[],Z=r.videos?.results?.find(ne=>ne.site==="YouTube"&&ne.type==="Trailer"&&ne.official)||r.videos?.results?.find(ne=>ne.site==="YouTube"&&ne.type==="Trailer"),fe=r.backdrop_path||(r.images?.backdrops?.[0]?.file_path??null),Y=async()=>{!n||!e||await If("tv",e,n.id)},ve=()=>{n&&(ue(""),J(R??0),me(I?.body??""),x(!0))},Re=async()=>{if(!n||!e)return;if(!K||K<=0){ue("Primero selecciona una puntuacin (al menos 1 estrella).");return}const ne=oc.currentUser,Ue=ne?.displayName||(ne?.email?ne.email.split("@")[0]:"")||"Usuario",Kn=ne?.photoURL??null;try{await FS("tv",e,{userId:n.id,userName:Ue,userPhotoUrl:Kn,rating:K,body:ee.trim()}),x(!1)}catch(Xn){console.error(Xn),ue("No se pudo guardar tu resea. Intenta de nuevo.")}},Ve=!!p&&((p.flatrate?.length??0)>0||(p.rent?.length??0)>0||(p.buy?.length??0)>0);return g.jsxs("div",{className:"movie-page",children:[g.jsxs("section",{className:"movie-page__hero",children:[fe&&g.jsx("div",{className:"movie-page__hero-bg",style:{backgroundImage:`url(https://image.tmdb.org/t/p/original${fe})`}}),g.jsx("div",{className:"movie-page__hero-overlay"}),g.jsxs("div",{className:"movie-page__hero-inner",children:[g.jsx("div",{className:"movie-page__poster-wrapper",children:r.poster_path&&g.jsx("img",{src:jo(r.poster_path,"w500"),className:"movie-page__poster",alt:r.name})}),g.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"movie-page__title",children:[r.name," ",N&&g.jsxs("span",{className:"text-gray-300 font-normal",children:["(",N,")"]})]}),g.jsxs("div",{className:"movie-page__meta-line",children:[N&&g.jsx("span",{children:N}),O&&g.jsx("span",{children:O}),r.vote_average&&g.jsxs(g.Fragment,{children:[g.jsxs("span",{children:[" ",r.vote_average.toFixed(1)]}),r.vote_count&&g.jsxs("span",{children:[r.vote_count.toLocaleString()," votos"]})]})]}),V.length>0&&g.jsx("div",{className:"movie-page__genres",children:V.map(ne=>g.jsx("span",{className:"movie-page__genre-pill",children:ne},ne))}),r.tagline&&g.jsxs("p",{className:"movie-page__tagline mt-2",children:["",r.tagline,""]}),g.jsx("p",{className:"movie-page__overview mt-2",children:r.overview}),g.jsxs("p",{className:"mt-3 text-xs text-gray-300",children:[g.jsx("span",{className:"font-semibold text-gray-100",children:"Creador principal:"})," ",ae?ae.name:""]}),Se.length>0&&g.jsxs("p",{className:"mt-1 text-xs text-gray-300",children:[g.jsx("span",{className:"font-semibold text-gray-100",children:"Protagonizada por:"})," ",Se.map(ne=>ne.name).join(", ")]})]}),g.jsxs("div",{className:"movie-page__actions",children:[Z&&g.jsx("button",{type:"button",className:"movie-page__play-btn",onClick:()=>k(!0),children:" Ver triler"}),n&&g.jsx("button",{type:"button",onClick:Y,className:"movie-page__secondary-btn "+(c?"border-yellow-400 text-yellow-300":""),children:c?" En tu Watchlist":"+ Aadir a Watchlist"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:n?g.jsxs(g.Fragment,{children:[g.jsx("button",{type:"button",className:"movie-page__review-btn",onClick:ve,children:"Resear o calificar"}),g.jsx("button",{type:"button",className:"movie-page__ghost-btn",onClick:()=>D(!0),children:"Leer reseas"})]}):g.jsx("span",{className:"text-xs text-gray-300",children:"Inicia sesin para puntuar y leer reseas."})})]})]})]})]}),g.jsxs("div",{className:"movie-page__body",children:[g.jsxs("section",{className:"movie-page__details-grid",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx(cr,{label:"Gnero",children:V.length?V.join(", "):""}),g.jsx(cr,{label:"Creadores",children:F.length?F.map(ne=>ne.name).join("  "):""}),g.jsx(cr,{label:"Reparto principal",children:Se.length?Se.map(ne=>ne.name).join("  "):""}),g.jsx(cr,{label:"Estado",children:r.status||""})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(cr,{label:"Primera emisin",children:r.first_air_date||""}),g.jsx(cr,{label:"ltima emisin",children:r.last_air_date||""}),g.jsx(cr,{label:"Temporadas",children:r.number_of_seasons??""}),g.jsx(cr,{label:"Episodios",children:r.number_of_episodes??""})]})]}),Ve&&g.jsxs("section",{className:"mt-10",children:[g.jsx("h2",{className:"movie-page__section-title",children:"Dnde ver"}),g.jsxs("div",{className:"space-y-4 text-sm",children:[p?.flatrate?.length?g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-300 mb-1 uppercase tracking-[0.16em] text-xs",children:"Suscripcin"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:p.flatrate.map(ne=>g.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 border border-white/10 text-xs rounded-full",children:[ne.logoPath&&g.jsx("img",{src:`https://image.tmdb.org/t/p/w45${ne.logoPath}`,alt:ne.providerName,className:"w-6 h-6 rounded"}),g.jsx("span",{children:ne.providerName})]},ne.providerId))})]}):null,p?.rent?.length?g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-300 mb-1 uppercase tracking-[0.16em] text-xs",children:"Alquiler digital"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:p.rent.map(ne=>g.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 border border-white/10 text-xs rounded-full",children:[ne.logoPath&&g.jsx("img",{src:`https://image.tmdb.org/t/p/w45${ne.logoPath}`,alt:ne.providerName,className:"w-6 h-6 rounded"}),g.jsx("span",{children:ne.providerName})]},ne.providerId))})]}):null,p?.buy?.length?g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-300 mb-1 uppercase tracking-[0.16em] text-xs",children:"Compra digital"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:p.buy.map(ne=>g.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 border border-white/10 text-xs rounded-full",children:[ne.logoPath&&g.jsx("img",{src:`https://image.tmdb.org/t/p/w45${ne.logoPath}`,alt:ne.providerName,className:"w-6 h-6 rounded"}),g.jsx("span",{children:ne.providerName})]},ne.providerId))})]}):null]})]}),Ae.length>0&&g.jsxs("section",{className:"shelf mt-10",children:[g.jsx("h2",{className:"shelf__title",children:"Reparto principal"}),g.jsx("div",{className:"shelf__scroller",children:Ae.map(ne=>g.jsxs("div",{className:"shelf-card",children:[ne.profile_path?g.jsx("img",{src:`https://image.tmdb.org/t/p/w185${ne.profile_path}`,alt:ne.name,className:"shelf-card__poster"}):g.jsx("div",{className:"shelf-card__poster bg-gray-800 flex items-center justify-center text-[11px] text-gray-500",children:"Sin foto"}),g.jsxs("div",{className:"shelf-card__overlay",children:[g.jsx("div",{className:"shelf-card__title",children:ne.name}),g.jsx("div",{className:"shelf-card__meta",children:ne.character&&g.jsxs("span",{children:["como ",ne.character]})})]})]},ne.id))})]}),L.length>0&&g.jsxs("section",{className:"shelf mt-10",children:[g.jsx("h2",{className:"shelf__title",children:"Temporadas"}),g.jsx("div",{className:"shelf__scroller",children:L.map(ne=>g.jsxs("div",{className:"shelf-card",children:[ne.poster_path?g.jsx("img",{src:`https://image.tmdb.org/t/p/w185${ne.poster_path}`,alt:ne.name,className:"shelf-card__poster"}):g.jsx("div",{className:"shelf-card__poster bg-gray-800 flex items-center justify-center text-[11px] text-gray-500",children:"Sin pster"}),g.jsxs("div",{className:"shelf-card__overlay",children:[g.jsx("div",{className:"shelf-card__title",children:ne.name}),g.jsxs("div",{className:"shelf-card__meta",children:[typeof ne.episode_count=="number"&&g.jsxs("span",{children:[ne.episode_count," episodios"]}),ne.air_date&&g.jsxs("span",{children:[" "," ",String(ne.air_date).slice(0,4)]})]})]})]},ne.id??ne.season_number))})]})]}),n&&b&&g.jsx("div",{className:"movie-modal-backdrop",children:g.jsxs("div",{className:"movie-modal",children:[g.jsxs("div",{className:"movie-modal__header",children:[g.jsxs("h2",{className:"movie-modal__title",children:["Resear y calificar  ",r.name," ",N&&g.jsxs("span",{className:"movie-modal__year",children:["(",N,")"]})]}),g.jsx("button",{type:"button",className:"movie-modal__close",onClick:()=>x(!1),children:""})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("span",{className:"movie-modal__field-label",children:"Tu puntuacin"}),g.jsx(US,{value:K,onChange:ne=>{J(ne),ue("")}})]}),g.jsxs("div",{children:[g.jsx("span",{className:"movie-modal__field-label",children:"Resea (opcional)"}),g.jsx("textarea",{className:"movie-modal__textarea",rows:5,value:ee,onChange:ne=>{me(ne.target.value),ue("")},placeholder:"Cuntanos qu te pareci la serie"}),ge&&g.jsx("p",{className:"text-xs text-red-400 mt-1",children:ge})]}),g.jsxs("div",{className:"movie-modal__footer",children:[g.jsx("button",{type:"button",className:"movie-modal__secondary",onClick:()=>x(!1),children:"Cancelar"}),g.jsx("button",{type:"button",className:"movie-modal__primary",onClick:Re,children:"Guardar"})]})]})}),n&&j&&g.jsx("div",{className:"movie-modal-backdrop",children:g.jsxs("div",{className:`\r
              w-full max-w-3xl\r
              bg-black border border-red-800\r
              p-5 md:p-6\r
              shadow-[0_25px_80px_rgba(0,0,0,1)]\r
            `,style:{borderRadius:0},children:[g.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-red-900 pb-2",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-lg md:text-xl font-semibold",children:["Reseas  ",r.name]}),C!==null&&g.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Puntuacin media"," ",g.jsxs("span",{className:"text-yellow-400 font-semibold",children:[C.toFixed(1),"/5"]})," "," ",m.length," ",m.length===1?"resea":"reseas"]})]}),g.jsx("button",{type:"button",className:"movie-modal__close",onClick:()=>D(!1),children:""})]}),m.length===0?g.jsx("p",{className:"text-sm text-gray-400",children:"Todava no hay reseas para esta serie."}):g.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3 pr-1",children:m.map(ne=>{const Ue=ne.userName||"Usuario",Kn=Ue.split(" ").map(Xn=>Xn[0]).join("").slice(0,2).toUpperCase();return g.jsxs("div",{className:"border border-red-900/50 bg-black/70 px-3 py-3 flex gap-3",style:{borderRadius:0},children:[g.jsxs("div",{className:"flex flex-col items-center gap-1 w-16",children:[ne.userPhotoUrl?g.jsx("img",{src:ne.userPhotoUrl,alt:Ue,className:"w-10 h-10 rounded-full object-cover border border-red-700"}):g.jsx("div",{className:"w-10 h-10 rounded-full bg-red-800/70 flex items-center justify-center text-xs font-semibold",children:Kn}),g.jsx("span",{className:"text-[10px] text-gray-300 text-center line-clamp-2",children:Ue})]}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"flex text-yellow-400 text-sm",children:Array.from({length:5}).map((Xn,Wi)=>g.jsx("span",{children:Wi<Math.round(ne.rating)?"":""},Wi))}),g.jsxs("span",{className:"text-xs text-gray-400",children:[ne.rating.toFixed(1),"/5"]})]}),g.jsx("span",{className:"text-[11px] text-gray-500",children:ne.createdAt.toLocaleString()})]}),ne.body&&g.jsx("p",{className:"text-sm mt-1 text-gray-200",children:ne.body})]})]},ne.id)})})]})}),z&&Z&&g.jsx("div",{className:"movie-modal-backdrop",children:g.jsxs("div",{className:"movie-modal max-w-4xl",children:[g.jsxs("div",{className:"movie-modal__header",children:[g.jsxs("h2",{className:"movie-page__title",children:["Triler  ",r.name]}),g.jsx("button",{type:"button",className:"movie-modal__close",onClick:()=>k(!1),children:""})]}),g.jsx("div",{className:"movie-modal__trailer-frame",children:g.jsx("iframe",{src:`https://www.youtube.com/embed/${Z.key}`,title:"Trailer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})]})})]})}function cr({label:i,children:e}){return g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"w-28 text-xs uppercase tracking-[0.18em] text-gray-400",children:i}),g.jsx("div",{className:"flex-1 text-sm text-gray-100",children:e})]})}const RM="/Film-Vault/assets/filmvault-logo-DDdcrNuR.png",NM="/Film-Vault/assets/filmvault-logo-red-B0i3vox9.png",CM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABDCAYAAADHyrhzAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuNzhiNzYzOCwgMjAyNS8wMi8xMS0xOToxMDowOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI2LjUgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNS0xMS0xNVQwNDoxNjo1MS0wNTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjUtMTEtMTVUMDQ6MjI6MDctMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjUtMTEtMTVUMDQ6MjI6MDctMDU6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmMxMmU3ZmQ0LTNhMDctYTM0ZS1iNWJlLWYzZDdkMGZmMTIxZCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmE2ODYyMDY0LWRmMzItMjY0My1hYzAyLTljZWFjZWM0OWNhNyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmNiN2JjMjIwLThiNzMtOTk0Yi1iNTdmLTVhMjQ4YmJlMWNmNiI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Y2I3YmMyMjAtOGI3My05OTRiLWI1N2YtNWEyNDhiYmUxY2Y2IiBzdEV2dDp3aGVuPSIyMDI1LTExLTE1VDA0OjE2OjUxLTA1OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjYuNSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzEyZTdmZDQtM2EwNy1hMzRlLWI1YmUtZjNkN2QwZmYxMjFkIiBzdEV2dDp3aGVuPSIyMDI1LTExLTE1VDA0OjIyOjA3LTA1OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjYuNSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+PVetmwAAAsNJREFUeJztm8Ft2zAUQJ8MX6KTCkQXnuwNlAkab+Bs4E7gdoKgEzSdIO4E8QbOBvYG8SW66KKTrupBNMqqTCPJZCIyfIAAmxL46QfaJr++orquCTRM3nsAYyLIUAgyFIIMhSBDIchQCDIUpuqbPE5nwAr4/B6D+Q8H4JeoioPNINFp0ZXH6Q/gq81gBrgTVfHNVudRXdfkcXpPMyNcYCuq4sZGx5M8Tpe4IwJgmcfpykbH0fPF5R7IWu1HeYyBmTxUjqIq5qYDRc8Xl+2d2qOoioXpQOeQx+kDsGw1fxJVUZqMo/tr/WkygCF0Y8pMB9HJKE0HcYWw6FIIMhSmr1/iDnIFPQMOQ35cvZkZcu3xBOyApzxOs759eCMDWCuvE2DXV4hPMtok9BTik4zvmraEHkJckVG+1iaqYgt80VyX0FGIEzJkHmOrNG10uQ1RFRvOEOKEDAC5bb8CrkRV6D7w6boNA4U4IwOaGdIl2zVUiFMy+jBEiLcyoL8Qr2VAPyHey4DuQqxs1GTntzLYmCj5d0wJjZCFcRl5nCY0m6V20DGTADsbX5MMt0ScSIzLEFXxiJupw6Ot5M6Ccf5mZOjHVAI3VmTIVaKVu15Dkcmfa82pEliIqjh8iL9WKeJec6pEioAPsM7oKgI8l9FHBHgso68IcExGHqdZl4zVEBHgkAx583kP7GU9yUvXrRggAhyRkcfpNX/fhV/pZsg5IsARGS+QqG9k0c1gEeC2jDa3mraSjiLALxltSnqIAL9kqAUtJT1FgEcyZDZrTrNJnA+pGfWqJEFUxZEzCvO8mRkmCDIUdDKStx7EWNDJWMuk7phYa9oOpoOECmGFKU2Rx0OHAYwJXWHK2UxkkcfGRueW2Mo1hXEmALLe4c5GAMPc2Xq8ApSHbyA8iRSFx7//EBZdCkGGQpChEGQoBBkKQYZCkKHwG0gnCYS4BSqUAAAAAElFTkSuQmCC";function IM(){const{user:i,logout:e}=$i(),n=Xi(),r=Do(),o=n.pathname==="/",c=n.pathname==="/login",u=n.pathname==="/signup",m=c||u,y=o||m?RM:NM,p=n.pathname.startsWith("/explore")||n.pathname.startsWith("/movie"),E=n.pathname.startsWith("/series")||n.pathname.startsWith("/tv"),b=n.pathname.startsWith("/watchlist"),[x,j]=P.useState(!1);P.useEffect(()=>{let R=window.scrollY;const C=()=>{const N=window.scrollY;N>R&&N>50?j(!0):j(!1),R=N};return window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)},[]);const[D,z]=P.useState(""),[k,K]=P.useState([]),[J,ee]=P.useState(!1),me=P.useRef(null),ge=R=>{if(z(R),!R.trim()){K([]),ee(!1);return}me.current!==null&&window.clearTimeout(me.current),me.current=window.setTimeout(async()=>{const C=await K2(R);K(C.results?.slice(0,5)??[]),ee(!0)},250)},ue=R=>{R.preventDefault();const C=D.trim();C&&(r(`/explore?query=${encodeURIComponent(C)}`),ee(!1))},I=async()=>{await e(),r("/")};return g.jsx("nav",{className:`fv-header ${x?"fv-header--hidden":""}`,children:g.jsxs("div",{className:"fv-header__inner",children:[g.jsx(Cn,{to:i?"/explore":"/",className:"fv-header__logo",children:g.jsx("img",{src:y,alt:"Film Vault",className:"fv-header__logo-image"})}),m?g.jsx("div",{className:"fv-header__spacer"}):o?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fv-header__spacer"}),!i&&g.jsx(Cn,{to:"/login",className:"fv-header__menu-link fv-header__menu-link--primary",children:"Iniciar sesin"})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"fv-header__menu",children:[g.jsx(Cn,{to:"/explore",className:"fv-header__menu-link fv-header__menu-link--primary"+(p?" fv-header__menu-link--active":""),children:"Pelculas"}),g.jsx(Cn,{to:"/series",className:"fv-header__menu-link"+(E?" fv-header__menu-link--active":""),children:"Series"}),g.jsx(Cn,{to:"/watchlist",className:"fv-header__menu-link"+(b?" fv-header__menu-link--active":""),children:"Watchlist"})]}),g.jsxs("div",{className:"fv-search",children:[g.jsxs("form",{onSubmit:ue,className:"fv-search__field",children:[g.jsx("span",{className:"fv-search__icon",children:""}),g.jsx("input",{value:D,onChange:R=>ge(R.target.value),placeholder:"Buscar",className:"fv-search__input",onFocus:()=>D&&ee(!0)})]}),J&&k.length>0&&g.jsx("div",{className:"fv-search__panel",children:k.map(R=>g.jsxs("div",{className:"fv-search__item",onClick:()=>{r(`/movie/${R.id}`),z(""),K([]),ee(!1)},children:[R.poster_path?g.jsx("img",{src:`https://image.tmdb.org/t/p/w92${R.poster_path}`,className:"fv-search__thumb"}):g.jsx("div",{className:"fv-search__thumb"}),g.jsxs("div",{children:[g.jsx("div",{className:"fv-search__title",children:R.title}),R.release_date&&g.jsx("div",{className:"fv-search__year",children:R.release_date.slice(0,4)})]})]},R.id))})]}),g.jsx("div",{className:"fv-header__spacer"}),i?g.jsxs("div",{className:"fv-header__user",children:[g.jsx(Cn,{to:"/me",className:"fv-header__avatar-wrapper",children:i.avatarUrl&&g.jsx("img",{src:i.avatarUrl,className:"fv-header__avatar"})}),g.jsx("button",{onClick:I,"aria-label":"Cerrar sesin",className:"fv-header__logout",children:g.jsx("img",{src:CM,className:"w-5 h-5",alt:"logout"})})]}):g.jsx(Cn,{to:"/login",className:"fv-header__menu-link fv-header__menu-link--primary",children:"Iniciar sesin"})]})]})})}function DM(){const i=new Date().getFullYear();return g.jsx("footer",{className:"border-t border-red-900/60 bg-black/90 text-xs text-gray-400",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{className:"text-sm font-semibold text-white",children:"FilmVault"}),g.jsx("p",{className:"text-[11px] text-gray-500",children:"El lugar donde vive tu cine."})]}),g.jsx("div",{className:"flex flex-wrap gap-4 items-center text-[11px]",children:g.jsxs("span",{className:"text-gray-600",children:[" ",i," FilmVault"]})})]})})}function OM(){const i=Xi(),e=i.pathname==="/",n=i.pathname==="/explore",r=e||n;return g.jsxs("div",{className:"fv-app-bg min-h-screen flex flex-col",children:[g.jsx(IM,{}),g.jsx("main",{className:`${r?"":"pt-16"} flex-1`,children:g.jsx(Tx,{})}),!e&&g.jsx(DM,{})]})}function MM(){const{user:i}=$i();return g.jsx(Sx,{children:g.jsxs(qn,{element:g.jsx(OM,{}),children:[g.jsx(qn,{index:!0,element:g.jsx(gR,{})}),g.jsx(qn,{path:"explore",element:g.jsx(pM,{})}),g.jsx(qn,{path:"movie/:id",element:g.jsx(vM,{})}),g.jsx(qn,{path:"series",element:g.jsx(xM,{})}),g.jsx(qn,{path:"tv/:id",element:g.jsx(ST,{})}),g.jsx(qn,{path:"series/:id",element:g.jsx(ST,{})}),g.jsx(qn,{path:"login",element:i?g.jsx(hh,{to:"/explore"}):g.jsx(gM,{})}),g.jsx(qn,{path:"signup",element:i?g.jsx(hh,{to:"/explore"}):g.jsx(yM,{})}),g.jsx(qn,{path:"me",element:i?g.jsx(wM,{}):g.jsx(hh,{to:"/login"})}),g.jsx(qn,{path:"watchlist",element:i?g.jsx(AM,{}):g.jsx(hh,{to:"/login"})})]})})}IA.createRoot(document.getElementById("root")).render(g.jsx(bA.StrictMode,{children:g.jsx(Yx,{children:g.jsx(mM,{children:g.jsx(MM,{})})})}));
